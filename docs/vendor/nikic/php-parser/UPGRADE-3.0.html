<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hello VuePress</title>
    <meta name="description" content="Just playing around">
    <link rel="icon" href="https://static.calibur.tv/favicon.ico">
    
    <link rel="preload" href="Laputa/assets/css/0.styles.21b3d02c.css" as="style"><link rel="preload" href="Laputa/assets/js/app.6f999ec1.js" as="script"><link rel="preload" href="Laputa/assets/js/108.6ab1e942.js" as="script"><link rel="prefetch" href="Laputa/assets/js/127.5d5c2a9e.js"><link rel="prefetch" href="Laputa/assets/js/2.cda51ec0.js"><link rel="prefetch" href="Laputa/assets/js/3.a88ade89.js"><link rel="prefetch" href="Laputa/assets/js/4.f0a47b5a.js"><link rel="prefetch" href="Laputa/assets/js/5.eb4e2f15.js"><link rel="prefetch" href="Laputa/assets/js/6.ae349cfe.js"><link rel="prefetch" href="Laputa/assets/js/7.d8abf350.js"><link rel="prefetch" href="Laputa/assets/js/8.7660bbc3.js"><link rel="prefetch" href="Laputa/assets/js/9.9282dabe.js"><link rel="prefetch" href="Laputa/assets/js/10.ea22ba46.js"><link rel="prefetch" href="Laputa/assets/js/11.ed71705a.js"><link rel="prefetch" href="Laputa/assets/js/12.bab571ae.js"><link rel="prefetch" href="Laputa/assets/js/13.78fc55ea.js"><link rel="prefetch" href="Laputa/assets/js/14.765cca5f.js"><link rel="prefetch" href="Laputa/assets/js/15.7f1ee911.js"><link rel="prefetch" href="Laputa/assets/js/16.1de690fb.js"><link rel="prefetch" href="Laputa/assets/js/17.0c9bcfe7.js"><link rel="prefetch" href="Laputa/assets/js/18.4ea1b5ec.js"><link rel="prefetch" href="Laputa/assets/js/19.8c8f8b57.js"><link rel="prefetch" href="Laputa/assets/js/20.9129a22f.js"><link rel="prefetch" href="Laputa/assets/js/21.b84b104e.js"><link rel="prefetch" href="Laputa/assets/js/22.fe164d26.js"><link rel="prefetch" href="Laputa/assets/js/23.dee79d2c.js"><link rel="prefetch" href="Laputa/assets/js/24.7a76775e.js"><link rel="prefetch" href="Laputa/assets/js/25.57b548b0.js"><link rel="prefetch" href="Laputa/assets/js/26.22bea336.js"><link rel="prefetch" href="Laputa/assets/js/27.f372908a.js"><link rel="prefetch" href="Laputa/assets/js/28.7c33523e.js"><link rel="prefetch" href="Laputa/assets/js/29.0b631070.js"><link rel="prefetch" href="Laputa/assets/js/30.fde1b56c.js"><link rel="prefetch" href="Laputa/assets/js/31.19440d0b.js"><link rel="prefetch" href="Laputa/assets/js/32.09c05419.js"><link rel="prefetch" href="Laputa/assets/js/33.f24b2fa1.js"><link rel="prefetch" href="Laputa/assets/js/34.704234d2.js"><link rel="prefetch" href="Laputa/assets/js/35.3538aa16.js"><link rel="prefetch" href="Laputa/assets/js/36.9fd936b8.js"><link rel="prefetch" href="Laputa/assets/js/37.029a950c.js"><link rel="prefetch" href="Laputa/assets/js/38.ca2d406b.js"><link rel="prefetch" href="Laputa/assets/js/39.6d640b65.js"><link rel="prefetch" href="Laputa/assets/js/40.da4aa4d2.js"><link rel="prefetch" href="Laputa/assets/js/41.15815f6e.js"><link rel="prefetch" href="Laputa/assets/js/42.87b4655d.js"><link rel="prefetch" href="Laputa/assets/js/43.87956add.js"><link rel="prefetch" href="Laputa/assets/js/44.ed836e06.js"><link rel="prefetch" href="Laputa/assets/js/45.f6149b9c.js"><link rel="prefetch" href="Laputa/assets/js/46.57e569c9.js"><link rel="prefetch" href="Laputa/assets/js/47.53bc0ff4.js"><link rel="prefetch" href="Laputa/assets/js/48.e16402f6.js"><link rel="prefetch" href="Laputa/assets/js/49.ef4b9870.js"><link rel="prefetch" href="Laputa/assets/js/50.97b2795a.js"><link rel="prefetch" href="Laputa/assets/js/51.1df1f3d1.js"><link rel="prefetch" href="Laputa/assets/js/52.727e7778.js"><link rel="prefetch" href="Laputa/assets/js/53.f8356a1e.js"><link rel="prefetch" href="Laputa/assets/js/54.8f15ada1.js"><link rel="prefetch" href="Laputa/assets/js/55.fc41623e.js"><link rel="prefetch" href="Laputa/assets/js/56.b65567d0.js"><link rel="prefetch" href="Laputa/assets/js/57.3cb52983.js"><link rel="prefetch" href="Laputa/assets/js/58.ff69625f.js"><link rel="prefetch" href="Laputa/assets/js/59.b99f5762.js"><link rel="prefetch" href="Laputa/assets/js/60.b7c53f3f.js"><link rel="prefetch" href="Laputa/assets/js/61.2757576d.js"><link rel="prefetch" href="Laputa/assets/js/62.5d25765e.js"><link rel="prefetch" href="Laputa/assets/js/63.a6b7406e.js"><link rel="prefetch" href="Laputa/assets/js/64.7bba8fd1.js"><link rel="prefetch" href="Laputa/assets/js/65.6e593ebf.js"><link rel="prefetch" href="Laputa/assets/js/66.b926ddd2.js"><link rel="prefetch" href="Laputa/assets/js/67.c8c69cd3.js"><link rel="prefetch" href="Laputa/assets/js/68.cb4bb5cb.js"><link rel="prefetch" href="Laputa/assets/js/69.a7b09174.js"><link rel="prefetch" href="Laputa/assets/js/70.02c49833.js"><link rel="prefetch" href="Laputa/assets/js/71.1c53c636.js"><link rel="prefetch" href="Laputa/assets/js/72.bb0f586e.js"><link rel="prefetch" href="Laputa/assets/js/73.aa250a71.js"><link rel="prefetch" href="Laputa/assets/js/74.fcd8312b.js"><link rel="prefetch" href="Laputa/assets/js/75.ee561d5e.js"><link rel="prefetch" href="Laputa/assets/js/76.8d6c7d11.js"><link rel="prefetch" href="Laputa/assets/js/77.3c5c7747.js"><link rel="prefetch" href="Laputa/assets/js/78.0afb8d36.js"><link rel="prefetch" href="Laputa/assets/js/79.e09176dc.js"><link rel="prefetch" href="Laputa/assets/js/80.6add3555.js"><link rel="prefetch" href="Laputa/assets/js/81.46dfeac8.js"><link rel="prefetch" href="Laputa/assets/js/82.8c7bae69.js"><link rel="prefetch" href="Laputa/assets/js/83.3c1031f4.js"><link rel="prefetch" href="Laputa/assets/js/84.5414c057.js"><link rel="prefetch" href="Laputa/assets/js/85.434414f7.js"><link rel="prefetch" href="Laputa/assets/js/86.032ff5b5.js"><link rel="prefetch" href="Laputa/assets/js/87.1387e175.js"><link rel="prefetch" href="Laputa/assets/js/88.ef068175.js"><link rel="prefetch" href="Laputa/assets/js/89.3c86a439.js"><link rel="prefetch" href="Laputa/assets/js/90.7b4ceab8.js"><link rel="prefetch" href="Laputa/assets/js/91.993029ce.js"><link rel="prefetch" href="Laputa/assets/js/92.cd0f0552.js"><link rel="prefetch" href="Laputa/assets/js/93.2ea5e4ed.js"><link rel="prefetch" href="Laputa/assets/js/94.d77f771e.js"><link rel="prefetch" href="Laputa/assets/js/95.bfb1166d.js"><link rel="prefetch" href="Laputa/assets/js/96.d656aebb.js"><link rel="prefetch" href="Laputa/assets/js/97.8d318516.js"><link rel="prefetch" href="Laputa/assets/js/98.836a48cc.js"><link rel="prefetch" href="Laputa/assets/js/99.90560d29.js"><link rel="prefetch" href="Laputa/assets/js/100.a889b1b9.js"><link rel="prefetch" href="Laputa/assets/js/101.92c2d09f.js"><link rel="prefetch" href="Laputa/assets/js/102.41e8fe4c.js"><link rel="prefetch" href="Laputa/assets/js/103.1e7ebc3c.js"><link rel="prefetch" href="Laputa/assets/js/104.9b5e097e.js"><link rel="prefetch" href="Laputa/assets/js/105.664970bd.js"><link rel="prefetch" href="Laputa/assets/js/106.61b9108e.js"><link rel="prefetch" href="Laputa/assets/js/107.fffe8d0f.js"><link rel="prefetch" href="Laputa/assets/js/109.df13f020.js"><link rel="prefetch" href="Laputa/assets/js/110.3ee4fa68.js"><link rel="prefetch" href="Laputa/assets/js/111.b836e8af.js"><link rel="prefetch" href="Laputa/assets/js/112.a83b7d02.js"><link rel="prefetch" href="Laputa/assets/js/113.ded87a86.js"><link rel="prefetch" href="Laputa/assets/js/114.297ad3a1.js"><link rel="prefetch" href="Laputa/assets/js/115.544749de.js"><link rel="prefetch" href="Laputa/assets/js/116.a8d4b51b.js"><link rel="prefetch" href="Laputa/assets/js/117.4f44196d.js"><link rel="prefetch" href="Laputa/assets/js/118.89df9a9d.js"><link rel="prefetch" href="Laputa/assets/js/119.2dba598a.js"><link rel="prefetch" href="Laputa/assets/js/120.fc3b4984.js"><link rel="prefetch" href="Laputa/assets/js/121.9fdd6483.js"><link rel="prefetch" href="Laputa/assets/js/122.b56010ca.js"><link rel="prefetch" href="Laputa/assets/js/123.41518099.js"><link rel="prefetch" href="Laputa/assets/js/124.2353c219.js"><link rel="prefetch" href="Laputa/assets/js/125.16055535.js"><link rel="prefetch" href="Laputa/assets/js/126.9edc34c6.js"><link rel="prefetch" href="Laputa/assets/js/128.483176b9.js"><link rel="prefetch" href="Laputa/assets/js/129.d0a84feb.js"><link rel="prefetch" href="Laputa/assets/js/130.e8a23474.js"><link rel="prefetch" href="Laputa/assets/js/131.46723320.js"><link rel="prefetch" href="Laputa/assets/js/132.a9d65b65.js"><link rel="prefetch" href="Laputa/assets/js/133.565a1e84.js"><link rel="prefetch" href="Laputa/assets/js/134.9a13e04e.js"><link rel="prefetch" href="Laputa/assets/js/135.c29729f1.js"><link rel="prefetch" href="Laputa/assets/js/136.1e528d9b.js"><link rel="prefetch" href="Laputa/assets/js/137.ae8b404d.js"><link rel="prefetch" href="Laputa/assets/js/138.be0e6cbb.js"><link rel="prefetch" href="Laputa/assets/js/139.237416e3.js"><link rel="prefetch" href="Laputa/assets/js/140.4ab9ca1a.js"><link rel="prefetch" href="Laputa/assets/js/141.74e2f092.js"><link rel="prefetch" href="Laputa/assets/js/142.0ecb3a43.js"><link rel="prefetch" href="Laputa/assets/js/143.be6d4143.js"><link rel="prefetch" href="Laputa/assets/js/144.1985fb6e.js"><link rel="prefetch" href="Laputa/assets/js/145.37a16214.js"><link rel="prefetch" href="Laputa/assets/js/146.3b54b80d.js"><link rel="prefetch" href="Laputa/assets/js/147.cd7a75ec.js"><link rel="prefetch" href="Laputa/assets/js/148.c069a727.js"><link rel="prefetch" href="Laputa/assets/js/149.31e9b53c.js"><link rel="prefetch" href="Laputa/assets/js/150.97670c74.js"><link rel="prefetch" href="Laputa/assets/js/151.ea21f131.js"><link rel="prefetch" href="Laputa/assets/js/152.7fb53639.js"><link rel="prefetch" href="Laputa/assets/js/153.fc1a3224.js"><link rel="prefetch" href="Laputa/assets/js/154.d139b199.js"><link rel="prefetch" href="Laputa/assets/js/155.d8803711.js"><link rel="prefetch" href="Laputa/assets/js/156.b5f75d9b.js"><link rel="prefetch" href="Laputa/assets/js/157.534cff67.js"><link rel="prefetch" href="Laputa/assets/js/158.507711d4.js"><link rel="prefetch" href="Laputa/assets/js/159.bbe8196f.js"><link rel="prefetch" href="Laputa/assets/js/160.01a377d7.js"><link rel="prefetch" href="Laputa/assets/js/161.df7bc156.js"><link rel="prefetch" href="Laputa/assets/js/162.4c050e9a.js"><link rel="prefetch" href="Laputa/assets/js/163.f633cfe3.js"><link rel="prefetch" href="Laputa/assets/js/164.9a7cde98.js"><link rel="prefetch" href="Laputa/assets/js/165.8383c6e0.js"><link rel="prefetch" href="Laputa/assets/js/166.84973e7b.js"><link rel="prefetch" href="Laputa/assets/js/167.139a83e5.js"><link rel="prefetch" href="Laputa/assets/js/168.b0d2bd4d.js"><link rel="prefetch" href="Laputa/assets/js/169.e800feb9.js"><link rel="prefetch" href="Laputa/assets/js/170.f9451e36.js"><link rel="prefetch" href="Laputa/assets/js/171.a83a4665.js"><link rel="prefetch" href="Laputa/assets/js/172.c211eed7.js"><link rel="prefetch" href="Laputa/assets/js/173.c3a50a74.js"><link rel="prefetch" href="Laputa/assets/js/174.eb3ff294.js"><link rel="prefetch" href="Laputa/assets/js/175.710a54ce.js"><link rel="prefetch" href="Laputa/assets/js/176.b8b0c286.js"><link rel="prefetch" href="Laputa/assets/js/177.53f441fa.js"><link rel="prefetch" href="Laputa/assets/js/178.81400b25.js"><link rel="prefetch" href="Laputa/assets/js/179.8d7755c9.js"><link rel="prefetch" href="Laputa/assets/js/180.cb1b319d.js"><link rel="prefetch" href="Laputa/assets/js/181.897fd3aa.js"><link rel="prefetch" href="Laputa/assets/js/182.5bbea4a6.js"><link rel="prefetch" href="Laputa/assets/js/183.59d5d5b7.js"><link rel="prefetch" href="Laputa/assets/js/184.7a6514a7.js"><link rel="prefetch" href="Laputa/assets/js/185.26dd8cdd.js"><link rel="prefetch" href="Laputa/assets/js/186.978c4dde.js"><link rel="prefetch" href="Laputa/assets/js/187.2ee204e3.js"><link rel="prefetch" href="Laputa/assets/js/188.29baaca4.js"><link rel="prefetch" href="Laputa/assets/js/189.fe643f03.js"><link rel="prefetch" href="Laputa/assets/js/190.dd3ce693.js"><link rel="prefetch" href="Laputa/assets/js/191.c9ffbdf3.js"><link rel="prefetch" href="Laputa/assets/js/192.402577fb.js"><link rel="prefetch" href="Laputa/assets/js/193.4278458a.js"><link rel="prefetch" href="Laputa/assets/js/194.26c0a999.js"><link rel="prefetch" href="Laputa/assets/js/195.b3bbd6f1.js"><link rel="prefetch" href="Laputa/assets/js/196.ec2775a6.js"><link rel="prefetch" href="Laputa/assets/js/197.7a1de435.js"><link rel="prefetch" href="Laputa/assets/js/198.b0d0b4b2.js"><link rel="prefetch" href="Laputa/assets/js/199.68e2f133.js"><link rel="prefetch" href="Laputa/assets/js/200.ac303e12.js"><link rel="prefetch" href="Laputa/assets/js/201.629c56c3.js"><link rel="prefetch" href="Laputa/assets/js/202.f8efe17e.js"><link rel="prefetch" href="Laputa/assets/js/203.24648560.js"><link rel="prefetch" href="Laputa/assets/js/204.413e0508.js"><link rel="prefetch" href="Laputa/assets/js/205.a575ce92.js"><link rel="prefetch" href="Laputa/assets/js/206.7c9b685e.js"><link rel="prefetch" href="Laputa/assets/js/207.1ab88c98.js"><link rel="prefetch" href="Laputa/assets/js/208.351562e6.js"><link rel="prefetch" href="Laputa/assets/js/209.1b054dd4.js"><link rel="prefetch" href="Laputa/assets/js/210.1e8ec36f.js"><link rel="prefetch" href="Laputa/assets/js/211.bd920edf.js"><link rel="prefetch" href="Laputa/assets/js/212.ebc1bea5.js"><link rel="prefetch" href="Laputa/assets/js/213.353cd010.js"><link rel="prefetch" href="Laputa/assets/js/214.4833f3e1.js"><link rel="prefetch" href="Laputa/assets/js/215.1946cb78.js"><link rel="prefetch" href="Laputa/assets/js/216.26c1e1d5.js"><link rel="prefetch" href="Laputa/assets/js/217.ba12abbd.js"><link rel="prefetch" href="Laputa/assets/js/218.4e7296f1.js"><link rel="prefetch" href="Laputa/assets/js/219.529550de.js"><link rel="prefetch" href="Laputa/assets/js/220.b8021d90.js"><link rel="prefetch" href="Laputa/assets/js/221.802a3551.js"><link rel="prefetch" href="Laputa/assets/js/222.bc0d810e.js"><link rel="prefetch" href="Laputa/assets/js/223.8cdfb2ab.js"><link rel="prefetch" href="Laputa/assets/js/224.7c4d2af9.js"><link rel="prefetch" href="Laputa/assets/js/225.3ee841fd.js"><link rel="prefetch" href="Laputa/assets/js/226.7df98d80.js"><link rel="prefetch" href="Laputa/assets/js/227.f8cf7429.js"><link rel="prefetch" href="Laputa/assets/js/228.1bbe3cd5.js"><link rel="prefetch" href="Laputa/assets/js/229.9255cc40.js"><link rel="prefetch" href="Laputa/assets/js/230.9fe34f11.js"><link rel="prefetch" href="Laputa/assets/js/231.4162b6b5.js"><link rel="prefetch" href="Laputa/assets/js/232.49ddd09a.js"><link rel="prefetch" href="Laputa/assets/js/233.7a3b967d.js"><link rel="prefetch" href="Laputa/assets/js/234.7df4ccbc.js"><link rel="prefetch" href="Laputa/assets/js/235.8439e9f2.js"><link rel="prefetch" href="Laputa/assets/js/236.3bec368c.js"><link rel="prefetch" href="Laputa/assets/js/237.159a831f.js"><link rel="prefetch" href="Laputa/assets/js/238.67f44d76.js"><link rel="prefetch" href="Laputa/assets/js/239.34b19aa7.js"><link rel="prefetch" href="Laputa/assets/js/240.cbcf457d.js"><link rel="prefetch" href="Laputa/assets/js/241.58c5bf48.js"><link rel="prefetch" href="Laputa/assets/js/242.23600eb9.js"><link rel="prefetch" href="Laputa/assets/js/243.7ed95623.js"><link rel="prefetch" href="Laputa/assets/js/244.ff6b7298.js"><link rel="prefetch" href="Laputa/assets/js/245.9cf038e8.js"><link rel="prefetch" href="Laputa/assets/js/246.fa1277bb.js"><link rel="prefetch" href="Laputa/assets/js/247.11fee991.js"><link rel="prefetch" href="Laputa/assets/js/248.3655e1e1.js"><link rel="prefetch" href="Laputa/assets/js/249.8fbd4f7c.js"><link rel="prefetch" href="Laputa/assets/js/250.85d161fa.js"><link rel="prefetch" href="Laputa/assets/js/251.481032de.js"><link rel="prefetch" href="Laputa/assets/js/252.6157489d.js"><link rel="prefetch" href="Laputa/assets/js/253.f91926ff.js"><link rel="prefetch" href="Laputa/assets/js/254.b7fad364.js"><link rel="prefetch" href="Laputa/assets/js/255.73dc5cad.js"><link rel="prefetch" href="Laputa/assets/js/256.6b658f8a.js">
    <link rel="stylesheet" href="Laputa/assets/css/0.styles.21b3d02c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Laputa/" class="home-link router-link-active"><!----> <span class="site-name">Hello VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <!----> </div> <div class="page"> <div class="content"><h1 id="upgrading-from-php-parser-2-x-to-3-0"><a href="#upgrading-from-php-parser-2-x-to-3-0" aria-hidden="true" class="header-anchor">#</a> Upgrading from PHP-Parser 2.x to 3.0</h1> <p>The backwards-incompatible changes in this release may be summarized as follows:</p> <ul><li>The specific details of the node representation have changed in some cases, primarily to
accomodate new PHP 7.1 features.</li> <li>There have been significant changes to the error recovery implementation. This may affect you,
if you used the error recovery mode or have a custom lexer implementation.</li> <li>A number of deprecated methods were removed.</li></ul> <h3 id="php-version-requirements"><a href="#php-version-requirements" aria-hidden="true" class="header-anchor">#</a> PHP version requirements</h3> <p>PHP-Parser now requires PHP 5.5 or newer to run. It is however still possible to <em>parse</em> PHP 5.2,
5.3 and 5.4 source code, while running on a newer version.</p> <h3 id="changes-to-the-node-structure"><a href="#changes-to-the-node-structure" aria-hidden="true" class="header-anchor">#</a> Changes to the node structure</h3> <p>The following changes are likely to require code changes if the respective nodes are used:</p> <ul><li>The <code>List</code> subnode <code>vars</code> has been renamed to <code>items</code> and now contains <code>ArrayItem</code>s instead of
plain variables.</li> <li>The <code>Catch</code> subnode <code>type</code> has been renamed to <code>types</code> and is now an array of <code>Name</code>s.</li> <li>The <code>TryCatch</code> subnode <code>finallyStmts</code> has been replaced with a <code>finally</code> subnode that holds an
explicit <code>Finally</code> node.</li> <li>The <code>type</code> subnode on <code>Class</code>, <code>ClassMethod</code> and <code>Property</code> has been renamed to <code>flags</code>. The
<code>type</code> subnode has retained for backwards compatibility and is populated to the same value as
<code>flags</code>. However, writes to <code>type</code> will not update <code>flags</code> and use of <code>type</code> is discouraged.</li></ul> <p>The following changes are unlikely to require code changes:</p> <ul><li>The <code>ClassConst</code> constructor changed to accept an additional <code>flags</code> subnode.</li> <li>The <code>Trait</code> constructor now has the same form as the <code>Class</code> and <code>Interface</code> constructors: It
takes an array of subnodes. Unlike classes/interfaces, traits can only have a <code>stmts</code> subnode.</li> <li>The <code>Array</code> subnode <code>items</code> may now contain <code>null</code> elements (due to destructuring).</li> <li><code>void</code> and <code>iterable</code> types are now stored as strings if the PHP 7 parser is used. Previously
these would have been represented as <code>Name</code> instances.</li></ul> <h3 id="changes-to-error-recovery-mode"><a href="#changes-to-error-recovery-mode" aria-hidden="true" class="header-anchor">#</a> Changes to error recovery mode</h3> <p>Previously, error recovery mode was enabled by setting the <code>throwOnError</code> option to <code>false</code> when
creating the parser, while collected errors were retrieved using the <code>getErrors()</code> method:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$lexer</span> <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token variable">$parser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ParserFactory</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">create</span><span class="token punctuation">(</span>ParserFactor<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">ONLY_PHP7</span><span class="token punctuation">,</span> <span class="token variable">$lexer</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'throwOnError'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$stmts</span> <span class="token operator">=</span> <span class="token variable">$parser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token variable">$code</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$errors</span> <span class="token operator">=</span> <span class="token variable">$parser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$errors</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">handleErrors</span><span class="token punctuation">(</span><span class="token variable">$errors</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">processAst</span><span class="token punctuation">(</span><span class="token variable">$stmts</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Both the <code>throwOnError</code> option and the <code>getErrors()</code> method have been removed in PHP-Parser 3.0.
Instead an instance of <code>ErrorHandler\Collecting</code> should be passed to the <code>parse()</code> method:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$lexer</span> <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token variable">$parser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ParserFactory</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">create</span><span class="token punctuation">(</span>ParserFactor<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">ONLY_PHP7</span><span class="token punctuation">,</span> <span class="token variable">$lexer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$errorHandler</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ErrorHandler<span class="token punctuation">\</span>Collecting</span><span class="token punctuation">;</span>
<span class="token variable">$stmts</span> <span class="token operator">=</span> <span class="token variable">$parser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token variable">$code</span><span class="token punctuation">,</span> <span class="token variable">$errorHandler</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$errorHandler</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">handleErrors</span><span class="token punctuation">(</span><span class="token variable">$errorHandler</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">processAst</span><span class="token punctuation">(</span><span class="token variable">$stmts</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="multiple-parser-fallback-in-error-recovery-mode"><a href="#multiple-parser-fallback-in-error-recovery-mode" aria-hidden="true" class="header-anchor">#</a> Multiple parser fallback in error recovery mode</h4> <p>As a result of this change, if a <code>Multiple</code> parser is used (e.g. through the <code>ParserFactory</code> using
<code>PREFER_PHP7</code> or <code>PREFER_PHP5</code>), it will now return the result of the first <em>non-throwing</em> parse. As
parsing never throws in error recovery mode, the result from the first parser will always be
returned.</p> <p>The PHP 7 parser is a superset of the PHP 5 parser, with the exceptions that <code>=&amp; new</code> and
<code>global $$foo-&gt;bar</code> are not supported (other differences are in representation only). The PHP 7
parser will be able to recover from the error in both cases. For this reason, this change will
likely pass unnoticed if you do not specifically test for this syntax.</p> <p>It is possible to restore the precise previous behavior with the following code:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$lexer</span> <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token variable">$parser7</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parser<span class="token punctuation">\</span>Php7</span><span class="token punctuation">(</span><span class="token variable">$lexer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$parser5</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parser<span class="token punctuation">\</span>Php5</span><span class="token punctuation">(</span><span class="token variable">$lexer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$errors7</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ErrorHandler<span class="token punctuation">\</span>Collecting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$stmts7</span> <span class="token operator">=</span> <span class="token variable">$parser7</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token variable">$code</span><span class="token punctuation">,</span> <span class="token variable">$errors7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$errors7</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$errors5</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ErrorHandler<span class="token punctuation">\</span>Collecting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$stmts5</span> <span class="token operator">=</span> <span class="token variable">$parser5</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token variable">$code</span><span class="token punctuation">,</span> <span class="token variable">$errors5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$errors5</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// If PHP 7 parse has errors but PHP 5 parse has no errors, use PHP 5 result</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token variable">$stmts5</span><span class="token punctuation">,</span> <span class="token variable">$errors5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// If PHP 7 succeeds or both fail use PHP 7 result</span>
<span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token variable">$stmts7</span><span class="token punctuation">,</span> <span class="token variable">$errors7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="error-handling-in-the-lexer"><a href="#error-handling-in-the-lexer" aria-hidden="true" class="header-anchor">#</a> Error handling in the lexer</h4> <p>In order to support recovery from lexer errors, the signature of the <code>startLexing()</code> method changed
to optionally accept an <code>ErrorHandler</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// OLD</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">startLexing</span><span class="token punctuation">(</span><span class="token variable">$code</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// NEW</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">startLexing</span><span class="token punctuation">(</span><span class="token variable">$code</span><span class="token punctuation">,</span> ErrorHandler <span class="token variable">$errorHandler</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>If you use a custom lexer with overriden <code>startLexing()</code> method, it needs to be changed to accept
the extra parameter. The value should be passed on to the parent method.</p> <h4 id="error-checks-in-node-constructors"><a href="#error-checks-in-node-constructors" aria-hidden="true" class="header-anchor">#</a> Error checks in node constructors</h4> <p>The constructors of certain nodes used to contain additional checks for semantic errors, such as
creating a try block without either catch or finally. These checks have been moved from the node
constructors into the parser. This allows recovery from such errors, as well as representing the
resulting (invalid) AST.</p> <p>This means that certain error conditions are no longer checked for manually constructed nodes.</p> <h3 id="removed-methods-arguments-options"><a href="#removed-methods-arguments-options" aria-hidden="true" class="header-anchor">#</a> Removed methods, arguments, options</h3> <p>The following methods, arguments or options have been removed:</p> <ul><li><code>Comment::setLine()</code>, <code>Comment::setText()</code>: Create new <code>Comment</code> instances instead.</li> <li><code>Name::set()</code>, <code>Name::setFirst()</code>, <code>Name::setLast()</code>, <code>Name::append()</code>, <code>Name::prepend()</code>:
Use <code>Name::concat()</code> in combination with <code>Name::slice()</code> instead.</li> <li><code>Error::getRawLine()</code>, <code>Error::setRawLine()</code>. Use <code>Error::getStartLine()</code> and
<code>Error::setStartLine()</code> instead.</li> <li><code>Parser::getErrors()</code>. Use <code>ErrorHandler\Collecting</code> instead.</li> <li><code>$separator</code> argument of <code>Name::toString()</code>. Use <code>strtr()</code> instead, if you really need it.</li> <li><code>$cloneNodes</code> argument of <code>NodeTraverser::__construct()</code>. Explicitly clone nodes in the visitor
instead.</li> <li><code>throwOnError</code> parser option. Use <code>ErrorHandler\Collecting</code> instead.</li></ul> <h3 id="miscellaneous"><a href="#miscellaneous" aria-hidden="true" class="header-anchor">#</a> Miscellaneous</h3> <ul><li>The <code>NameResolver</code> will now resolve unqualified function and constant names in the global
namespace into fully qualified names. For example <code>foo()</code> in the global namespace resolves to
<code>\foo()</code>. For names where no static resolution is possible, a <code>namespacedName</code> attribute is
added now, containing the namespaced variant of the name.</li> <li>All methods on <code>PrettyPrinter\Standard</code> are now protected. Previoulsy most of them were public.
The pretty printer should only be invoked using the <code>prettyPrint()</code>, <code>prettyPrintFile()</code> and
<code>prettyPrintExpr()</code> methods.</li> <li>The node dumper now prints numeric values that act as enums/flags in a string representation.
If node dumper results are used in tests, updates may be needed to account for this.</li> <li>The constants on <code>NameTraverserInterface</code> have been moved into the <code>NameTraverser</code> class.</li> <li>The emulative lexer now directly postprocesses tokens, instead of using <code>~__EMU__~</code> sequences.
This changes the protected API of the emulative lexer.</li> <li>The <code>Name::slice()</code> method now returns <code>null</code> for empty slices, previously <code>new Name([])</code> was
used. <code>Name::concat()</code> now also supports concatenation with <code>null</code>.</li></ul></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="Laputa/assets/js/108.6ab1e942.js" defer></script><script src="Laputa/assets/js/app.6f999ec1.js" defer></script>
  </body>
</html>
