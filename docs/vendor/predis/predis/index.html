<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Predis # | Hello VuePress</title>
    <meta name="description" content="Just playing around">
    <link rel="icon" href="https://static.calibur.tv/favicon.ico">
    
    <link rel="preload" href="Laputa/assets/css/0.styles.21b3d02c.css" as="style"><link rel="preload" href="Laputa/assets/js/app.6f999ec1.js" as="script"><link rel="preload" href="Laputa/assets/js/147.cd7a75ec.js" as="script"><link rel="prefetch" href="Laputa/assets/js/127.5d5c2a9e.js"><link rel="prefetch" href="Laputa/assets/js/2.cda51ec0.js"><link rel="prefetch" href="Laputa/assets/js/3.a88ade89.js"><link rel="prefetch" href="Laputa/assets/js/4.f0a47b5a.js"><link rel="prefetch" href="Laputa/assets/js/5.eb4e2f15.js"><link rel="prefetch" href="Laputa/assets/js/6.ae349cfe.js"><link rel="prefetch" href="Laputa/assets/js/7.d8abf350.js"><link rel="prefetch" href="Laputa/assets/js/8.7660bbc3.js"><link rel="prefetch" href="Laputa/assets/js/9.9282dabe.js"><link rel="prefetch" href="Laputa/assets/js/10.ea22ba46.js"><link rel="prefetch" href="Laputa/assets/js/11.ed71705a.js"><link rel="prefetch" href="Laputa/assets/js/12.bab571ae.js"><link rel="prefetch" href="Laputa/assets/js/13.78fc55ea.js"><link rel="prefetch" href="Laputa/assets/js/14.765cca5f.js"><link rel="prefetch" href="Laputa/assets/js/15.7f1ee911.js"><link rel="prefetch" href="Laputa/assets/js/16.1de690fb.js"><link rel="prefetch" href="Laputa/assets/js/17.0c9bcfe7.js"><link rel="prefetch" href="Laputa/assets/js/18.4ea1b5ec.js"><link rel="prefetch" href="Laputa/assets/js/19.8c8f8b57.js"><link rel="prefetch" href="Laputa/assets/js/20.9129a22f.js"><link rel="prefetch" href="Laputa/assets/js/21.b84b104e.js"><link rel="prefetch" href="Laputa/assets/js/22.fe164d26.js"><link rel="prefetch" href="Laputa/assets/js/23.dee79d2c.js"><link rel="prefetch" href="Laputa/assets/js/24.7a76775e.js"><link rel="prefetch" href="Laputa/assets/js/25.57b548b0.js"><link rel="prefetch" href="Laputa/assets/js/26.22bea336.js"><link rel="prefetch" href="Laputa/assets/js/27.f372908a.js"><link rel="prefetch" href="Laputa/assets/js/28.7c33523e.js"><link rel="prefetch" href="Laputa/assets/js/29.0b631070.js"><link rel="prefetch" href="Laputa/assets/js/30.fde1b56c.js"><link rel="prefetch" href="Laputa/assets/js/31.19440d0b.js"><link rel="prefetch" href="Laputa/assets/js/32.09c05419.js"><link rel="prefetch" href="Laputa/assets/js/33.f24b2fa1.js"><link rel="prefetch" href="Laputa/assets/js/34.704234d2.js"><link rel="prefetch" href="Laputa/assets/js/35.3538aa16.js"><link rel="prefetch" href="Laputa/assets/js/36.9fd936b8.js"><link rel="prefetch" href="Laputa/assets/js/37.029a950c.js"><link rel="prefetch" href="Laputa/assets/js/38.ca2d406b.js"><link rel="prefetch" href="Laputa/assets/js/39.6d640b65.js"><link rel="prefetch" href="Laputa/assets/js/40.da4aa4d2.js"><link rel="prefetch" href="Laputa/assets/js/41.15815f6e.js"><link rel="prefetch" href="Laputa/assets/js/42.87b4655d.js"><link rel="prefetch" href="Laputa/assets/js/43.87956add.js"><link rel="prefetch" href="Laputa/assets/js/44.ed836e06.js"><link rel="prefetch" href="Laputa/assets/js/45.f6149b9c.js"><link rel="prefetch" href="Laputa/assets/js/46.57e569c9.js"><link rel="prefetch" href="Laputa/assets/js/47.53bc0ff4.js"><link rel="prefetch" href="Laputa/assets/js/48.e16402f6.js"><link rel="prefetch" href="Laputa/assets/js/49.ef4b9870.js"><link rel="prefetch" href="Laputa/assets/js/50.97b2795a.js"><link rel="prefetch" href="Laputa/assets/js/51.1df1f3d1.js"><link rel="prefetch" href="Laputa/assets/js/52.727e7778.js"><link rel="prefetch" href="Laputa/assets/js/53.f8356a1e.js"><link rel="prefetch" href="Laputa/assets/js/54.8f15ada1.js"><link rel="prefetch" href="Laputa/assets/js/55.fc41623e.js"><link rel="prefetch" href="Laputa/assets/js/56.b65567d0.js"><link rel="prefetch" href="Laputa/assets/js/57.3cb52983.js"><link rel="prefetch" href="Laputa/assets/js/58.ff69625f.js"><link rel="prefetch" href="Laputa/assets/js/59.b99f5762.js"><link rel="prefetch" href="Laputa/assets/js/60.b7c53f3f.js"><link rel="prefetch" href="Laputa/assets/js/61.2757576d.js"><link rel="prefetch" href="Laputa/assets/js/62.5d25765e.js"><link rel="prefetch" href="Laputa/assets/js/63.a6b7406e.js"><link rel="prefetch" href="Laputa/assets/js/64.7bba8fd1.js"><link rel="prefetch" href="Laputa/assets/js/65.6e593ebf.js"><link rel="prefetch" href="Laputa/assets/js/66.b926ddd2.js"><link rel="prefetch" href="Laputa/assets/js/67.c8c69cd3.js"><link rel="prefetch" href="Laputa/assets/js/68.cb4bb5cb.js"><link rel="prefetch" href="Laputa/assets/js/69.a7b09174.js"><link rel="prefetch" href="Laputa/assets/js/70.02c49833.js"><link rel="prefetch" href="Laputa/assets/js/71.1c53c636.js"><link rel="prefetch" href="Laputa/assets/js/72.bb0f586e.js"><link rel="prefetch" href="Laputa/assets/js/73.aa250a71.js"><link rel="prefetch" href="Laputa/assets/js/74.fcd8312b.js"><link rel="prefetch" href="Laputa/assets/js/75.ee561d5e.js"><link rel="prefetch" href="Laputa/assets/js/76.8d6c7d11.js"><link rel="prefetch" href="Laputa/assets/js/77.3c5c7747.js"><link rel="prefetch" href="Laputa/assets/js/78.0afb8d36.js"><link rel="prefetch" href="Laputa/assets/js/79.e09176dc.js"><link rel="prefetch" href="Laputa/assets/js/80.6add3555.js"><link rel="prefetch" href="Laputa/assets/js/81.46dfeac8.js"><link rel="prefetch" href="Laputa/assets/js/82.8c7bae69.js"><link rel="prefetch" href="Laputa/assets/js/83.3c1031f4.js"><link rel="prefetch" href="Laputa/assets/js/84.5414c057.js"><link rel="prefetch" href="Laputa/assets/js/85.434414f7.js"><link rel="prefetch" href="Laputa/assets/js/86.032ff5b5.js"><link rel="prefetch" href="Laputa/assets/js/87.1387e175.js"><link rel="prefetch" href="Laputa/assets/js/88.ef068175.js"><link rel="prefetch" href="Laputa/assets/js/89.3c86a439.js"><link rel="prefetch" href="Laputa/assets/js/90.7b4ceab8.js"><link rel="prefetch" href="Laputa/assets/js/91.993029ce.js"><link rel="prefetch" href="Laputa/assets/js/92.cd0f0552.js"><link rel="prefetch" href="Laputa/assets/js/93.2ea5e4ed.js"><link rel="prefetch" href="Laputa/assets/js/94.d77f771e.js"><link rel="prefetch" href="Laputa/assets/js/95.bfb1166d.js"><link rel="prefetch" href="Laputa/assets/js/96.d656aebb.js"><link rel="prefetch" href="Laputa/assets/js/97.8d318516.js"><link rel="prefetch" href="Laputa/assets/js/98.836a48cc.js"><link rel="prefetch" href="Laputa/assets/js/99.90560d29.js"><link rel="prefetch" href="Laputa/assets/js/100.a889b1b9.js"><link rel="prefetch" href="Laputa/assets/js/101.92c2d09f.js"><link rel="prefetch" href="Laputa/assets/js/102.41e8fe4c.js"><link rel="prefetch" href="Laputa/assets/js/103.1e7ebc3c.js"><link rel="prefetch" href="Laputa/assets/js/104.9b5e097e.js"><link rel="prefetch" href="Laputa/assets/js/105.664970bd.js"><link rel="prefetch" href="Laputa/assets/js/106.61b9108e.js"><link rel="prefetch" href="Laputa/assets/js/107.fffe8d0f.js"><link rel="prefetch" href="Laputa/assets/js/108.6ab1e942.js"><link rel="prefetch" href="Laputa/assets/js/109.df13f020.js"><link rel="prefetch" href="Laputa/assets/js/110.3ee4fa68.js"><link rel="prefetch" href="Laputa/assets/js/111.b836e8af.js"><link rel="prefetch" href="Laputa/assets/js/112.a83b7d02.js"><link rel="prefetch" href="Laputa/assets/js/113.ded87a86.js"><link rel="prefetch" href="Laputa/assets/js/114.297ad3a1.js"><link rel="prefetch" href="Laputa/assets/js/115.544749de.js"><link rel="prefetch" href="Laputa/assets/js/116.a8d4b51b.js"><link rel="prefetch" href="Laputa/assets/js/117.4f44196d.js"><link rel="prefetch" href="Laputa/assets/js/118.89df9a9d.js"><link rel="prefetch" href="Laputa/assets/js/119.2dba598a.js"><link rel="prefetch" href="Laputa/assets/js/120.fc3b4984.js"><link rel="prefetch" href="Laputa/assets/js/121.9fdd6483.js"><link rel="prefetch" href="Laputa/assets/js/122.b56010ca.js"><link rel="prefetch" href="Laputa/assets/js/123.41518099.js"><link rel="prefetch" href="Laputa/assets/js/124.2353c219.js"><link rel="prefetch" href="Laputa/assets/js/125.16055535.js"><link rel="prefetch" href="Laputa/assets/js/126.9edc34c6.js"><link rel="prefetch" href="Laputa/assets/js/128.483176b9.js"><link rel="prefetch" href="Laputa/assets/js/129.d0a84feb.js"><link rel="prefetch" href="Laputa/assets/js/130.e8a23474.js"><link rel="prefetch" href="Laputa/assets/js/131.46723320.js"><link rel="prefetch" href="Laputa/assets/js/132.a9d65b65.js"><link rel="prefetch" href="Laputa/assets/js/133.565a1e84.js"><link rel="prefetch" href="Laputa/assets/js/134.9a13e04e.js"><link rel="prefetch" href="Laputa/assets/js/135.c29729f1.js"><link rel="prefetch" href="Laputa/assets/js/136.1e528d9b.js"><link rel="prefetch" href="Laputa/assets/js/137.ae8b404d.js"><link rel="prefetch" href="Laputa/assets/js/138.be0e6cbb.js"><link rel="prefetch" href="Laputa/assets/js/139.237416e3.js"><link rel="prefetch" href="Laputa/assets/js/140.4ab9ca1a.js"><link rel="prefetch" href="Laputa/assets/js/141.74e2f092.js"><link rel="prefetch" href="Laputa/assets/js/142.0ecb3a43.js"><link rel="prefetch" href="Laputa/assets/js/143.be6d4143.js"><link rel="prefetch" href="Laputa/assets/js/144.1985fb6e.js"><link rel="prefetch" href="Laputa/assets/js/145.37a16214.js"><link rel="prefetch" href="Laputa/assets/js/146.3b54b80d.js"><link rel="prefetch" href="Laputa/assets/js/148.c069a727.js"><link rel="prefetch" href="Laputa/assets/js/149.31e9b53c.js"><link rel="prefetch" href="Laputa/assets/js/150.97670c74.js"><link rel="prefetch" href="Laputa/assets/js/151.ea21f131.js"><link rel="prefetch" href="Laputa/assets/js/152.7fb53639.js"><link rel="prefetch" href="Laputa/assets/js/153.fc1a3224.js"><link rel="prefetch" href="Laputa/assets/js/154.d139b199.js"><link rel="prefetch" href="Laputa/assets/js/155.d8803711.js"><link rel="prefetch" href="Laputa/assets/js/156.b5f75d9b.js"><link rel="prefetch" href="Laputa/assets/js/157.534cff67.js"><link rel="prefetch" href="Laputa/assets/js/158.507711d4.js"><link rel="prefetch" href="Laputa/assets/js/159.bbe8196f.js"><link rel="prefetch" href="Laputa/assets/js/160.01a377d7.js"><link rel="prefetch" href="Laputa/assets/js/161.df7bc156.js"><link rel="prefetch" href="Laputa/assets/js/162.4c050e9a.js"><link rel="prefetch" href="Laputa/assets/js/163.f633cfe3.js"><link rel="prefetch" href="Laputa/assets/js/164.9a7cde98.js"><link rel="prefetch" href="Laputa/assets/js/165.8383c6e0.js"><link rel="prefetch" href="Laputa/assets/js/166.84973e7b.js"><link rel="prefetch" href="Laputa/assets/js/167.139a83e5.js"><link rel="prefetch" href="Laputa/assets/js/168.b0d2bd4d.js"><link rel="prefetch" href="Laputa/assets/js/169.e800feb9.js"><link rel="prefetch" href="Laputa/assets/js/170.f9451e36.js"><link rel="prefetch" href="Laputa/assets/js/171.a83a4665.js"><link rel="prefetch" href="Laputa/assets/js/172.c211eed7.js"><link rel="prefetch" href="Laputa/assets/js/173.c3a50a74.js"><link rel="prefetch" href="Laputa/assets/js/174.eb3ff294.js"><link rel="prefetch" href="Laputa/assets/js/175.710a54ce.js"><link rel="prefetch" href="Laputa/assets/js/176.b8b0c286.js"><link rel="prefetch" href="Laputa/assets/js/177.53f441fa.js"><link rel="prefetch" href="Laputa/assets/js/178.81400b25.js"><link rel="prefetch" href="Laputa/assets/js/179.8d7755c9.js"><link rel="prefetch" href="Laputa/assets/js/180.cb1b319d.js"><link rel="prefetch" href="Laputa/assets/js/181.897fd3aa.js"><link rel="prefetch" href="Laputa/assets/js/182.5bbea4a6.js"><link rel="prefetch" href="Laputa/assets/js/183.59d5d5b7.js"><link rel="prefetch" href="Laputa/assets/js/184.7a6514a7.js"><link rel="prefetch" href="Laputa/assets/js/185.26dd8cdd.js"><link rel="prefetch" href="Laputa/assets/js/186.978c4dde.js"><link rel="prefetch" href="Laputa/assets/js/187.2ee204e3.js"><link rel="prefetch" href="Laputa/assets/js/188.29baaca4.js"><link rel="prefetch" href="Laputa/assets/js/189.fe643f03.js"><link rel="prefetch" href="Laputa/assets/js/190.dd3ce693.js"><link rel="prefetch" href="Laputa/assets/js/191.c9ffbdf3.js"><link rel="prefetch" href="Laputa/assets/js/192.402577fb.js"><link rel="prefetch" href="Laputa/assets/js/193.4278458a.js"><link rel="prefetch" href="Laputa/assets/js/194.26c0a999.js"><link rel="prefetch" href="Laputa/assets/js/195.b3bbd6f1.js"><link rel="prefetch" href="Laputa/assets/js/196.ec2775a6.js"><link rel="prefetch" href="Laputa/assets/js/197.7a1de435.js"><link rel="prefetch" href="Laputa/assets/js/198.b0d0b4b2.js"><link rel="prefetch" href="Laputa/assets/js/199.68e2f133.js"><link rel="prefetch" href="Laputa/assets/js/200.ac303e12.js"><link rel="prefetch" href="Laputa/assets/js/201.629c56c3.js"><link rel="prefetch" href="Laputa/assets/js/202.f8efe17e.js"><link rel="prefetch" href="Laputa/assets/js/203.24648560.js"><link rel="prefetch" href="Laputa/assets/js/204.413e0508.js"><link rel="prefetch" href="Laputa/assets/js/205.a575ce92.js"><link rel="prefetch" href="Laputa/assets/js/206.7c9b685e.js"><link rel="prefetch" href="Laputa/assets/js/207.1ab88c98.js"><link rel="prefetch" href="Laputa/assets/js/208.351562e6.js"><link rel="prefetch" href="Laputa/assets/js/209.1b054dd4.js"><link rel="prefetch" href="Laputa/assets/js/210.1e8ec36f.js"><link rel="prefetch" href="Laputa/assets/js/211.bd920edf.js"><link rel="prefetch" href="Laputa/assets/js/212.ebc1bea5.js"><link rel="prefetch" href="Laputa/assets/js/213.353cd010.js"><link rel="prefetch" href="Laputa/assets/js/214.4833f3e1.js"><link rel="prefetch" href="Laputa/assets/js/215.1946cb78.js"><link rel="prefetch" href="Laputa/assets/js/216.26c1e1d5.js"><link rel="prefetch" href="Laputa/assets/js/217.ba12abbd.js"><link rel="prefetch" href="Laputa/assets/js/218.4e7296f1.js"><link rel="prefetch" href="Laputa/assets/js/219.529550de.js"><link rel="prefetch" href="Laputa/assets/js/220.b8021d90.js"><link rel="prefetch" href="Laputa/assets/js/221.802a3551.js"><link rel="prefetch" href="Laputa/assets/js/222.bc0d810e.js"><link rel="prefetch" href="Laputa/assets/js/223.8cdfb2ab.js"><link rel="prefetch" href="Laputa/assets/js/224.7c4d2af9.js"><link rel="prefetch" href="Laputa/assets/js/225.3ee841fd.js"><link rel="prefetch" href="Laputa/assets/js/226.7df98d80.js"><link rel="prefetch" href="Laputa/assets/js/227.f8cf7429.js"><link rel="prefetch" href="Laputa/assets/js/228.1bbe3cd5.js"><link rel="prefetch" href="Laputa/assets/js/229.9255cc40.js"><link rel="prefetch" href="Laputa/assets/js/230.9fe34f11.js"><link rel="prefetch" href="Laputa/assets/js/231.4162b6b5.js"><link rel="prefetch" href="Laputa/assets/js/232.49ddd09a.js"><link rel="prefetch" href="Laputa/assets/js/233.7a3b967d.js"><link rel="prefetch" href="Laputa/assets/js/234.7df4ccbc.js"><link rel="prefetch" href="Laputa/assets/js/235.8439e9f2.js"><link rel="prefetch" href="Laputa/assets/js/236.3bec368c.js"><link rel="prefetch" href="Laputa/assets/js/237.159a831f.js"><link rel="prefetch" href="Laputa/assets/js/238.67f44d76.js"><link rel="prefetch" href="Laputa/assets/js/239.34b19aa7.js"><link rel="prefetch" href="Laputa/assets/js/240.cbcf457d.js"><link rel="prefetch" href="Laputa/assets/js/241.58c5bf48.js"><link rel="prefetch" href="Laputa/assets/js/242.23600eb9.js"><link rel="prefetch" href="Laputa/assets/js/243.7ed95623.js"><link rel="prefetch" href="Laputa/assets/js/244.ff6b7298.js"><link rel="prefetch" href="Laputa/assets/js/245.9cf038e8.js"><link rel="prefetch" href="Laputa/assets/js/246.fa1277bb.js"><link rel="prefetch" href="Laputa/assets/js/247.11fee991.js"><link rel="prefetch" href="Laputa/assets/js/248.3655e1e1.js"><link rel="prefetch" href="Laputa/assets/js/249.8fbd4f7c.js"><link rel="prefetch" href="Laputa/assets/js/250.85d161fa.js"><link rel="prefetch" href="Laputa/assets/js/251.481032de.js"><link rel="prefetch" href="Laputa/assets/js/252.6157489d.js"><link rel="prefetch" href="Laputa/assets/js/253.f91926ff.js"><link rel="prefetch" href="Laputa/assets/js/254.b7fad364.js"><link rel="prefetch" href="Laputa/assets/js/255.73dc5cad.js"><link rel="prefetch" href="Laputa/assets/js/256.6b658f8a.js">
    <link rel="stylesheet" href="Laputa/assets/css/0.styles.21b3d02c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Laputa/" class="home-link router-link-active"><!----> <span class="site-name">Hello VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <!----> </div> <div class="page"> <div class="content"><h1 id="predis"><a href="#predis" aria-hidden="true" class="header-anchor">#</a> Predis</h1> <p><a href="LICENSE"><img src="https://img.shields.io/github/license/nrk/predis.svg?style=flat-square" alt="Software license"></a> <a href="https://packagist.org/packages/predis/predis" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/packagist/v/predis/predis.svg?style=flat-square" alt="Latest stable"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://packagist.org/packages/predis/predis" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/packagist/vpre/predis/predis.svg?style=flat-square" alt="Latest development"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://packagist.org/packages/predis/predis/stats" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/packagist/dm/predis/predis.svg?style=flat-square" alt="Monthly installs"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://travis-ci.org/nrk/predis" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/travis/nrk/predis.svg?style=flat-square" alt="Build status"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="http://hhvm.h4cc.de/package/predis/predis" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/hhvm/predis/predis.svg?style=flat-square" alt="HHVM support"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://gitter.im/nrk/predis" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/gitter/room/nrk/predis.svg?style=flat-square" alt="Gitter room"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Flexible and feature-complete <a href="http://redis.io" target="_blank" rel="noopener noreferrer">Redis<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> client for PHP &gt;= 5.3 and HHVM &gt;= 2.3.0.</p> <p>Predis does not require any additional C extension by default, but it can be optionally paired with
<a href="https://github.com/nrk/phpiredis" target="_blank" rel="noopener noreferrer">phpiredis<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to lower the overhead of the serialization and parsing
of the <a href="http://redis.io/topics/protocol" target="_blank" rel="noopener noreferrer">Redis RESP Protocol<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. For an <strong>experimental</strong> asynchronous
implementation of the client you can refer to <a href="https://github.com/nrk/predis-async" target="_blank" rel="noopener noreferrer">Predis\Async<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>More details about this project can be found on the <a href="/Laputa/vendor/predis/predis/FAQ.html">frequently asked questions</a>.</p> <h2 id="main-features"><a href="#main-features" aria-hidden="true" class="header-anchor">#</a> Main features</h2> <ul><li>Support for different versions of Redis (from <strong>2.0</strong> to <strong>3.2</strong>) using profiles.</li> <li>Support for clustering using client-side sharding and pluggable keyspace distributors.</li> <li>Support for <a href="http://redis.io/topics/cluster-tutorial" target="_blank" rel="noopener noreferrer">redis-cluster<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (Redis &gt;= 3.0).</li> <li>Support for master-slave replication setups and <a href="http://redis.io/topics/sentinel" target="_blank" rel="noopener noreferrer">redis-sentinel<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li> <li>Transparent key prefixing of keys using a customizable prefix strategy.</li> <li>Command pipelining on both single nodes and clusters (client-side sharding only).</li> <li>Abstraction for Redis transactions (Redis &gt;= 2.0) and CAS operations (Redis &gt;= 2.2).</li> <li>Abstraction for Lua scripting (Redis &gt;= 2.6) and automatic switching between <code>EVALSHA</code> or <code>EVAL</code>.</li> <li>Abstraction for <code>SCAN</code>, <code>SSCAN</code>, <code>ZSCAN</code> and <code>HSCAN</code> (Redis &gt;= 2.8) based on PHP iterators.</li> <li>Connections are established lazily by the client upon the first command and can be persisted.</li> <li>Connections can be established via TCP/IP (also TLS/SSL-encrypted) or UNIX domain sockets.</li> <li>Support for <a href="http://webd.is" target="_blank" rel="noopener noreferrer">Webdis<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (requires both <code>ext-curl</code> and <code>ext-phpiredis</code>).</li> <li>Support for custom connection classes for providing different network or protocol backends.</li> <li>Flexible system for defining custom commands and profiles and override the default ones.</li></ul> <h2 id="how-to-install-and-use-predis"><a href="#how-to-install-and-use-predis" aria-hidden="true" class="header-anchor">#</a> How to <em>install</em> and use Predis</h2> <p>This library can be found on <a href="http://packagist.org/packages/predis/predis" target="_blank" rel="noopener noreferrer">Packagist<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for an easier
management of projects dependencies using <a href="http://packagist.org/about-composer" target="_blank" rel="noopener noreferrer">Composer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or on our
<a href="http://pear.nrk.io" target="_blank" rel="noopener noreferrer">own PEAR channel<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for a more traditional installation using PEAR. Ultimately,
compressed archives of each release are <a href="https://github.com/nrk/predis/tags" target="_blank" rel="noopener noreferrer">available on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="loading-the-library"><a href="#loading-the-library" aria-hidden="true" class="header-anchor">#</a> Loading the library</h3> <p>Predis relies on the autoloading features of PHP to load its files when needed and complies with the
<a href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md" target="_blank" rel="noopener noreferrer">PSR-4 standard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
Autoloading is handled automatically when dependencies are managed through Composer, but it is also
possible to leverage its own autoloader in projects or scripts lacking any autoload facility:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Prepend a base path if Predis is not available in your &quot;include_path&quot;.</span>
<span class="token keyword">require</span> <span class="token single-quoted-string string">'Predis/Autoloader.php'</span><span class="token punctuation">;</span>

Predis\<span class="token package">Autoloader</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>It is also possible to create a <a href="http://www.php.net/manual/en/intro.phar.php" target="_blank" rel="noopener noreferrer">phar<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> archive directly
from the repository by launching the <code>bin/create-phar</code> script. The generated phar already contains a
stub defining its own autoloader, so you just need to <code>require()</code> it to start using the library.</p> <h3 id="connecting-to-redis"><a href="#connecting-to-redis" aria-hidden="true" class="header-anchor">#</a> Connecting to Redis</h3> <p>When creating a client instance without passing any connection parameter, Predis assumes <code>127.0.0.1</code>
and <code>6379</code> as default host and port. The default timeout for the <code>connect()</code> operation is 5 seconds:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$value</span> <span class="token operator">=</span> <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Connection parameters can be supplied either in the form of URI strings or named arrays. The latter
is the preferred way to supply parameters, but URI strings can be useful when parameters are read
from non-structured or partially-structured sources:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Parameters passed using a named array:</span>
<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'scheme'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'tcp'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'host'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'10.0.0.1'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'port'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">6379</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Same set of parameters, passed using an URI string:</span>
<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tcp://10.0.0.1:6379'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>It is also possible to connect to local instances of Redis using UNIX domain sockets, in this case
the parameters must use the <code>unix</code> scheme and specify a path for the socket file:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'scheme'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'unix'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'path'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'/path/to/redis.sock'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'unix:/path/to/redis.sock'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The client can leverage TLS/SSL encryption to connect to secured remote Redis instances without the
need to configure an SSL proxy like stunnel. This can be useful when connecting to nodes running on
various cloud hosting providers. Encryption can be enabled with using the <code>tls</code> scheme and an array
of suitable <a href="http://php.net/manual/context.ssl.php" target="_blank" rel="noopener noreferrer">options<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> passed via the <code>ssl</code> parameter:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Named array of connection parameters:</span>
<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token single-quoted-string string">'scheme'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'tls'</span><span class="token punctuation">,</span>
  <span class="token single-quoted-string string">'ssl'</span>    <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'cafile'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'private.pem'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'verify_peer'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token comment">// Same set of parameters, but using an URI string:</span>
<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tls://127.0.0.1?ssl[cafile]=private.pem&amp;ssl[verify_peer]=1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The connection schemes <a href="http://www.iana.org/assignments/uri-schemes/prov/redis" target="_blank" rel="noopener noreferrer"><code>redis</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (alias of
<code>tcp</code>) and <a href="http://www.iana.org/assignments/uri-schemes/prov/rediss" target="_blank" rel="noopener noreferrer"><code>rediss</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (alias of <code>tls</code>) are
also supported, with the difference that URI strings containing these schemes are parsed following
the rules described on their respective IANA provisional registration documents.</p> <p>The actual list of supported connection parameters can vary depending on each connection backend so
it is recommended to refer to their specific documentation or implementation for details.</p> <p>When an array of connection parameters is provided, Predis automatically works in cluster mode using
client-side sharding. Both named arrays and URI strings can be mixed when providing configurations
for each node:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'tcp://10.0.0.1?alias=first-node'</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token single-quoted-string string">'host'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'10.0.0.2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'alias'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'second-node'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>See the <a href="#aggregate-connections">aggregate connections</a> section of this document for more details.</p> <p>Connections to Redis are lazy meaning that the client connects to a server only if and when needed.
While it is recommended to let the client do its own stuff under the hood, there may be times when
it is still desired to have control of when the connection is opened or closed: this can easily be
achieved by invoking <code>$client-&gt;connect()</code> and <code>$client-&gt;disconnect()</code>. Please note that the effect
of these methods on aggregate connections may differ depending on each specific implementation.</p> <h3 id="client-configuration"><a href="#client-configuration" aria-hidden="true" class="header-anchor">#</a> Client configuration</h3> <p>Many aspects and behaviors of the client can be configured by passing specific client options to the
second argument of <code>Predis\Client::__construct()</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token variable">$parameters</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'profile'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'2.8'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'prefix'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'sample:'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Options are managed using a mini DI-alike container and their values can be lazily initialized only
when needed. The client options supported by default in Predis are:</p> <ul><li><code>profile</code>: specifies the profile to use to match a specific version of Redis.</li> <li><code>prefix</code>: prefix string automatically applied to keys found in commands.</li> <li><code>exceptions</code>: whether the client should throw or return responses upon Redis errors.</li> <li><code>connections</code>: list of connection backends or a connection factory instance.</li> <li><code>cluster</code>: specifies a cluster backend (<code>predis</code>, <code>redis</code> or callable object).</li> <li><code>replication</code>: specifies a replication backend (<code>TRUE</code>, <code>sentinel</code> or callable object).</li> <li><code>aggregate</code>: overrides <code>cluster</code> and <code>replication</code> to provide a custom connections aggregator.</li> <li><code>parameters</code>: list of default connection parameters for aggregate connections.</li></ul> <p>Users can also provide custom options with values or callable objects (for lazy initialization) that
are stored in the options container for later use through the library.</p> <h3 id="aggregate-connections"><a href="#aggregate-connections" aria-hidden="true" class="header-anchor">#</a> Aggregate connections</h3> <p>Aggregate connections are the foundation upon which Predis implements clustering and replication and
they are used to group multiple connections to single Redis nodes and hide the specific logic needed
to handle them properly depending on the context. Aggregate connections usually require an array of
connection parameters when creating a new client instance.</p> <h4 id="cluster"><a href="#cluster" aria-hidden="true" class="header-anchor">#</a> Cluster</h4> <p>By default, when no specific client options are set and an array of connection parameters is passed
to the client's constructor, Predis configures itself to work in clustering mode using a traditional
client-side sharding approach to create a cluster of independent nodes and distribute the keyspace
among them. This approach needs some form of external health monitoring of nodes and requires manual
operations to rebalance the keyspace when changing its configuration by adding or removing nodes:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$parameters</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'tcp://10.0.0.1'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tcp://10.0.0.2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tcp://10.0.0.3'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token variable">$parameters</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Along with Redis 3.0, a new supervised and coordinated type of clustering was introduced in the form
of <a href="http://redis.io/topics/cluster-tutorial" target="_blank" rel="noopener noreferrer">redis-cluster<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This kind of approach uses a different
algorithm to distribute the keyspaces, with Redis nodes coordinating themselves by communicating via
a gossip protocol to handle health status, rebalancing, nodes discovery and request redirection. In
order to connect to a cluster managed by redis-cluster, the client requires a list of its nodes (not
necessarily complete since it will automatically discover new nodes if necessary) and the <code>cluster</code>
client options set to <code>redis</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$parameters</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'tcp://10.0.0.1'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tcp://10.0.0.2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tcp://10.0.0.3'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$options</span>    <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'cluster'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'redis'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token variable">$parameters</span><span class="token punctuation">,</span> <span class="token variable">$options</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="replication"><a href="#replication" aria-hidden="true" class="header-anchor">#</a> Replication</h4> <p>The client can be configured to operate in a single master / multiple slaves setup to provide better
service availability. When using replication, Predis recognizes read-only commands and sends them to
a random slave in order to provide some sort of load-balancing and switches to the master as soon as
it detects a command that performs any kind of operation that would end up modifying the keyspace or
the value of a key. Instead of raising a connection error when a slave fails, the client attempts to
fall back to a different slave among the ones provided in the configuration.</p> <p>The basic configuration needed to use the client in replication mode requires one Redis server to be
identified as the master (this can be done via connection parameters using the <code>alias</code> parameter set
to <code>master</code>) and one or more servers acting as slaves:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$parameters</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'tcp://10.0.0.1?alias=master'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tcp://10.0.0.2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tcp://10.0.0.3'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$options</span>    <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'replication'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token variable">$parameters</span><span class="token punctuation">,</span> <span class="token variable">$options</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The above configuration has a static list of servers and relies entirely on the client's logic, but
it is possible to rely on <a href="http://redis.io/topics/sentinel" target="_blank" rel="noopener noreferrer"><code>redis-sentinel</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for a more robust HA
environment with sentinel servers acting as a source of authority for clients for service discovery.
The minimum configuration required by the client to work with redis-sentinel is a list of connection
parameters pointing to a bunch of sentinel instances, the <code>replication</code> option set to <code>sentinel</code> and
the <code>service</code> option set to the name of the service:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$sentinels</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'tcp://10.0.0.1'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tcp://10.0.0.2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tcp://10.0.0.3'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$options</span>   <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'replication'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'sentinel'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'service'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'mymaster'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token variable">$sentinels</span><span class="token punctuation">,</span> <span class="token variable">$options</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>If the master and slave nodes are configured to require an authentication from clients, a password
must be provided via the global <code>parameters</code> client option. This option can also be used to specify
a different database index. The client options array would then look like this:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$options</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'replication'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'sentinel'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'service'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'mymaster'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'parameters'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'password'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$secretpassword</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'database'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>While Predis is able to distinguish commands performing write and read-only operations, <code>EVAL</code> and
<code>EVALSHA</code> represent a corner case in which the client switches to the master node because it cannot
tell when a Lua script is safe to be executed on slaves. While this is indeed the default behavior,
when certain Lua scripts do not perform write operations it is possible to provide an hint to tell
the client to stick with slaves for their execution:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$parameters</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'tcp://10.0.0.1?alias=master'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tcp://10.0.0.2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tcp://10.0.0.3'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$options</span>    <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'replication'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Set scripts that won't trigger a switch from a slave to the master node.</span>
    <span class="token variable">$strategy</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Replication<span class="token punctuation">\</span>ReplicationStrategy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$strategy</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setScriptReadOnly</span><span class="token punctuation">(</span><span class="token variable">$LUA_SCRIPT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Connection<span class="token punctuation">\</span>Aggregate<span class="token punctuation">\</span>MasterSlaveReplication</span><span class="token punctuation">(</span><span class="token variable">$strategy</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token variable">$parameters</span><span class="token punctuation">,</span> <span class="token variable">$options</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token variable">$LUA_SCRIPT</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// Sticks to slave using `eval`...</span>
<span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">evalsha</span><span class="token punctuation">(</span><span class="token function">sha1</span><span class="token punctuation">(</span><span class="token variable">$LUA_SCRIPT</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ... and `evalsha`, too.</span>
</code></pre></div><p>The <a href="/Laputa/vendor/predis/predis/examples/"><code>examples</code></a> directory contains a few scripts that demonstrate how the client can be
configured and used to leverage replication in both basic and complex scenarios.</p> <h3 id="command-pipelines"><a href="#command-pipelines" aria-hidden="true" class="header-anchor">#</a> Command pipelines</h3> <p>Pipelining can help with performances when many commands need to be sent to a server by reducing the
latency introduced by network round-trip timings. Pipelining also works with aggregate connections.
The client can execute the pipeline inside a callable block or return a pipeline instance with the
ability to chain commands thanks to its fluent interface:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Executes a pipeline inside the given callable block:</span>
<span class="token variable">$responses</span> <span class="token operator">=</span> <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$pipe</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$pipe</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;key:<span class="token interpolation"><span class="token variable">$i</span></span>&quot;</span><span class="token punctuation">,</span> <span class="token function">str_pad</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'0'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$pipe</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;key:<span class="token interpolation"><span class="token variable">$i</span></span>&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Returns a pipeline that can be chained thanks to its fluent interface:</span>
<span class="token variable">$responses</span> <span class="token operator">=</span> <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'bar'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="transactions"><a href="#transactions" aria-hidden="true" class="header-anchor">#</a> Transactions</h3> <p>The client provides an abstraction for Redis transactions based on <code>MULTI</code> and <code>EXEC</code> with a similar
interface to command pipelines:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Executes a transaction inside the given callable block:</span>
<span class="token variable">$responses</span> <span class="token operator">=</span> <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$tx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$tx</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$tx</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Returns a transaction that can be chained thanks to its fluent interface:</span>
<span class="token variable">$responses</span> <span class="token operator">=</span> <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'bar'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This abstraction can perform check-and-set operations thanks to <code>WATCH</code> and <code>UNWATCH</code> and provides
automatic retries of transactions aborted by Redis when <code>WATCH</code>ed keys are touched. For an example
of a transaction using CAS you can see <a href="examples/transaction_using_cas.php">the following example</a>.</p> <h3 id="adding-new-commands"><a href="#adding-new-commands" aria-hidden="true" class="header-anchor">#</a> Adding new commands</h3> <p>While we try to update Predis to stay up to date with all the commands available in Redis, you might
prefer to stick with an old version of the library or provide a different way to filter arguments or
parse responses for specific commands. To achieve that, Predis provides the ability to implement new
command classes to define or override commands in the default server profiles used by the client:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Define a new command by extending Predis\Command\Command:</span>
<span class="token keyword">class</span> <span class="token class-name">BrandNewRedisCommand</span> <span class="token keyword">extends</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Command<span class="token punctuation">\</span>Command</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token single-quoted-string string">'NEWCMD'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Inject your command in the current profile:</span>
<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">defineCommand</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'newcmd'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'BrandNewRedisCommand'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">newcmd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>There is also a method to send raw commands without filtering their arguments or parsing responses.
Users must provide the list of arguments for the command as an array, following the signatures as
defined by the <a href="http://redis.io/commands" target="_blank" rel="noopener noreferrer">Redis documentation for commands<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">executeRaw</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'SET'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'foo'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="script-commands"><a href="#script-commands" aria-hidden="true" class="header-anchor">#</a> Script commands</h3> <p>While it is possible to leverage <a href="http://redis.io/commands/eval" target="_blank" rel="noopener noreferrer">Lua scripting<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> on Redis 2.6+ using
directly <a href="http://redis.io/commands/eval" target="_blank" rel="noopener noreferrer"><code>EVAL</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="http://redis.io/commands/evalsha" target="_blank" rel="noopener noreferrer"><code>EVALSHA</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
Predis offers script commands as an higher level abstraction built upon them to make things simple.
Script commands can be registered in the server profile used by the client and are accessible as if
they were plain Redis commands, but they define Lua scripts that get transmitted to the server for
remote execution. Internally they use <a href="http://redis.io/commands/evalsha" target="_blank" rel="noopener noreferrer"><code>EVALSHA</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> by default and
identify a script by its SHA1 hash to save bandwidth, but <a href="http://redis.io/commands/eval" target="_blank" rel="noopener noreferrer"><code>EVAL</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
is used as a fall back when needed:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Define a new script command by extending Predis\Command\ScriptCommand:</span>
<span class="token keyword">class</span> <span class="token class-name">ListPushRandomValue</span> <span class="token keyword">extends</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Command<span class="token punctuation">\</span>ScriptCommand</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getKeysCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token heredoc-string string"><span class="token delimiter symbol"><span class="token punctuation">&lt;&lt;&lt;</span>LUA</span>
math.randomseed(ARGV[1])
local rnd = tostring(math.random())
redis.call('lpush', KEYS[1], rnd)
return rnd
<span class="token delimiter symbol">LUA<span class="token punctuation">;</span></span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Inject the script command in the current profile:</span>
<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">defineCommand</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'lpushrand'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'ListPushRandomValue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lpushrand</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'random_values'</span><span class="token punctuation">,</span> <span class="token variable">$seed</span> <span class="token operator">=</span> <span class="token function">mt_rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="customizable-connection-backends"><a href="#customizable-connection-backends" aria-hidden="true" class="header-anchor">#</a> Customizable connection backends</h3> <p>Predis can use different connection backends to connect to Redis. Two of them leverage a third party
extension such as <a href="https://github.com/nrk/phpiredis" target="_blank" rel="noopener noreferrer">phpiredis<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> resulting in major performance gains
especially when dealing with big multibulk responses. While one is based on PHP streams, the other
is based on socket resources provided by <code>ext-socket</code>. Both support TCP/IP and UNIX domain sockets:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tcp://127.0.0.1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'connections'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'tcp'</span>  <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Predis\Connection\PhpiredisStreamConnection'</span><span class="token punctuation">,</span>  <span class="token comment">// PHP stream resources</span>
        <span class="token single-quoted-string string">'unix'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Predis\Connection\PhpiredisSocketConnection'</span><span class="token punctuation">,</span>  <span class="token comment">// ext-socket resources</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Developers can create their own connection classes to support whole new network backends, extend
existing classes or provide completely different implementations. Connection classes must implement
<code>Predis\Connection\NodeConnectionInterface</code> or extend <code>Predis\Connection\AbstractConnection</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name">MyConnectionClass</span> <span class="token keyword">implements</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Connection<span class="token punctuation">\</span>NodeConnectionInterface</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Implementation goes here...</span>
<span class="token punctuation">}</span>

<span class="token comment">// Use MyConnectionClass to handle connections for the `tcp` scheme:</span>
<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Predis<span class="token punctuation">\</span>Client</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tcp://127.0.0.1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'connections'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'tcp'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'MyConnectionClass'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>For a more in-depth insight on how to create new connection backends you can refer to the actual
implementation of the standard connection classes available in the <code>Predis\Connection</code> namespace.</p> <h2 id="development"><a href="#development" aria-hidden="true" class="header-anchor">#</a> Development</h2> <h3 id="reporting-bugs-and-contributing-code"><a href="#reporting-bugs-and-contributing-code" aria-hidden="true" class="header-anchor">#</a> Reporting bugs and contributing code</h3> <p>Contributions to Predis are highly appreciated either in the form of pull requests for new features,
bug fixes, or just bug reports. We only ask you to adhere to a <a href="/Laputa/vendor/predis/predis/CONTRIBUTING.html">basic set of rules</a>
before submitting your changes or filing bugs on the issue tracker to make it easier for everyone to
stay consistent while working on the project.</p> <h3 id="test-suite"><a href="#test-suite" aria-hidden="true" class="header-anchor">#</a> Test suite</h3> <p><strong>ATTENTION</strong>: Do not ever run the test suite shipped with Predis against instances of Redis running
in production environments or containing data you are interested in!</p> <p>Predis has a comprehensive test suite covering every aspect of the library. This test suite performs
integration tests against a running instance of Redis (&gt;= 2.4.0 is required) to verify the correct
behavior of the implementation of each command and automatically skips commands not defined in the
specified Redis profile. If you do not have Redis up and running, integration tests can be disabled.
By default the test suite is configured to execute integration tests using the profile for Redis 3.2
(which is the current stable version of Redis) but can optionally target a Redis instance built from
the <code>unstable</code> branch by modifying <code>phpunit.xml</code> and setting <code>REDIS_SERVER_VERSION</code> to <code>dev</code> so that
the development server profile will be used. You can refer to <a href="/Laputa/vendor/predis/predis/tests/">the tests README</a>
for more detailed information about testing Predis.</p> <p>Predis uses Travis CI for continuous integration and the history for past and current builds can be
found <a href="http://travis-ci.org/nrk/predis" target="_blank" rel="noopener noreferrer">on its project page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="other"><a href="#other" aria-hidden="true" class="header-anchor">#</a> Other</h2> <h3 id="project-related-links"><a href="#project-related-links" aria-hidden="true" class="header-anchor">#</a> Project related links</h3> <ul><li><a href="https://github.com/nrk/predis" target="_blank" rel="noopener noreferrer">Source code<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://wiki.github.com/nrk/predis" target="_blank" rel="noopener noreferrer">Wiki<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/nrk/predis/issues" target="_blank" rel="noopener noreferrer">Issue tracker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://pear.nrk.io" target="_blank" rel="noopener noreferrer">PEAR channel<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="author"><a href="#author" aria-hidden="true" class="header-anchor">#</a> Author</h3> <ul><li><a href="mailto:suppakilla@gmail.com">Daniele Alessandri</a> (<a href="http://twitter.com/JoL1hAHN" target="_blank" rel="noopener noreferrer">twitter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</li></ul> <h3 id="license"><a href="#license" aria-hidden="true" class="header-anchor">#</a> License</h3> <p>The code for Predis is distributed under the terms of the MIT license (see <a href="LICENSE">LICENSE</a>).</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="Laputa/assets/js/147.cd7a75ec.js" defer></script><script src="Laputa/assets/js/app.6f999ec1.js" defer></script>
  </body>
</html>
