<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hello VuePress</title>
    <meta name="description" content="Just playing around">
    <link rel="icon" href="https://static.calibur.tv/favicon.ico">
    
    <link rel="preload" href="Laputa/assets/css/0.styles.21b3d02c.css" as="style"><link rel="preload" href="Laputa/assets/js/app.6f999ec1.js" as="script"><link rel="preload" href="Laputa/assets/js/144.1985fb6e.js" as="script"><link rel="prefetch" href="Laputa/assets/js/127.5d5c2a9e.js"><link rel="prefetch" href="Laputa/assets/js/2.cda51ec0.js"><link rel="prefetch" href="Laputa/assets/js/3.a88ade89.js"><link rel="prefetch" href="Laputa/assets/js/4.f0a47b5a.js"><link rel="prefetch" href="Laputa/assets/js/5.eb4e2f15.js"><link rel="prefetch" href="Laputa/assets/js/6.ae349cfe.js"><link rel="prefetch" href="Laputa/assets/js/7.d8abf350.js"><link rel="prefetch" href="Laputa/assets/js/8.7660bbc3.js"><link rel="prefetch" href="Laputa/assets/js/9.9282dabe.js"><link rel="prefetch" href="Laputa/assets/js/10.ea22ba46.js"><link rel="prefetch" href="Laputa/assets/js/11.ed71705a.js"><link rel="prefetch" href="Laputa/assets/js/12.bab571ae.js"><link rel="prefetch" href="Laputa/assets/js/13.78fc55ea.js"><link rel="prefetch" href="Laputa/assets/js/14.765cca5f.js"><link rel="prefetch" href="Laputa/assets/js/15.7f1ee911.js"><link rel="prefetch" href="Laputa/assets/js/16.1de690fb.js"><link rel="prefetch" href="Laputa/assets/js/17.0c9bcfe7.js"><link rel="prefetch" href="Laputa/assets/js/18.4ea1b5ec.js"><link rel="prefetch" href="Laputa/assets/js/19.8c8f8b57.js"><link rel="prefetch" href="Laputa/assets/js/20.9129a22f.js"><link rel="prefetch" href="Laputa/assets/js/21.b84b104e.js"><link rel="prefetch" href="Laputa/assets/js/22.fe164d26.js"><link rel="prefetch" href="Laputa/assets/js/23.dee79d2c.js"><link rel="prefetch" href="Laputa/assets/js/24.7a76775e.js"><link rel="prefetch" href="Laputa/assets/js/25.57b548b0.js"><link rel="prefetch" href="Laputa/assets/js/26.22bea336.js"><link rel="prefetch" href="Laputa/assets/js/27.f372908a.js"><link rel="prefetch" href="Laputa/assets/js/28.7c33523e.js"><link rel="prefetch" href="Laputa/assets/js/29.0b631070.js"><link rel="prefetch" href="Laputa/assets/js/30.fde1b56c.js"><link rel="prefetch" href="Laputa/assets/js/31.19440d0b.js"><link rel="prefetch" href="Laputa/assets/js/32.09c05419.js"><link rel="prefetch" href="Laputa/assets/js/33.f24b2fa1.js"><link rel="prefetch" href="Laputa/assets/js/34.704234d2.js"><link rel="prefetch" href="Laputa/assets/js/35.3538aa16.js"><link rel="prefetch" href="Laputa/assets/js/36.9fd936b8.js"><link rel="prefetch" href="Laputa/assets/js/37.029a950c.js"><link rel="prefetch" href="Laputa/assets/js/38.ca2d406b.js"><link rel="prefetch" href="Laputa/assets/js/39.6d640b65.js"><link rel="prefetch" href="Laputa/assets/js/40.da4aa4d2.js"><link rel="prefetch" href="Laputa/assets/js/41.15815f6e.js"><link rel="prefetch" href="Laputa/assets/js/42.87b4655d.js"><link rel="prefetch" href="Laputa/assets/js/43.87956add.js"><link rel="prefetch" href="Laputa/assets/js/44.ed836e06.js"><link rel="prefetch" href="Laputa/assets/js/45.f6149b9c.js"><link rel="prefetch" href="Laputa/assets/js/46.57e569c9.js"><link rel="prefetch" href="Laputa/assets/js/47.53bc0ff4.js"><link rel="prefetch" href="Laputa/assets/js/48.e16402f6.js"><link rel="prefetch" href="Laputa/assets/js/49.ef4b9870.js"><link rel="prefetch" href="Laputa/assets/js/50.97b2795a.js"><link rel="prefetch" href="Laputa/assets/js/51.1df1f3d1.js"><link rel="prefetch" href="Laputa/assets/js/52.727e7778.js"><link rel="prefetch" href="Laputa/assets/js/53.f8356a1e.js"><link rel="prefetch" href="Laputa/assets/js/54.8f15ada1.js"><link rel="prefetch" href="Laputa/assets/js/55.fc41623e.js"><link rel="prefetch" href="Laputa/assets/js/56.b65567d0.js"><link rel="prefetch" href="Laputa/assets/js/57.3cb52983.js"><link rel="prefetch" href="Laputa/assets/js/58.ff69625f.js"><link rel="prefetch" href="Laputa/assets/js/59.b99f5762.js"><link rel="prefetch" href="Laputa/assets/js/60.b7c53f3f.js"><link rel="prefetch" href="Laputa/assets/js/61.2757576d.js"><link rel="prefetch" href="Laputa/assets/js/62.5d25765e.js"><link rel="prefetch" href="Laputa/assets/js/63.a6b7406e.js"><link rel="prefetch" href="Laputa/assets/js/64.7bba8fd1.js"><link rel="prefetch" href="Laputa/assets/js/65.6e593ebf.js"><link rel="prefetch" href="Laputa/assets/js/66.b926ddd2.js"><link rel="prefetch" href="Laputa/assets/js/67.c8c69cd3.js"><link rel="prefetch" href="Laputa/assets/js/68.cb4bb5cb.js"><link rel="prefetch" href="Laputa/assets/js/69.a7b09174.js"><link rel="prefetch" href="Laputa/assets/js/70.02c49833.js"><link rel="prefetch" href="Laputa/assets/js/71.1c53c636.js"><link rel="prefetch" href="Laputa/assets/js/72.bb0f586e.js"><link rel="prefetch" href="Laputa/assets/js/73.aa250a71.js"><link rel="prefetch" href="Laputa/assets/js/74.fcd8312b.js"><link rel="prefetch" href="Laputa/assets/js/75.ee561d5e.js"><link rel="prefetch" href="Laputa/assets/js/76.8d6c7d11.js"><link rel="prefetch" href="Laputa/assets/js/77.3c5c7747.js"><link rel="prefetch" href="Laputa/assets/js/78.0afb8d36.js"><link rel="prefetch" href="Laputa/assets/js/79.e09176dc.js"><link rel="prefetch" href="Laputa/assets/js/80.6add3555.js"><link rel="prefetch" href="Laputa/assets/js/81.46dfeac8.js"><link rel="prefetch" href="Laputa/assets/js/82.8c7bae69.js"><link rel="prefetch" href="Laputa/assets/js/83.3c1031f4.js"><link rel="prefetch" href="Laputa/assets/js/84.5414c057.js"><link rel="prefetch" href="Laputa/assets/js/85.434414f7.js"><link rel="prefetch" href="Laputa/assets/js/86.032ff5b5.js"><link rel="prefetch" href="Laputa/assets/js/87.1387e175.js"><link rel="prefetch" href="Laputa/assets/js/88.ef068175.js"><link rel="prefetch" href="Laputa/assets/js/89.3c86a439.js"><link rel="prefetch" href="Laputa/assets/js/90.7b4ceab8.js"><link rel="prefetch" href="Laputa/assets/js/91.993029ce.js"><link rel="prefetch" href="Laputa/assets/js/92.cd0f0552.js"><link rel="prefetch" href="Laputa/assets/js/93.2ea5e4ed.js"><link rel="prefetch" href="Laputa/assets/js/94.d77f771e.js"><link rel="prefetch" href="Laputa/assets/js/95.bfb1166d.js"><link rel="prefetch" href="Laputa/assets/js/96.d656aebb.js"><link rel="prefetch" href="Laputa/assets/js/97.8d318516.js"><link rel="prefetch" href="Laputa/assets/js/98.836a48cc.js"><link rel="prefetch" href="Laputa/assets/js/99.90560d29.js"><link rel="prefetch" href="Laputa/assets/js/100.a889b1b9.js"><link rel="prefetch" href="Laputa/assets/js/101.92c2d09f.js"><link rel="prefetch" href="Laputa/assets/js/102.41e8fe4c.js"><link rel="prefetch" href="Laputa/assets/js/103.1e7ebc3c.js"><link rel="prefetch" href="Laputa/assets/js/104.9b5e097e.js"><link rel="prefetch" href="Laputa/assets/js/105.664970bd.js"><link rel="prefetch" href="Laputa/assets/js/106.61b9108e.js"><link rel="prefetch" href="Laputa/assets/js/107.fffe8d0f.js"><link rel="prefetch" href="Laputa/assets/js/108.6ab1e942.js"><link rel="prefetch" href="Laputa/assets/js/109.df13f020.js"><link rel="prefetch" href="Laputa/assets/js/110.3ee4fa68.js"><link rel="prefetch" href="Laputa/assets/js/111.b836e8af.js"><link rel="prefetch" href="Laputa/assets/js/112.a83b7d02.js"><link rel="prefetch" href="Laputa/assets/js/113.ded87a86.js"><link rel="prefetch" href="Laputa/assets/js/114.297ad3a1.js"><link rel="prefetch" href="Laputa/assets/js/115.544749de.js"><link rel="prefetch" href="Laputa/assets/js/116.a8d4b51b.js"><link rel="prefetch" href="Laputa/assets/js/117.4f44196d.js"><link rel="prefetch" href="Laputa/assets/js/118.89df9a9d.js"><link rel="prefetch" href="Laputa/assets/js/119.2dba598a.js"><link rel="prefetch" href="Laputa/assets/js/120.fc3b4984.js"><link rel="prefetch" href="Laputa/assets/js/121.9fdd6483.js"><link rel="prefetch" href="Laputa/assets/js/122.b56010ca.js"><link rel="prefetch" href="Laputa/assets/js/123.41518099.js"><link rel="prefetch" href="Laputa/assets/js/124.2353c219.js"><link rel="prefetch" href="Laputa/assets/js/125.16055535.js"><link rel="prefetch" href="Laputa/assets/js/126.9edc34c6.js"><link rel="prefetch" href="Laputa/assets/js/128.483176b9.js"><link rel="prefetch" href="Laputa/assets/js/129.d0a84feb.js"><link rel="prefetch" href="Laputa/assets/js/130.e8a23474.js"><link rel="prefetch" href="Laputa/assets/js/131.46723320.js"><link rel="prefetch" href="Laputa/assets/js/132.a9d65b65.js"><link rel="prefetch" href="Laputa/assets/js/133.565a1e84.js"><link rel="prefetch" href="Laputa/assets/js/134.9a13e04e.js"><link rel="prefetch" href="Laputa/assets/js/135.c29729f1.js"><link rel="prefetch" href="Laputa/assets/js/136.1e528d9b.js"><link rel="prefetch" href="Laputa/assets/js/137.ae8b404d.js"><link rel="prefetch" href="Laputa/assets/js/138.be0e6cbb.js"><link rel="prefetch" href="Laputa/assets/js/139.237416e3.js"><link rel="prefetch" href="Laputa/assets/js/140.4ab9ca1a.js"><link rel="prefetch" href="Laputa/assets/js/141.74e2f092.js"><link rel="prefetch" href="Laputa/assets/js/142.0ecb3a43.js"><link rel="prefetch" href="Laputa/assets/js/143.be6d4143.js"><link rel="prefetch" href="Laputa/assets/js/145.37a16214.js"><link rel="prefetch" href="Laputa/assets/js/146.3b54b80d.js"><link rel="prefetch" href="Laputa/assets/js/147.cd7a75ec.js"><link rel="prefetch" href="Laputa/assets/js/148.c069a727.js"><link rel="prefetch" href="Laputa/assets/js/149.31e9b53c.js"><link rel="prefetch" href="Laputa/assets/js/150.97670c74.js"><link rel="prefetch" href="Laputa/assets/js/151.ea21f131.js"><link rel="prefetch" href="Laputa/assets/js/152.7fb53639.js"><link rel="prefetch" href="Laputa/assets/js/153.fc1a3224.js"><link rel="prefetch" href="Laputa/assets/js/154.d139b199.js"><link rel="prefetch" href="Laputa/assets/js/155.d8803711.js"><link rel="prefetch" href="Laputa/assets/js/156.b5f75d9b.js"><link rel="prefetch" href="Laputa/assets/js/157.534cff67.js"><link rel="prefetch" href="Laputa/assets/js/158.507711d4.js"><link rel="prefetch" href="Laputa/assets/js/159.bbe8196f.js"><link rel="prefetch" href="Laputa/assets/js/160.01a377d7.js"><link rel="prefetch" href="Laputa/assets/js/161.df7bc156.js"><link rel="prefetch" href="Laputa/assets/js/162.4c050e9a.js"><link rel="prefetch" href="Laputa/assets/js/163.f633cfe3.js"><link rel="prefetch" href="Laputa/assets/js/164.9a7cde98.js"><link rel="prefetch" href="Laputa/assets/js/165.8383c6e0.js"><link rel="prefetch" href="Laputa/assets/js/166.84973e7b.js"><link rel="prefetch" href="Laputa/assets/js/167.139a83e5.js"><link rel="prefetch" href="Laputa/assets/js/168.b0d2bd4d.js"><link rel="prefetch" href="Laputa/assets/js/169.e800feb9.js"><link rel="prefetch" href="Laputa/assets/js/170.f9451e36.js"><link rel="prefetch" href="Laputa/assets/js/171.a83a4665.js"><link rel="prefetch" href="Laputa/assets/js/172.c211eed7.js"><link rel="prefetch" href="Laputa/assets/js/173.c3a50a74.js"><link rel="prefetch" href="Laputa/assets/js/174.eb3ff294.js"><link rel="prefetch" href="Laputa/assets/js/175.710a54ce.js"><link rel="prefetch" href="Laputa/assets/js/176.b8b0c286.js"><link rel="prefetch" href="Laputa/assets/js/177.53f441fa.js"><link rel="prefetch" href="Laputa/assets/js/178.81400b25.js"><link rel="prefetch" href="Laputa/assets/js/179.8d7755c9.js"><link rel="prefetch" href="Laputa/assets/js/180.cb1b319d.js"><link rel="prefetch" href="Laputa/assets/js/181.897fd3aa.js"><link rel="prefetch" href="Laputa/assets/js/182.5bbea4a6.js"><link rel="prefetch" href="Laputa/assets/js/183.59d5d5b7.js"><link rel="prefetch" href="Laputa/assets/js/184.7a6514a7.js"><link rel="prefetch" href="Laputa/assets/js/185.26dd8cdd.js"><link rel="prefetch" href="Laputa/assets/js/186.978c4dde.js"><link rel="prefetch" href="Laputa/assets/js/187.2ee204e3.js"><link rel="prefetch" href="Laputa/assets/js/188.29baaca4.js"><link rel="prefetch" href="Laputa/assets/js/189.fe643f03.js"><link rel="prefetch" href="Laputa/assets/js/190.dd3ce693.js"><link rel="prefetch" href="Laputa/assets/js/191.c9ffbdf3.js"><link rel="prefetch" href="Laputa/assets/js/192.402577fb.js"><link rel="prefetch" href="Laputa/assets/js/193.4278458a.js"><link rel="prefetch" href="Laputa/assets/js/194.26c0a999.js"><link rel="prefetch" href="Laputa/assets/js/195.b3bbd6f1.js"><link rel="prefetch" href="Laputa/assets/js/196.ec2775a6.js"><link rel="prefetch" href="Laputa/assets/js/197.7a1de435.js"><link rel="prefetch" href="Laputa/assets/js/198.b0d0b4b2.js"><link rel="prefetch" href="Laputa/assets/js/199.68e2f133.js"><link rel="prefetch" href="Laputa/assets/js/200.ac303e12.js"><link rel="prefetch" href="Laputa/assets/js/201.629c56c3.js"><link rel="prefetch" href="Laputa/assets/js/202.f8efe17e.js"><link rel="prefetch" href="Laputa/assets/js/203.24648560.js"><link rel="prefetch" href="Laputa/assets/js/204.413e0508.js"><link rel="prefetch" href="Laputa/assets/js/205.a575ce92.js"><link rel="prefetch" href="Laputa/assets/js/206.7c9b685e.js"><link rel="prefetch" href="Laputa/assets/js/207.1ab88c98.js"><link rel="prefetch" href="Laputa/assets/js/208.351562e6.js"><link rel="prefetch" href="Laputa/assets/js/209.1b054dd4.js"><link rel="prefetch" href="Laputa/assets/js/210.1e8ec36f.js"><link rel="prefetch" href="Laputa/assets/js/211.bd920edf.js"><link rel="prefetch" href="Laputa/assets/js/212.ebc1bea5.js"><link rel="prefetch" href="Laputa/assets/js/213.353cd010.js"><link rel="prefetch" href="Laputa/assets/js/214.4833f3e1.js"><link rel="prefetch" href="Laputa/assets/js/215.1946cb78.js"><link rel="prefetch" href="Laputa/assets/js/216.26c1e1d5.js"><link rel="prefetch" href="Laputa/assets/js/217.ba12abbd.js"><link rel="prefetch" href="Laputa/assets/js/218.4e7296f1.js"><link rel="prefetch" href="Laputa/assets/js/219.529550de.js"><link rel="prefetch" href="Laputa/assets/js/220.b8021d90.js"><link rel="prefetch" href="Laputa/assets/js/221.802a3551.js"><link rel="prefetch" href="Laputa/assets/js/222.bc0d810e.js"><link rel="prefetch" href="Laputa/assets/js/223.8cdfb2ab.js"><link rel="prefetch" href="Laputa/assets/js/224.7c4d2af9.js"><link rel="prefetch" href="Laputa/assets/js/225.3ee841fd.js"><link rel="prefetch" href="Laputa/assets/js/226.7df98d80.js"><link rel="prefetch" href="Laputa/assets/js/227.f8cf7429.js"><link rel="prefetch" href="Laputa/assets/js/228.1bbe3cd5.js"><link rel="prefetch" href="Laputa/assets/js/229.9255cc40.js"><link rel="prefetch" href="Laputa/assets/js/230.9fe34f11.js"><link rel="prefetch" href="Laputa/assets/js/231.4162b6b5.js"><link rel="prefetch" href="Laputa/assets/js/232.49ddd09a.js"><link rel="prefetch" href="Laputa/assets/js/233.7a3b967d.js"><link rel="prefetch" href="Laputa/assets/js/234.7df4ccbc.js"><link rel="prefetch" href="Laputa/assets/js/235.8439e9f2.js"><link rel="prefetch" href="Laputa/assets/js/236.3bec368c.js"><link rel="prefetch" href="Laputa/assets/js/237.159a831f.js"><link rel="prefetch" href="Laputa/assets/js/238.67f44d76.js"><link rel="prefetch" href="Laputa/assets/js/239.34b19aa7.js"><link rel="prefetch" href="Laputa/assets/js/240.cbcf457d.js"><link rel="prefetch" href="Laputa/assets/js/241.58c5bf48.js"><link rel="prefetch" href="Laputa/assets/js/242.23600eb9.js"><link rel="prefetch" href="Laputa/assets/js/243.7ed95623.js"><link rel="prefetch" href="Laputa/assets/js/244.ff6b7298.js"><link rel="prefetch" href="Laputa/assets/js/245.9cf038e8.js"><link rel="prefetch" href="Laputa/assets/js/246.fa1277bb.js"><link rel="prefetch" href="Laputa/assets/js/247.11fee991.js"><link rel="prefetch" href="Laputa/assets/js/248.3655e1e1.js"><link rel="prefetch" href="Laputa/assets/js/249.8fbd4f7c.js"><link rel="prefetch" href="Laputa/assets/js/250.85d161fa.js"><link rel="prefetch" href="Laputa/assets/js/251.481032de.js"><link rel="prefetch" href="Laputa/assets/js/252.6157489d.js"><link rel="prefetch" href="Laputa/assets/js/253.f91926ff.js"><link rel="prefetch" href="Laputa/assets/js/254.b7fad364.js"><link rel="prefetch" href="Laputa/assets/js/255.73dc5cad.js"><link rel="prefetch" href="Laputa/assets/js/256.6b658f8a.js">
    <link rel="stylesheet" href="Laputa/assets/css/0.styles.21b3d02c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Laputa/" class="home-link router-link-active"><!----> <span class="site-name">Hello VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <!----> </div> <div class="page"> <div class="content"><h1 id="v1-1-1-2016-06-16"><a href="#v1-1-1-2016-06-16" aria-hidden="true" class="header-anchor">#</a> v1.1.1 (2016-06-16)</h1> <ul><li><p><strong>FIX</strong>: <code>password</code> and <code>database</code> from the global <code>parameters</code> client option
were still being applied to sentinels connections making them fail (sentinels
do not understand the <code>AUTH</code> and <code>SELECT</code> commands) (PR #346).</p></li> <li><p><strong>FIX</strong>: when a sentinel instance reports no sentinel for a service, invoking
<code>connect()</code> on the redis-sentinel connection backend should fall back to the
master connection instead of failing (ISSUE #342).</p></li> <li><p><strong>FIX</strong>: the two connection backends based on ext-phpiredis has some kind of
issues with the GC and the internal use of closures as reader callbacks that
prevented connections going out of scope from being properly collected and the
underlying stream or socket resources from being closed and freed. This should
not have had any actual effect in real-world scenarios due to the lifecycle of
PHP scripts, but we fixed it anyway (ISSUE #345).</p></li></ul> <h1 id="v1-1-0-2016-06-02"><a href="#v1-1-0-2016-06-02" aria-hidden="true" class="header-anchor">#</a> v1.1.0 (2016-06-02)</h1> <ul><li><p>The default server profile for the client now targets Redis 3.2.</p></li> <li><p>Responses to the following commands are not casted into booleans anymore, the
original integer value is returned: <code>SETNX</code>, <code>MSETNX</code>, <code>SMOVE</code>, <code>SISMEMBER</code>,
<code>HSET</code>, <code>HSETNX</code>, <code>HEXISTS</code>, <code>PFADD</code>, <code>EXISTS</code>, <code>MOVE</code>, <code>PERSIST</code>, <code>EXPIRE</code>,
<code>EXPIREAT</code>, <code>RENAMENX</code>. This change does not have a significant impact unless
when using strict comparisons (=== and !==) the returned value.</p></li> <li><p>Non-boolean string values passed to the <code>persistent</code> connection parameter can
be used to create different persistent connections. Note that this feature was
already present in Predis but required both <code>persistent</code> and <code>path</code> to be set
as illustrated by <a href="https://github.com/nrk/predis/pull/139" target="_blank" rel="noopener noreferrer">#139<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This change
is needed to prevent confusion with how <code>path</code> is used to select a database
when using the <code>redis</code> scheme.</p></li> <li><p>The client throws exceptions when Redis returns any kind of error response to
initialization commands (the ones being automatically sent when a connection
is established, such as <code>SELECT</code> and <code>AUTH</code> when database and password are set
in connection parameters) regardless of the value of the exception option.</p></li> <li><p>Using <code>unix:///path/to/socket</code> in URI strings to specify a UNIX domain socket
file is now deprecated in favor of the format <code>unix:/path/to/socket</code> (note the
lack of the double slash after the scheme) and will not be supported starting
with the next major release.</p></li> <li><p>Implemented full support for redis-sentinel.</p></li> <li><p>Implemented the ability to specify default connection parameters for aggregate
connections with the new <code>parameters</code> client option. These parameters augment
the usual user-supplied connection parameters (but do not take the precedence
over them) when creating new connections and they are mostly useful when the
client is using aggregate connections such as redis-cluster and redis-sentinel
as these backends can create new connections on the fly based on responses and
redirections from Redis.</p></li> <li><p>Redis servers protected by SSL-encrypted connections can be accessed by using
the <code>tls</code> or <code>rediss</code> scheme in connection parameters along with SSL-specific
options in the <code>ssl</code> parameter (see http://php.net/manual/context.ssl.php).</p></li> <li><p><code>Predis\Client</code> implements <code>IteratorAggregate</code> making it possible to iterate
over traversable aggregate connections and get a new client instance for each
Redis node.</p></li> <li><p>Iterating over an instance of <code>Predis\Connection\Aggregate\RedisCluster</code> will
return all the connections mapped in the slots map instead of just the ones in
the pool. This change makes it possible, when the slots map is retrieved from
Redis, to iterate over all of the master nodes in the cluster. When the use of
<code>CLUSTER SLOTS</code> is disabled via the <code>useClusterSlots()</code> method, the iteration
returns only the connections with slots ranges associated in their parameters
or the ones initialized by <code>-MOVED</code> responses in order to make the behaviour
of the iteration consistent between the two modes of operation.</p></li> <li><p>Various improvements to <code>Predis\Connection\Aggregate\MasterSlaveReplication</code>
(the &quot;basic&quot; replication backend, not the new one based on redis-sentinel):</p> <ul><li><p>When the client is not able to send a read-only command to a slave because
the current connection fails or the slave is resyncing (<code>-LOADING</code> response
returned by Redis), the backend discards the failed connection and performs
a new attempt on the next slave. When no other slave is available the master
server is used for read-only commands as last resort.</p></li> <li><p>It is possible to discover the current replication configuration on the fly
by invoking the <code>discover()</code> method which internally relies on the output of
the command <code>INFO REPLICATION</code> executed against the master server or one of
the slaves. The backend can also be configured to do this automatically when
it fails to reach one of the servers.</p></li> <li><p>Implemented the <code>switchToMaster()</code> and <code>switchToSlave()</code> methods to make it
easier to force a switch to the master server or a random slave when needed.</p></li></ul></li></ul> <h1 id="v1-0-4-2016-05-30"><a href="#v1-0-4-2016-05-30" aria-hidden="true" class="header-anchor">#</a> v1.0.4 (2016-05-30)</h1> <ul><li><p>Added new profile for Redis 3.2 with its new commands: <code>HSTRLEN</code>, <code>BITFIELD</code>,
<code>GEOADD</code>, <code>GEOHASH</code>, <code>GEOPOS</code>, <code>GEODIST</code>, <code>GEORADIUS</code>, <code>GEORADIUSBYMEMBER</code>.
The default server profile for Predis is still the one for Redis 3.0 you must
set the <code>profile</code> client option to <code>3.2</code> when initializing the client in order
to be able to use them when connecting to Redis 3.2.</p></li> <li><p>Various improvements in the handling of redis-cluster:</p> <ul><li><p>If the connection to a specific node fails when executing a command, the
client tries to connect to another node in order to refresh the slots map
and perform a new attempt to execute the command.</p></li> <li><p>Connections to nodes can be preassigned to non-contiguous slot ranges via
the <code>slots</code> parameter using a comma separator. This is how it looks like
in practice: <code>tcp://127.0.0.1:6379?slots=0-5460,5500-5600,11000</code>.</p></li></ul></li> <li><p><strong>FIX</strong>: broken values returned by <code>Predis\Collection\Iterator\HashKey</code> when
iterating hash keys containing integer fields (PR #330, ISSUE #331).</p></li> <li><p><strong>FIX</strong>: prevent failures when <code>Predis\Connection\StreamConnection</code> serializes
commands with holes in their arguments (e.g. <code>[0 =&gt; 'key:0', 2 =&gt; 'key:2']</code>).
The same fix has been applied to <code>Predis\Protocol\Text\RequestSerializer</code>.
(ISSUE #316).</p></li></ul> <h1 id="v1-0-3-2015-07-30"><a href="#v1-0-3-2015-07-30" aria-hidden="true" class="header-anchor">#</a> v1.0.3 (2015-07-30)</h1> <ul><li><strong>FIX</strong>: the previous release introduced a severe regression on HHVM that made
the library unable to connect to Redis when using IPv4 addresses. Code running
on the standard PHP interpreter is not affected.</li></ul> <h1 id="v1-0-2-2015-07-30"><a href="#v1-0-2-2015-07-30" aria-hidden="true" class="header-anchor">#</a> v1.0.2 (2015-07-30)</h1> <ul><li><p>IPv6 is now fully supported.</p></li> <li><p>Added <code>redis</code> as an accepted scheme for connection parameters. When using this
scheme, the rules used to parse URI strings match the provisional registration
<a href="http://www.iana.org/assignments/uri-schemes/prov/redis" target="_blank" rel="noopener noreferrer">published by IANA<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li> <li><p>Added new or missing commands: <code>HSTRLEN</code> (&gt;= 3.2), <code>ZREVRANGEBYLEX</code> (&gt;= 2.8)
and <code>MIGRATE</code> (&gt;= 2.6).</p></li> <li><p>Implemented support for the <code>ZADD</code> modifiers <code>NX|XX</code>, <code>CH</code>, <code>INCR</code> (Redis &gt;=
3.0.2) using the simplified signature where scores and members are passed as
a named array.</p></li> <li><p><strong>FIX</strong>: <code>Predis\Configuration\Options</code> must not trigger the autoloader when
option values are strings (ISSUE #257).</p></li> <li><p><strong>FIX</strong>: <code>BITPOS</code> was not defined in the key-prefix processor (ISSUE #265) and
in the replication strategy.</p></li></ul> <h1 id="v1-0-1-2015-01-02"><a href="#v1-0-1-2015-01-02" aria-hidden="true" class="header-anchor">#</a> v1.0.1 (2015-01-02)</h1> <ul><li><p>Added <code>BITPOS</code> to the server profile for Redis 2.8.</p></li> <li><p>Connection timeout for read/write operations can now be set for UNIX sockets
where the underlying connection uses PHP's stream.</p></li> <li><p><strong>FIX</strong>: broken values returned by <code>Predis\Collection\Iterator\SortedSetKey</code>
when iterating sorted set containing integer members (ISSUE #216).</p></li> <li><p><strong>FIX</strong>: applied a minor workaround for a bug in old versions of PHP &lt; 5.3.9
affecting inheritance.</p></li> <li><p><strong>FIX</strong>: prevent E_NOTICE warnings when using INFO [section] returns an empty
response due to an unsupported specific set of information requested to Redis.</p></li></ul> <h1 id="v1-0-0-2014-08-01"><a href="#v1-0-0-2014-08-01" aria-hidden="true" class="header-anchor">#</a> v1.0.0 (2014-08-01)</h1> <ul><li><p>Switched to PSR-4 for autoloading.</p></li> <li><p>The default server profile for Redis is <code>3.0</code>.</p></li> <li><p>Removed server profile for Redis 1.2.</p></li> <li><p>Added <code>SENTINEL</code> to the profile for Redis 2.6 and <code>PUBSUB</code> to the profile for
Redis 2.8.</p></li> <li><p><code>Predis\Client</code> can now send raw commands using <code>Predis\Client::executeRaw()</code>.</p></li> <li><p>Status responses are returned as instances of <code>Predis\Response\Status</code>, for
example +OK is not returned as boolean TRUE anymore which is a breaking change
for those using strict comparisons. Status responses can be casted to string
values carrying the original payload, so one can do <code>$response == 'OK'</code> which
is also more akin to how Redis replies to clients.</p></li> <li><p>Commands <code>ZRANGE</code>, <code>ZRANGEBYSCORE</code>, <code>ZREVRANGE</code> and <code>ZREVRANGEBYSCORE</code> using
<code>WITHSCORE</code> return a named array of member =&gt; score instead of using an array
of [member, score] elements. Insertion order is preserved anyway due to how
PHP works internally.</p></li> <li><p>The command <code>ZSCAN</code> returns a named array of member =&gt; score instead of using
an array of [member, score] elements. Insertion order is preserved anyway due
to how PHP works internally.</p></li> <li><p>The rules for redis-cluster are now leveraged for empty key tags when using
client-side sharding, which means that when one or the first occurrence of {}
is found in a key it will most likely produce a different hash than previous
versions of Predis thus leading to a different partitioning in these cases.</p></li> <li><p>Invoking <code>Predis\Client::connect()</code> when the underlying connection has been
already established does not throw any exception anymore, now the connection
simply does not attempt to perform any operation.</p></li> <li><p>Added the <code>aggregate</code> client option, useful to fully customize how the client
should aggregate multiple connections when an array of connection parameters
is passed to <code>Predis\Client::__construct()</code>.</p></li> <li><p>Dropped support for streamable multibulk responses. Actually we still ship the
iterator response classes just in case anyone would want to build custom stuff
at a level lower than the client abstraction (our standard and composable text
protocol processors still handle them and can be used as an example).</p></li> <li><p>Simplified the implementation of connection parameters by removing method used
to cast to int / bool / float certain parameters supplied by users. Casting
values, if deemed necessary, should be done by the consumer or you can just
subclass <code>Predis\Connection\Parameters</code> and override the <code>filter()</code> method.</p></li> <li><p>Changed a couple of options for our transaction abstraction:</p> <ul><li><code>exceptions</code>: overrides the value of the client option with the same name.
Please note that it does not affect all the transaction control commands
such as <code>MULTI</code>, <code>EXEC</code>, <code>DISCARD</code>, <code>WATCH</code> and <code>UNWATCH</code>.</li> <li><code>on_retry</code>: this option has been removed.</li></ul></li> <li><p>Removed pipeline executors, now command pipelines can be easily customized by
extending the standard <code>Predis\Pipeline\Pipeline</code> class. Accepted options when
creating a pipeline using <code>Predis\Client::pipeline()</code> are:</p> <ul><li><code>atomic</code>: returns a pipeline wrapped in a MULTI / EXEC transaction
(class: <code>Predis\Pipeline\Atomic</code>).</li> <li><code>fire-and-forget</code>: returns a pipeline that does not read back responses
(class: <code>Predis\Pipeline\FireAndForget</code>).</li></ul></li> <li><p>Renamed the two base abstract command classes:</p> <ul><li><code>Predis\Command\AbstractCommand</code> is now <code>Predis\Command\Command</code></li> <li><code>Predis\Command\ScriptedCommand</code> is now <code>Predis\Command\ScriptCommand</code></li></ul></li> <li><p>Dropped <code>Predis\Command\Command::__toString()</code> (see issue #151).</p></li> <li><p>The key prefixing logic has been moved from command classes to the key prefix
processor. Developers can define or override handlers used to prefix keys, but
they can also define the needed logic in their command classes by implementing
<code>Predis\Command\PrefixableCommandInterface</code> just like before.</p></li> <li><p><code>Predis\PubSub\DispatcherLoop</code> now takes a <code>Predis\PubSub\Consumer</code> instance
as the sole argument of its constructor instead of <code>Predis\ClientInterface</code>.</p></li> <li><p>All of the interfaces and classes related to translated Redis response types
have been moved in the new <code>Predis\Response</code> namespace and most of them have
been renamed to make their fully-qualified name less redundant. Now the base
response interface is <code>Predis\Response\ResponseInterface</code>.</p></li> <li><p>Renamed interface <code>Predis\Command\Processor\CommandProcessorInterface</code> to a
shorter <code>Predis\Command\Processor\ProcessorInterface</code>. Also removed interface
for chain processors since it is basically useless.</p></li> <li><p>Renamed <code>Predis\ExecutableContextInterface</code> to <code>Predis\ClientContextInterface</code>
and augmented it with a couple of required methods since this interface is no
more comparable to a basic client as it could be misleading.</p></li> <li><p>The <code>Predis\Option</code> namespace is now known as <code>Predis\Configuration</code> and have
a fully-reworked <code>Options</code> class with the ability to lazily initialize values
using objects that responds to <code>__invoke()</code> (not all the kinds of callables)
even for custom options defined by the user.</p></li> <li><p>Renamed <code>Predis\Connection\ConnectionInterface::writeCommand()</code> into
<code>writeRequest()</code> for consistency with its counterpart, <code>readResponse()</code>.</p></li> <li><p>Renamed <code>Predis\Connection\SingleConnectionInterface::pushInitCommand()</code> into
<code>addConnectCommand()</code> which is more obvious.</p></li> <li><p>Renamed the connection class based on both ext-phpiredis and ext-socket into
<code>Predis\Connection\PhpiredisSocketConnection</code>. The one based on PHP's streams
is still named <code>Predis\Connection\PhpiredisStreamConnection</code>.</p></li> <li><p>Renamed the connection factory class to <code>Predis\Connection\Factory</code>. Now its
constructor does not require anymore a profile instance to create <code>AUTH</code> and
<code>SELECT</code> commands when parameters contain both <code>password</code> and <code>database</code>. Raw
commands will be used instead.</p></li> <li><p>Renamed the connection parameters class to <code>Predis\Connection\Parameters</code>. Now
its constructor accepts only named arrays, but instances can still be created
using both URIs or arrays using the static method <code>Parameters::create()</code>.</p></li> <li><p>The profile factory code has been extracted from the abstract Redis profile
class and now lives in <code>Predis\Profile\Factory</code>.</p></li> <li><p>The <code>Predis\Connection</code> namespace has been completely reorganized by renaming
a few classes and interfaces and adding some sub-namespaces.</p></li> <li><p>Most classes and interfaces in the <code>Predis\Protocol</code> namespace have been moved
or renamed while rationalizing the whole API for external protocol processors.</p></li></ul> <h1 id="v0-8-7-2014-08-01"><a href="#v0-8-7-2014-08-01" aria-hidden="true" class="header-anchor">#</a> v0.8.7 (2014-08-01)</h1> <ul><li><p>Added <code>3.0</code> in the server profiles aliases list for Redis 3.0. <code>2.8</code> is still
the default server profile and <code>dev</code> still targets Redis 3.0.</p></li> <li><p>Added <code>COMMAND</code> to the server profile for Redis 2.8.</p></li> <li><p>Switched internally to the <code>CLUSTER SLOTS</code> command instead of <code>CLUSTER NODES</code>
to fetch the updated slots map from redis-cluster. This change requires users
to upgrade Redis nodes to &gt;= 3.0.0b7.</p></li> <li><p>The updated slots map is now fetched automatically from redis-cluster upon the
first <code>-MOVED</code> response by default. This change makes it possible to feed the
client constructor with only a few nodes of the actual cluster composition,
without needing a more complex configuration.</p></li> <li><p>Implemented support for <code>PING</code> in PUB/SUB loop for Redis &gt;= 3.0.0b8.</p></li> <li><p>The default client-side sharding strategy and the one for redis-cluster now
share the same implementations as they follow the same rules. One difference,
aside from the different hashing function used to calculate distribution, is
in how empty hash tags like {} are treated by redis-cluster.</p></li> <li><p><strong>FIX</strong>: the patch applied to fix #180 introduced a regression affecting read/
write timeouts in <code>Predis\Connection\PhpiredisStreamConnection</code>. Unfortunately
the only possible solution requires PHP 5.4+. On PHP 5.3, read/write timeouts
will be ignored from now on.</p></li></ul> <h1 id="v0-8-6-2014-07-15"><a href="#v0-8-6-2014-07-15" aria-hidden="true" class="header-anchor">#</a> v0.8.6 (2014-07-15)</h1> <ul><li><p>Redis 2.8 is now the default server profile as there are no changes that would
break compatibility with previous releases.</p></li> <li><p>Added <code>PFADD</code>, <code>PFCOUNT</code>, <code>PFMERGE</code> to the server profile for Redis 2.8 for
handling the HyperLogLog data structure introduced in Redis 2.8.9.</p></li> <li><p>Added <code>ZLEXCOUNT</code>, <code>ZRANGEBYLEX</code>, <code>ZREMRANGEBYLEX</code> to the server profile for
Redis 2.8 for handling lexicographic operations on members of sorted sets.</p></li> <li><p>Added support for key hash tags when using redis-cluster (Redis 3.0.0b1).</p></li> <li><p><strong>FIX</strong>: minor tweaks to make Predis compatible with HHVM &gt;= 2.4.0.</p></li> <li><p><strong>FIX</strong>: responses to <code>INFO</code> are now properly parsed and will not break when
redis sentinel is being used (ISSUE #154).</p></li> <li><p><strong>FIX</strong>: added missing support for <code>INCRBYFLOAT</code> in cluster and replication
configurations (ISSUE #159).</p></li> <li><p><strong>FIX</strong>: fix parsing of the output of <code>CLUSTER NODES</code> to fetch the slots map
from a node when redis-cluster has slaves in its configuration (ISSUE #165).</p></li> <li><p><strong>FIX</strong>: prevent a stack overflow when iterating over large Redis collections
using our abstraction for cursor-based iterators (ISSUE #182).</p></li> <li><p><strong>FIX</strong>: properly discards transactions when the server immediately returns an
error response (e.g. -OOM or -ERR on invalid arguments for a command) instead
of a +QUEUED response (ISSUE #187).</p></li> <li><p>Upgraded to PHPUnit 4.* for the test suite.</p></li></ul> <h1 id="v0-8-5-2014-01-16"><a href="#v0-8-5-2014-01-16" aria-hidden="true" class="header-anchor">#</a> v0.8.5 (2014-01-16)</h1> <ul><li><p>Added <code>2.8</code> in the server profiles aliases list for Redis 2.8. <code>2.6</code> is still
the default server profile and <code>dev</code> now targets Redis 3.0.</p></li> <li><p>Added <code>SCAN</code>, <code>SSCAN</code>, <code>ZSCAN</code>, <code>HSCAN</code> to the server profile for Redis 2.8.</p></li> <li><p>Implemented PHP iterators for incremental iterations over Redis collections:</p> <ul><li>keyspace (cursor-based iterator using <code>SCAN</code>)</li> <li>sets (cursor-based iterator using <code>SSCAN</code>)</li> <li>sorted sets (cursor-based iterator using <code>ZSCAN</code>)</li> <li>hashes (cursor-based iterator using <code>HSCAN</code>)</li> <li>lists (plain iterator using <code>LRANGE</code>)</li></ul></li> <li><p>It is now possible to execute &quot;raw commands&quot; using <code>Predis\Command\RawCommand</code>
and a variable list of command arguments. Input arguments are not filtered and
responses are not parsed, which means arguments must follow the signature of
the command as defined by Redis and complex responses are left untouched.</p></li> <li><p>URI parsing for connection parameters has been improved and has slightly less
overhead when the number of fields in the querystring grows. New features are:</p> <ul><li>Parsing does not break when value of a field contains one or more &quot;=&quot;.</li> <li>Repeated fieldnames using [] produce an array of values.</li> <li>Empty or incomplete &quot;key=value&quot; pairs result in an empty string for &quot;key&quot;.</li></ul></li> <li><p>Various improvements and fixes to the redis-cluster connection backend:</p> <ul><li><strong>FIX</strong>: the <code>ASKING</code> command is sent upon -ASK redirections.</li> <li>An updated slots-map can be fetched from nodes using the <code>CLUSTER NODES</code>
command. By default this is a manual operation but can be enabled to get
automatically done upon -MOVED redirections.</li> <li>It is possible to specify a common set of connection parameters that are
applied to connections created on the fly upon redirections to nodes not
part of the initial pool.</li></ul></li> <li><p>List of deprecated methods:</p> <ul><li><code>Predis\Client::multiExec()</code>: superseded by <code>Predis\Client::transaction()</code>
and to be removed in the next major release.</li> <li><code>Predis\Client::pubSub()</code>: superseded by <code>Predis\Client::pubSubLoop()</code> and
to be removed in the next major release. This change was needed due to the
recently introduced <code>PUBSUB</code> command in Redis 2.8.</li></ul></li></ul> <h1 id="v0-8-4-2013-07-27"><a href="#v0-8-4-2013-07-27" aria-hidden="true" class="header-anchor">#</a> v0.8.4 (2013-07-27)</h1> <ul><li><p>Added <code>DUMP</code> and <code>RESTORE</code> to the server profile for Redis 2.6.</p></li> <li><p>Connection exceptions now report basic host details in their messages.</p></li> <li><p>Allow <code>Predis\Connection\PhpiredisConnection</code> to use a random IP when a host
actually has several IPs (ISSUE #116).</p></li> <li><p><strong>FIX</strong>: allow <code>HMSET</code> when using a cluster of Redis nodes with client-side
sharding or redis-cluster (ISSUE #106).</p></li> <li><p><strong>FIX</strong>: set <code>WITHSCORES</code> modifer for <code>ZRANGE</code>, <code>ZREVRANGE</code>, <code>ZRANGEBYSCORE</code>
and <code>ZREVRANGEBYSCORE</code> only when the options array passed to these commands
has <code>WITHSCORES</code> set to <code>true</code> (ISSUE #107).</p></li> <li><p><strong>FIX</strong>: scripted commands falling back from <code>EVALSHA</code> to <code>EVAL</code> resulted in
PHP errors when using a prefixed client (ISSUE #109).</p></li> <li><p><strong>FIX</strong>: <code>Predis\PubSub\DispatcherLoop</code> now works properly when using key
prefixing (ISSUE #114).</p></li></ul> <h1 id="v0-8-3-2013-02-18"><a href="#v0-8-3-2013-02-18" aria-hidden="true" class="header-anchor">#</a> v0.8.3 (2013-02-18)</h1> <ul><li><p>Added <code>CLIENT SETNAME</code> and <code>CLIENT GETNAME</code> (ISSUE #102).</p></li> <li><p>Implemented the <code>Predis\Connection\PhpiredisStreamConnection</code> class using the
<code>phpiredis</code> extension like <code>Predis\Connection\PhpiredisStreamConnection</code>, but
without requiring the <code>socket</code> extension since it relies on PHP's streams.</p></li> <li><p>Added support for the TCP_NODELAY flag via the <code>tcp_nodelay</code> parameter for
stream-based connections, namely <code>Predis\Connection\StreamConnection</code> and
<code>Predis\Connection\PhpiredisStreamConnection</code> (requires PHP &gt;= 5.4.0).</p></li> <li><p>Updated the aggregated connection class for redis-cluster to work with 16384
hash slots instead of 4096 to reflect the recent change from redis unstable
(<a href="https://github.com/antirez/redis/commit/ebd666d" target="_blank" rel="noopener noreferrer">see this commit<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>).</p></li> <li><p>The constructor of <code>Predis\Client</code> now accepts a callable as first argument
returning <code>Predis\Connection\ConnectionInterface</code>. Users can create their
own self-contained strategies to create and set up the underlying connection.</p></li> <li><p>Users should return <code>0</code> from <code>Predis\Command\ScriptedCommand::getKeysCount()</code>
instead of <code>FALSE</code> to indicate that all of the arguments of a Lua script must
be used to populate <code>ARGV[]</code>. This does not represent a breaking change.</p></li> <li><p>The <code>Predis\Helpers</code> class has been deprecated and it will be removed in
future releases.</p></li></ul> <h1 id="v0-8-2-2013-02-03"><a href="#v0-8-2-2013-02-03" aria-hidden="true" class="header-anchor">#</a> v0.8.2 (2013-02-03)</h1> <ul><li><p>Added <code>Predis\Session\SessionHandler</code> to make it easy to store PHP sessions
on Redis using Predis. Please note that this class needs either PHP &gt;= 5.4.0
or a polyfill for PHP's <code>SessionHandlerInterface</code>.</p></li> <li><p>Added the ability to get the default value of a client option directly from
<code>Predis\Option\ClientOption</code> using the <code>getDefault()</code> method by passing the
option name or its instance.</p></li> <li><p><strong>FIX</strong>: the standard pipeline executor was not using the response parser
methods associated to commands to process raw responses (ISSUE #101).</p></li></ul> <h1 id="v0-8-1-2013-01-19"><a href="#v0-8-1-2013-01-19" aria-hidden="true" class="header-anchor">#</a> v0.8.1 (2013-01-19)</h1> <ul><li><p>The <code>connections</code> client option can now accept a callable object returning
an instance of <code>Predis\Connection\ConnectionFactoryInterface</code>.</p></li> <li><p>Client options accepting callable objects as factories now pass their actual
instance to the callable as the second argument.</p></li> <li><p><code>Predis\Command\Processor\KeyPrefixProcessor</code> can now be directly casted to
string to obtain the current prefix, useful with string interpolation.</p></li> <li><p>Added an optional callable argument to <code>Predis\Cluster\Distribution\HashRing</code>
and <code>Predis\Cluster\Distribution\KetamaPureRing</code> constructor that can be used
to customize how the distributor should extract the connection hash when
initializing the nodes distribution (ISSUE #36).</p></li> <li><p>Correctly handle <code>TTL</code> and <code>PTTL</code> returning -2 on non existing keys starting
with Redis 2.8.</p></li> <li><p><strong>FIX</strong>: a missing use directive in <code>Predis\Transaction\MultiExecContext</code>
caused PHP errors when Redis did not return <code>+QUEUED</code> replies to commands
when inside a MULTI / EXEC context.</p></li> <li><p><strong>FIX</strong>: the <code>parseResponse()</code> method implemented for a scripted command was
ignored when retrying to execute a Lua script by falling back to <code>EVAL</code> after
a <code>-NOSCRIPT</code> error (ISSUE #94).</p></li> <li><p><strong>FIX</strong>: when subclassing <code>Predis\Client</code> the <code>getClientFor()</code> method returns
a new instance of the subclass instead of a new instance of <code>Predis\Client</code>.</p></li></ul> <h1 id="v0-8-0-2012-10-23"><a href="#v0-8-0-2012-10-23" aria-hidden="true" class="header-anchor">#</a> v0.8.0 (2012-10-23)</h1> <ul><li><p>The default server profile for Redis is now <code>2.6</code>.</p></li> <li><p>Certain connection parameters have been renamed:</p> <ul><li><code>connection_async</code> is now <code>async_connect</code></li> <li><code>connection_timeout</code> is now <code>timeout</code></li> <li><code>connection_persistent</code> is now <code>persistent</code></li></ul></li> <li><p>The <code>throw_errors</code> connection parameter has been removed and replaced by the
new <code>exceptions</code> client option since exceptions on <code>-ERR</code> replies returned by
Redis are not generated by connection classes anymore but instead are thrown
by the client class and other abstractions such as pipeline contexts.</p></li> <li><p>Added smart support for redis-cluster (Redis v3.0) in addition to the usual
cluster implementation that uses client-side sharding.</p></li> <li><p>Various namespaces and classes have been renamed to follow rules inspired by
the Symfony2 naming conventions.</p></li> <li><p>The second argument of the constructor of <code>Predis\Client</code> does not accept
strings or instances of <code>Predis\Profile\ServerProfileInterface</code> anymore.
To specify a server profile you must explicitly set <code>profile</code> in the array
of client options.</p></li> <li><p><code>Predis\Command\ScriptedCommand</code> internally relies on <code>EVALSHA</code> instead of
<code>EVAL</code> thus avoiding to send Lua scripts bodies on each request. The client
automatically resends the command falling back to <code>EVAL</code> when Redis returns a
<code>-NOSCRIPT</code> error. Automatic fallback to <code>EVAL</code> does not work with pipelines,
inside a <code>MULTI / EXEC</code> context or with plain <code>EVALSHA</code> commands.</p></li> <li><p>Complex responses are no more parsed by connection classes as they must be
processed by consumer classes using the handler associated to the issued
command. This means that executing commands directly on connections only
returns simple Redis types, but nothing changes when using <code>Predis\Client</code>
or the provided abstractions for pipelines and transactions.</p></li> <li><p>Iterators for multi-bulk replies now skip the response parsing method of the
command that generated the response and are passed directly to user code.
Pipeline and transaction objects still consume automatically iterators.</p></li> <li><p>Cluster and replication connections now extend a new common interface,
<code>Predis\Connection\AggregatedConnectionInterface</code>.</p></li> <li><p><code>Predis\Connection\MasterSlaveReplication</code> now uses an external strategy
class to handle the logic for checking readable / writable commands and Lua
scripts.</p></li> <li><p>Command pipelines have been optimized for both speed and code cleanness, but
at the cost of bringing a breaking change in the signature of the interface
for pipeline executors.</p></li> <li><p>Added a new pipeline executor that sends commands wrapped in a MULTI / EXEC
context to make the execution atomic: if a pipeline fails at a certain point
then the whole pipeline is discarded.</p></li> <li><p>The key-hashing mechanism for commands is now handled externally and is no
more a competence of each command class. This change is neeeded to support
both client-side sharding and Redis cluster.</p></li> <li><p><code>Predis\Options\Option</code> is now abstract, see <code>Predis\Option\AbstractOption</code>.</p></li></ul> <h1 id="v0-7-3-2012-06-01"><a href="#v0-7-3-2012-06-01" aria-hidden="true" class="header-anchor">#</a> v0.7.3 (2012-06-01)</h1> <ul><li><p>New commands available in the Redis v2.6 profile (dev): <code>BITOP</code>, <code>BITCOUNT</code>.</p></li> <li><p>When the number of keys <code>Predis\Commands\ScriptedCommand</code> is negative, Predis
will count from the end of the arguments list to calculate the actual number
of keys that will be interpreted as elements for <code>KEYS</code> by the underlying
<code>EVAL</code> command.</p></li> <li><p><strong>FIX</strong>: <code>examples\CustomDistributionStrategy.php</code> had a mistyped constructor
call and produced a bad distribution due to an error as pointed in ISSUE #63.
This bug is limited to the above mentioned example and does not affect the
classes implemented in the <code>Predis\Distribution</code> namespace.</p></li> <li><p><strong>FIX</strong>: <code>Predis\Commands\ServerEvalSHA::getScriptHash()</code> was calculating the
hash while it just needs to return the first argument of the command.</p></li> <li><p><strong>FIX</strong>: <code>Predis\Autoloader</code> has been modified to allow cascading autoloaders
for the <code>Predis</code> namespace.</p></li></ul> <h1 id="v0-7-2-2012-04-01"><a href="#v0-7-2-2012-04-01" aria-hidden="true" class="header-anchor">#</a> v0.7.2 (2012-04-01)</h1> <ul><li><p>Added <code>2.6</code> in the server profiles aliases list for the upcoming Redis 2.6.
<code>2.4</code> is still the default server profile. <code>dev</code> now targets Redis 2.8.</p></li> <li><p>Connection instances can be serialized and unserialized using <code>serialize()</code>
and <code>unserialize()</code>. This is handy in certain scenarios such as client-side
clustering or replication to lower the overhead of initializing a connection
object with many sub-connections since unserializing them can be up to 5x
times faster.</p></li> <li><p>Reworked the default autoloader to make it faster. It is also possible to
prepend it in PHP's autoload stack.</p></li> <li><p><strong>FIX</strong>: fixed parsing of the payload returned by <code>MONITOR</code> with Redis 2.6.</p></li></ul> <h1 id="v0-7-1-2011-12-27"><a href="#v0-7-1-2011-12-27" aria-hidden="true" class="header-anchor">#</a> v0.7.1 (2011-12-27)</h1> <ul><li><p>The PEAR channel on PearHub has been deprecated in favour of <code>pear.nrk.io</code>.</p></li> <li><p>Miscellaneous minor fixes.</p></li> <li><p>Added transparent support for master / slave replication configurations where
write operations are performed on the master server and read operations are
routed to one of the slaves. Please refer to ISSUE #21 for a bit of history
and more details about replication support in Predis.</p></li> <li><p>The <code>profile</code> client option now accepts a callable object used to initialize
a new instance of <code>Predis\Profiles\IServerProfile</code>.</p></li> <li><p>Exposed a method for MULTI / EXEC contexts that adds the ability to execute
instances of Redis commands against transaction objects.</p></li></ul> <h1 id="v0-7-0-2011-12-11"><a href="#v0-7-0-2011-12-11" aria-hidden="true" class="header-anchor">#</a> v0.7.0 (2011-12-11)</h1> <ul><li><p>Predis now adheres to the PSR-0 standard which means that there is no more a
single file holding all the classes of the library, but multiple files (one
for each class). You can use any PSR-0 compatible autoloader to load Predis
or just leverage the default one shipped with the library by requiring the
<code>Predis/Autoloader.php</code> and call <code>Predis\Autoloader::register()</code>.</p></li> <li><p>The default server profile for Redis is now 2.4. The <code>dev</code> profile supports
all the features of Redis 2.6 (currently unstable) such as Lua scripting.</p></li> <li><p>Support for long aliases (method names) for Redis commands has been dropped.</p></li> <li><p>Redis 1.0 is no more supported. From now on Predis will use only the unified
protocol to serialize commands.</p></li> <li><p>It is possible to prefix keys transparently on a client-level basis with the
new <code>prefix</code> client option.</p></li> <li><p>An external connection factory is used to initialize new connection instances
and developers can now register their own connection classes using the new
<code>connections</code> client option.</p></li> <li><p>It is possible to connect locally to Redis using UNIX domain sockets. Just
use <code>unix:///path/to/redis.sock</code> or a named array just like in the following
example: <code>array('scheme' =&gt; 'unix', 'path' =&gt; '/path/to/redis.sock');</code>.</p></li> <li><p>If the <code>phpiredis</code> extension is loaded by PHP, it is now possible to use an
alternative connection class that leverages it to make Predis faster on many
cases, especially when dealing with big multibulk replies, with the the only
downside that persistent connections are not supported. Please refer to the
documentation to see how to activate this class using the new <code>connections</code>
client option.</p></li> <li><p>Predis is capable to talk with Webdis, albeit with some limitations such as
the lack of pipelining and transactions, just by using the <code>http</code> scheme in
in the connection parameters. All is needed is PHP with the <code>curl</code> and the
<code>phpiredis</code> extensions loaded.</p></li> <li><p>Way too many changes in the public API to make a list here, we just tried to
make all the Redis commands compatible with previous releases of v0.6 so that
you do not have to worry if you are simply using Predis as a client. Probably
the only breaking changes that should be mentioned here are:</p> <ul><li><p><code>throw_on_error</code> has been renamed to <code>throw_errors</code> and it is a connection
parameter instead of a client option, along with <code>iterable_multibulk</code>.</p></li> <li><p><code>key_distribution</code> has been removed from the client options. To customize
the distribution strategy you must provide a callable object to the new
<code>cluster</code> client option to configure and then return a new instance of
<code>Predis\Network\IConnectionCluster</code>.</p></li> <li><p><code>Predis\Client::create()</code> has been removed. Just use the constructor to set
up a new instance of <code>Predis\Client</code>.</p></li> <li><p><code>Predis\Client::pipelineSafe()</code> was deprecated in Predis v0.6.1 and now has
finally removed. Use <code>Predis\Client::pipeline(array('safe' =&gt; true))</code>.</p></li> <li><p><code>Predis\Client::rawCommand()</code> has been removed due to inconsistencies with
the underlying connection abstractions. You can still get the raw resource
out of a connection with <code>Predis\Network\IConnectionSingle::getResource()</code>
so that you can talk directly with Redis.</p></li></ul></li> <li><p>The <code>Predis\MultiBulkCommand</code> class has been merged into <code>Predis\Command</code> and
thus removed. Serialization of commands is now a competence of connections.</p></li> <li><p>The <code>Predis\IConnection</code> interface has been splitted into two new interfaces:
<code>Predis\Network\IConnectionSingle</code> and <code>Predis\Network\IConnectionCluster</code>.</p></li> <li><p>The constructor of <code>Predis\Client</code> now accepts more type of arguments such as
instances of <code>Predis\IConnectionParameters</code> and <code>Predis\Network\IConnection</code>.</p></li></ul> <h1 id="v0-6-6-2011-04-01"><a href="#v0-6-6-2011-04-01" aria-hidden="true" class="header-anchor">#</a> v0.6.6 (2011-04-01)</h1> <ul><li><p>Switched to Redis 2.2 as the default server profile (there are no changes
that would break compatibility with previous releases). Long command names
are no more supported by default but if you need them you can still require
<code>Predis_Compatibility.php</code> to avoid breaking compatibility.</p></li> <li><p>Added a <code>VERSION</code> constant to <code>Predis\Client</code>.</p></li> <li><p>Some performance improvements for multibulk replies (parsing them is about
16% faster than the previous version). A few core classes have been heavily
optimized to reduce overhead when creating new instances.</p></li> <li><p>Predis now uses by default a new protocol reader, more lightweight and
faster than the default handler-based one. Users can revert to the old
protocol reader with the <code>reader</code> client option set to <code>composable</code>.
This client option can also accept custom reader classes implementing the
new <code>Predis\IResponseReader</code> interface.</p></li> <li><p>Added support for connecting to Redis using UNIX domain sockets (ISSUE #25).</p></li> <li><p>The <code>read_write_timeout</code> connection parameter can now be set to 0 or false
to disable read and write timeouts on connections. The old behaviour of -1
is still intact.</p></li> <li><p><code>ZUNIONSTORE</code> and <code>ZINTERSTORE</code> can accept an array to specify a list of the
source keys to be used to populate the destination key.</p></li> <li><p><code>MGET</code>, <code>SINTER</code>, <code>SUNION</code> and <code>SDIFF</code> can accept an array to specify a list
of keys. <code>SINTERSTORE</code>, <code>SUNIONSTORE</code> and <code>SDIFFSTORE</code> can also accept an
array to specify the list of source keys.</p></li> <li><p><code>SUBSCRIBE</code> and <code>PSUBSCRIBE</code> can accept a list of channels for subscription.</p></li> <li><p><strong>FIX</strong>: some client-side clean-ups for <code>MULTI/EXEC</code> were handled incorrectly
in a couple of corner cases (ISSUE #27).</p></li></ul> <h1 id="v0-6-5-2011-02-12"><a href="#v0-6-5-2011-02-12" aria-hidden="true" class="header-anchor">#</a> v0.6.5 (2011-02-12)</h1> <ul><li><strong>FIX</strong>: due to an untested internal change introduced in v0.6.4, a wrong
handling of bulk reads of zero-length values was producing protocol
desynchronization errors (ISSUE #20).</li></ul> <h1 id="v0-6-4-2011-02-12"><a href="#v0-6-4-2011-02-12" aria-hidden="true" class="header-anchor">#</a> v0.6.4 (2011-02-12)</h1> <ul><li><p>Various performance improvements (15% ~ 25%) especially when dealing with
long multibulk replies or when using clustered connections.</p></li> <li><p>Added the <code>on_retry</code> option to <code>Predis\MultiExecBlock</code> that can be used to
specify an external callback (or any callable object) that gets invoked
whenever a transaction is aborted by the server.</p></li> <li><p>Added inline (p)subscribtion via options when initializing an instance of
<code>Predis\PubSubContext</code>.</p></li></ul> <h1 id="v0-6-3-2011-01-01"><a href="#v0-6-3-2011-01-01" aria-hidden="true" class="header-anchor">#</a> v0.6.3 (2011-01-01)</h1> <ul><li><p>New commands available in the Redis v2.2 profile (dev):</p> <ul><li>Strings: <code>SETRANGE</code>, <code>GETRANGE</code>, <code>SETBIT</code>, <code>GETBIT</code></li> <li>Lists  : <code>BRPOPLPUSH</code></li></ul></li> <li><p>The abstraction for <code>MULTI/EXEC</code> transactions has been dramatically improved
by providing support for check-and-set (CAS) operations when using Redis &gt;=
2.2. Aborted transactions can also be optionally replayed in automatic up
to a user-defined number of times, after which a <code>Predis\AbortedMultiExec</code>
exception is thrown.</p></li></ul> <h1 id="v0-6-2-2010-11-28"><a href="#v0-6-2-2010-11-28" aria-hidden="true" class="header-anchor">#</a> v0.6.2 (2010-11-28)</h1> <ul><li><p>Minor internal improvements and clean ups.</p></li> <li><p>New commands available in the Redis v2.2 profile (dev):</p> <ul><li>Strings: <code>STRLEN</code></li> <li>Lists  : <code>LINSERT</code>, <code>RPUSHX</code>, <code>LPUSHX</code></li> <li>ZSets  : <code>ZREVRANGEBYSCORE</code></li> <li>Misc.  : <code>PERSIST</code></li></ul></li> <li><p>WATCH also accepts a single array parameter with the keys that should be
monitored during a transaction.</p></li> <li><p>Improved the behaviour of <code>Predis\MultiExecBlock</code> in certain corner cases.</p></li> <li><p>Improved parameters checking for the SORT command.</p></li> <li><p><strong>FIX</strong>: the <code>STORE</code> parameter for the <code>SORT</code> command didn't work correctly
when using <code>0</code> as the target key (ISSUE #13).</p></li> <li><p><strong>FIX</strong>: the methods for <code>UNWATCH</code> and <code>DISCARD</code> do not break anymore method
chaining with <code>Predis\MultiExecBlock</code>.</p></li></ul> <h1 id="v0-6-1-2010-07-11"><a href="#v0-6-1-2010-07-11" aria-hidden="true" class="header-anchor">#</a> v0.6.1 (2010-07-11)</h1> <ul><li><p>Minor internal improvements and clean ups.</p></li> <li><p>New commands available in the Redis v2.2 profile (dev):</p> <ul><li>Misc.  : <code>WATCH</code>, <code>UNWATCH</code></li></ul></li> <li><p>Optional modifiers for <code>ZRANGE</code>, <code>ZREVRANGE</code> and <code>ZRANGEBYSCORE</code> queries are
supported using an associative array passed as the last argument of their
respective methods.</p></li> <li><p>The <code>LIMIT</code> modifier for <code>ZRANGEBYSCORE</code> can be specified using either:</p> <ul><li>an indexed array: <code>array($offset, $count)</code></li> <li>an associative array: <code>array('offset' =&gt; $offset, 'count' =&gt; $count)</code></li></ul></li> <li><p>The method <code>Predis\Client::__construct()</code> now accepts also instances of
<code>Predis\ConnectionParameters</code>.</p></li> <li><p><code>Predis\MultiExecBlock</code> and <code>Predis\PubSubContext</code> now throw an exception
when trying to create their instances using a profile that does not
support the required Redis commands or when the client is connected to
a cluster of connections.</p></li> <li><p>Various improvements to <code>Predis\MultiExecBlock</code>:</p> <ul><li>fixes and more consistent behaviour across various usage cases.</li> <li>support for <code>WATCH</code> and <code>UNWATCH</code> when using the current development
profile (Redis v2.2) and aborted transactions.</li></ul></li> <li><p>New signature for <code>Predis\Client::multiExec()</code> which is now able to accept
an array of options for the underlying instance of <code>Predis\MultiExecBlock</code>.
Backwards compatibility with previous releases of Predis is ensured.</p></li> <li><p>New signature for <code>Predis\Client::pipeline()</code> which is now able to accept
an array of options for the underlying instance of Predis\CommandPipeline.
Backwards compatibility with previous releases of Predis is ensured.
The method <code>Predis\Client::pipelineSafe()</code> is to be considered deprecated.</p></li> <li><p><strong>FIX</strong>: The <code>WEIGHT</code> modifier for <code>ZUNIONSTORE</code> and <code>ZINTERSTORE</code> was
handled incorrectly with more than two weights specified.</p></li></ul> <h1 id="v0-6-0-2010-05-24"><a href="#v0-6-0-2010-05-24" aria-hidden="true" class="header-anchor">#</a> v0.6.0 (2010-05-24)</h1> <ul><li><p>Switched to the new multi-bulk request protocol for all of the commands
in the Redis 1.2 and Redis 2.0 profiles. Inline and bulk requests are now
deprecated as they will be removed in future releases of Redis.</p></li> <li><p>The default server profile is <code>2.0</code> (targeting Redis 2.0.x). If you are
using older versions of Redis, it is highly recommended that you specify
which server profile the client should use (e.g. <code>1.2</code> when connecting
to instances of Redis 1.2.x).</p></li> <li><p>Support for Redis 1.0 is now optional and it is provided by requiring
'Predis_Compatibility.php' before creating an instance of <code>Predis\Client</code>.</p></li> <li><p>New commands added to the Redis 2.0 profile since Predis 0.5.1:</p> <ul><li>Strings: <code>SETEX</code>, <code>APPEND</code>, <code>SUBSTR</code></li> <li>ZSets  : <code>ZCOUNT</code>, <code>ZRANK</code>, <code>ZUNIONSTORE</code>, <code>ZINTERSTORE</code>, <code>ZREMBYRANK</code>,
<code>ZREVRANK</code></li> <li>Hashes : <code>HSET</code>, <code>HSETNX</code>, <code>HMSET</code>, <code>HINCRBY</code>, <code>HGET</code>, <code>HMGET</code>, <code>HDEL</code>,
<code>HEXISTS</code>, <code>HLEN</code>, <code>HKEYS</code>, <code>HVALS</code>, <code>HGETALL</code></li> <li>PubSub : <code>PUBLISH</code>, <code>SUBSCRIBE</code>, <code>UNSUBSCRIBE</code></li> <li>Misc.  : <code>DISCARD</code>, <code>CONFIG</code></li></ul></li> <li><p>Introduced client-level options with the new <code>Predis\ClientOptions</code> class.
Options can be passed to the constructor of <code>Predis\Client</code> in its second
argument as an array or an instance of <code>Predis\ClientOptions</code>. For brevity's
sake and compatibility with older versions, the constructor still accepts
an instance of <code>Predis\RedisServerProfile</code> in its second argument. The
currently supported client options are:</p> <ul><li><p><code>profile</code> [default: <code>2.0</code> as of Predis 0.6.0]: specifies which server
profile to use when connecting to Redis. This option accepts an instance
of <code>Predis\RedisServerProfile</code> or a string that indicates the version.</p></li> <li><p><code>key_distribution</code> [default: <code>Predis\Distribution\HashRing</code>]: specifies
which key distribution strategy to use to distribute keys among the
servers that compose a cluster. This option accepts an instance of
<code>Predis\Distribution\IDistributionStrategy</code> so that users can implement
their own key distribution strategy. <code>Predis\Distribution\KetamaPureRing</code>
is an alternative distribution strategy providing a pure-PHP implementation
of the same algorithm used by libketama.</p></li> <li><p><code>throw_on_error</code> [default: <code>TRUE</code>]: server errors can optionally be handled
&quot;silently&quot;: instead of throwing an exception, the client returns an error
response type.</p></li> <li><p><code>iterable_multibulk</code> [EXPERIMENTAL - default: <code>FALSE</code>]: in addition to the
classic way of fetching a whole multibulk reply into an array, the client
can now optionally stream a multibulk reply down to the user code by using
PHP iterators. It is just a little bit slower, but it can save a lot of
memory in certain scenarios.</p></li></ul></li> <li><p>New parameters for connections:</p> <ul><li><code>alias</code> [default: not set]: every connection can now be identified by an
alias that is useful to get a specific connections when connected to a
cluster of Redis servers.</li> <li><code>weight</code> [default: not set]: allows to balance keys asymmetrically across
multiple servers. This is useful when you have servers with different
amounts of memory to distribute the load of your keys accordingly.</li> <li><code>connection_async</code> [default: <code>FALSE</code>]: estabilish connections to servers
in a non-blocking way, so that the client is not blocked while the socket
resource performs the actual connection.</li> <li><code>connection_persistent</code> [default: <code>FALSE</code>]: the underlying socket resource
is left open when a script ends its lifecycle. Persistent connections can
lead to unpredictable or strange behaviours, so they should be used with
extreme care.</li></ul></li> <li><p>Introduced the <code>Predis\Pipeline\IPipelineExecutor</code> interface. Classes that
implements this interface are used internally by the <code>Predis\CommandPipeline</code>
class to change the behaviour of the pipeline when writing/reading commands
from one or multiple servers. Here is the list of the default executors:</p> <ul><li><code>Predis\Pipeline\StandardExecutor</code>: exceptions generated by server errors
might be thrown depending on the options passed to the client (see the
<code>throw_on_error</code> client option). Instead, protocol or network errors always
throw exceptions. This is the default executor for single and clustered
connections and shares the same behaviour of Predis 0.5.x.</li> <li><code>Predis\Pipeline\SafeExecutor</code>: exceptions generated by server, protocol
or network errors are not thrown but returned in the response array as
instances of <code>Predis\ResponseError</code> or <code>Predis\CommunicationException</code>.</li> <li><code>Predis\Pipeline\SafeClusterExecutor</code>: this executor shares the same
behaviour of <code>Predis\Pipeline\SafeExecutor</code> but it is geared towards
clustered connections.</li></ul></li> <li><p>Support for PUB/SUB is handled by the new <code>Predis\PubSubContext</code> class, which
could also be used to build a callback dispatcher for PUB/SUB scenarios.</p></li> <li><p>When connected to a cluster of connections, it is now possible to get a
new <code>Predis\Client</code> instance for a single connection of the cluster by
passing its alias/index to the new <code>Predis\Client::getClientFor()</code> method.</p></li> <li><p><code>Predis\CommandPipeline</code> and <code>Predis\MultiExecBlock</code> return their instances
when invokink commands, thus allowing method chaining in pipelines and
multi-exec blocks.</p></li> <li><p><code>Predis\MultiExecBlock</code> can handle the new <code>DISCARD</code> command.</p></li> <li><p>Connections now support float values for the <code>connection_timeout</code> parameter
to express timeouts with a microsecond resolution.</p></li> <li><p><strong>FIX</strong>: TCP connections now respect the read/write timeout parameter when
reading the payload of server responses. Previously, <code>stream_get_contents()</code>
was being used internally to read data from a connection but it looks like
PHP does not honour the specified timeout for socket streams when inside
this function.</p></li> <li><p><strong>FIX</strong>: The <code>GET</code> parameter for the <code>SORT</code> command now accepts also multiple
key patterns by passing an array of strings. (ISSUE #1).</p></li></ul> <ul><li><strong>FIX</strong>: Replies to the <code>DEL</code> command return the number of elements deleted
by the server and not 0 or 1 interpreted as a boolean response. (ISSUE #4).</li></ul> <h1 id="v0-5-1-2010-01-23"><a href="#v0-5-1-2010-01-23" aria-hidden="true" class="header-anchor">#</a> v0.5.1 (2010-01-23)</h1> <ul><li><p><code>RPOPLPUSH</code> has been changed from bulk command to inline command in Redis
1.2.1, so <code>ListPopLastPushHead</code> now extends <code>InlineCommand</code>. The old behavior
is still available via the <code>ListPopLastPushHeadBulk</code> class so that you can
override the server profile if you need the old (and uncorrect) behaviour
when connecting to a Redis 1.2.0 instance.</p></li> <li><p>Added missing support for <code>BGREWRITEAOF</code> for Redis &gt;= 1.2.0.</p></li> <li><p>Implemented a factory method for the <code>RedisServerProfile</code> class to ease the
creation of new server profile instances based on a version string.</p></li></ul> <h1 id="v0-5-0-2010-01-09"><a href="#v0-5-0-2010-01-09" aria-hidden="true" class="header-anchor">#</a> v0.5.0 (2010-01-09)</h1> <ul><li>First versioned release of Predis</li></ul></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="Laputa/assets/js/144.1985fb6e.js" defer></script><script src="Laputa/assets/js/app.6f999ec1.js" defer></script>
  </body>
</html>
