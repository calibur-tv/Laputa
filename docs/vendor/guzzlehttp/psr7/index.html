<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PSR-7 Message Implementation | Hello VuePress</title>
    <meta name="description" content="Just playing around">
    <link rel="icon" href="https://static.calibur.tv/favicon.ico">
    
    <link rel="preload" href="Laputa/assets/css/0.styles.21b3d02c.css" as="style"><link rel="preload" href="Laputa/assets/js/app.6f999ec1.js" as="script"><link rel="preload" href="Laputa/assets/js/49.ef4b9870.js" as="script"><link rel="prefetch" href="Laputa/assets/js/127.5d5c2a9e.js"><link rel="prefetch" href="Laputa/assets/js/2.cda51ec0.js"><link rel="prefetch" href="Laputa/assets/js/3.a88ade89.js"><link rel="prefetch" href="Laputa/assets/js/4.f0a47b5a.js"><link rel="prefetch" href="Laputa/assets/js/5.eb4e2f15.js"><link rel="prefetch" href="Laputa/assets/js/6.ae349cfe.js"><link rel="prefetch" href="Laputa/assets/js/7.d8abf350.js"><link rel="prefetch" href="Laputa/assets/js/8.7660bbc3.js"><link rel="prefetch" href="Laputa/assets/js/9.9282dabe.js"><link rel="prefetch" href="Laputa/assets/js/10.ea22ba46.js"><link rel="prefetch" href="Laputa/assets/js/11.ed71705a.js"><link rel="prefetch" href="Laputa/assets/js/12.bab571ae.js"><link rel="prefetch" href="Laputa/assets/js/13.78fc55ea.js"><link rel="prefetch" href="Laputa/assets/js/14.765cca5f.js"><link rel="prefetch" href="Laputa/assets/js/15.7f1ee911.js"><link rel="prefetch" href="Laputa/assets/js/16.1de690fb.js"><link rel="prefetch" href="Laputa/assets/js/17.0c9bcfe7.js"><link rel="prefetch" href="Laputa/assets/js/18.4ea1b5ec.js"><link rel="prefetch" href="Laputa/assets/js/19.8c8f8b57.js"><link rel="prefetch" href="Laputa/assets/js/20.9129a22f.js"><link rel="prefetch" href="Laputa/assets/js/21.b84b104e.js"><link rel="prefetch" href="Laputa/assets/js/22.fe164d26.js"><link rel="prefetch" href="Laputa/assets/js/23.dee79d2c.js"><link rel="prefetch" href="Laputa/assets/js/24.7a76775e.js"><link rel="prefetch" href="Laputa/assets/js/25.57b548b0.js"><link rel="prefetch" href="Laputa/assets/js/26.22bea336.js"><link rel="prefetch" href="Laputa/assets/js/27.f372908a.js"><link rel="prefetch" href="Laputa/assets/js/28.7c33523e.js"><link rel="prefetch" href="Laputa/assets/js/29.0b631070.js"><link rel="prefetch" href="Laputa/assets/js/30.fde1b56c.js"><link rel="prefetch" href="Laputa/assets/js/31.19440d0b.js"><link rel="prefetch" href="Laputa/assets/js/32.09c05419.js"><link rel="prefetch" href="Laputa/assets/js/33.f24b2fa1.js"><link rel="prefetch" href="Laputa/assets/js/34.704234d2.js"><link rel="prefetch" href="Laputa/assets/js/35.3538aa16.js"><link rel="prefetch" href="Laputa/assets/js/36.9fd936b8.js"><link rel="prefetch" href="Laputa/assets/js/37.029a950c.js"><link rel="prefetch" href="Laputa/assets/js/38.ca2d406b.js"><link rel="prefetch" href="Laputa/assets/js/39.6d640b65.js"><link rel="prefetch" href="Laputa/assets/js/40.da4aa4d2.js"><link rel="prefetch" href="Laputa/assets/js/41.15815f6e.js"><link rel="prefetch" href="Laputa/assets/js/42.87b4655d.js"><link rel="prefetch" href="Laputa/assets/js/43.87956add.js"><link rel="prefetch" href="Laputa/assets/js/44.ed836e06.js"><link rel="prefetch" href="Laputa/assets/js/45.f6149b9c.js"><link rel="prefetch" href="Laputa/assets/js/46.57e569c9.js"><link rel="prefetch" href="Laputa/assets/js/47.53bc0ff4.js"><link rel="prefetch" href="Laputa/assets/js/48.e16402f6.js"><link rel="prefetch" href="Laputa/assets/js/50.97b2795a.js"><link rel="prefetch" href="Laputa/assets/js/51.1df1f3d1.js"><link rel="prefetch" href="Laputa/assets/js/52.727e7778.js"><link rel="prefetch" href="Laputa/assets/js/53.f8356a1e.js"><link rel="prefetch" href="Laputa/assets/js/54.8f15ada1.js"><link rel="prefetch" href="Laputa/assets/js/55.fc41623e.js"><link rel="prefetch" href="Laputa/assets/js/56.b65567d0.js"><link rel="prefetch" href="Laputa/assets/js/57.3cb52983.js"><link rel="prefetch" href="Laputa/assets/js/58.ff69625f.js"><link rel="prefetch" href="Laputa/assets/js/59.b99f5762.js"><link rel="prefetch" href="Laputa/assets/js/60.b7c53f3f.js"><link rel="prefetch" href="Laputa/assets/js/61.2757576d.js"><link rel="prefetch" href="Laputa/assets/js/62.5d25765e.js"><link rel="prefetch" href="Laputa/assets/js/63.a6b7406e.js"><link rel="prefetch" href="Laputa/assets/js/64.7bba8fd1.js"><link rel="prefetch" href="Laputa/assets/js/65.6e593ebf.js"><link rel="prefetch" href="Laputa/assets/js/66.b926ddd2.js"><link rel="prefetch" href="Laputa/assets/js/67.c8c69cd3.js"><link rel="prefetch" href="Laputa/assets/js/68.cb4bb5cb.js"><link rel="prefetch" href="Laputa/assets/js/69.a7b09174.js"><link rel="prefetch" href="Laputa/assets/js/70.02c49833.js"><link rel="prefetch" href="Laputa/assets/js/71.1c53c636.js"><link rel="prefetch" href="Laputa/assets/js/72.bb0f586e.js"><link rel="prefetch" href="Laputa/assets/js/73.aa250a71.js"><link rel="prefetch" href="Laputa/assets/js/74.fcd8312b.js"><link rel="prefetch" href="Laputa/assets/js/75.ee561d5e.js"><link rel="prefetch" href="Laputa/assets/js/76.8d6c7d11.js"><link rel="prefetch" href="Laputa/assets/js/77.3c5c7747.js"><link rel="prefetch" href="Laputa/assets/js/78.0afb8d36.js"><link rel="prefetch" href="Laputa/assets/js/79.e09176dc.js"><link rel="prefetch" href="Laputa/assets/js/80.6add3555.js"><link rel="prefetch" href="Laputa/assets/js/81.46dfeac8.js"><link rel="prefetch" href="Laputa/assets/js/82.8c7bae69.js"><link rel="prefetch" href="Laputa/assets/js/83.3c1031f4.js"><link rel="prefetch" href="Laputa/assets/js/84.5414c057.js"><link rel="prefetch" href="Laputa/assets/js/85.434414f7.js"><link rel="prefetch" href="Laputa/assets/js/86.032ff5b5.js"><link rel="prefetch" href="Laputa/assets/js/87.1387e175.js"><link rel="prefetch" href="Laputa/assets/js/88.ef068175.js"><link rel="prefetch" href="Laputa/assets/js/89.3c86a439.js"><link rel="prefetch" href="Laputa/assets/js/90.7b4ceab8.js"><link rel="prefetch" href="Laputa/assets/js/91.993029ce.js"><link rel="prefetch" href="Laputa/assets/js/92.cd0f0552.js"><link rel="prefetch" href="Laputa/assets/js/93.2ea5e4ed.js"><link rel="prefetch" href="Laputa/assets/js/94.d77f771e.js"><link rel="prefetch" href="Laputa/assets/js/95.bfb1166d.js"><link rel="prefetch" href="Laputa/assets/js/96.d656aebb.js"><link rel="prefetch" href="Laputa/assets/js/97.8d318516.js"><link rel="prefetch" href="Laputa/assets/js/98.836a48cc.js"><link rel="prefetch" href="Laputa/assets/js/99.90560d29.js"><link rel="prefetch" href="Laputa/assets/js/100.a889b1b9.js"><link rel="prefetch" href="Laputa/assets/js/101.92c2d09f.js"><link rel="prefetch" href="Laputa/assets/js/102.41e8fe4c.js"><link rel="prefetch" href="Laputa/assets/js/103.1e7ebc3c.js"><link rel="prefetch" href="Laputa/assets/js/104.9b5e097e.js"><link rel="prefetch" href="Laputa/assets/js/105.664970bd.js"><link rel="prefetch" href="Laputa/assets/js/106.61b9108e.js"><link rel="prefetch" href="Laputa/assets/js/107.fffe8d0f.js"><link rel="prefetch" href="Laputa/assets/js/108.6ab1e942.js"><link rel="prefetch" href="Laputa/assets/js/109.df13f020.js"><link rel="prefetch" href="Laputa/assets/js/110.3ee4fa68.js"><link rel="prefetch" href="Laputa/assets/js/111.b836e8af.js"><link rel="prefetch" href="Laputa/assets/js/112.a83b7d02.js"><link rel="prefetch" href="Laputa/assets/js/113.ded87a86.js"><link rel="prefetch" href="Laputa/assets/js/114.297ad3a1.js"><link rel="prefetch" href="Laputa/assets/js/115.544749de.js"><link rel="prefetch" href="Laputa/assets/js/116.a8d4b51b.js"><link rel="prefetch" href="Laputa/assets/js/117.4f44196d.js"><link rel="prefetch" href="Laputa/assets/js/118.89df9a9d.js"><link rel="prefetch" href="Laputa/assets/js/119.2dba598a.js"><link rel="prefetch" href="Laputa/assets/js/120.fc3b4984.js"><link rel="prefetch" href="Laputa/assets/js/121.9fdd6483.js"><link rel="prefetch" href="Laputa/assets/js/122.b56010ca.js"><link rel="prefetch" href="Laputa/assets/js/123.41518099.js"><link rel="prefetch" href="Laputa/assets/js/124.2353c219.js"><link rel="prefetch" href="Laputa/assets/js/125.16055535.js"><link rel="prefetch" href="Laputa/assets/js/126.9edc34c6.js"><link rel="prefetch" href="Laputa/assets/js/128.483176b9.js"><link rel="prefetch" href="Laputa/assets/js/129.d0a84feb.js"><link rel="prefetch" href="Laputa/assets/js/130.e8a23474.js"><link rel="prefetch" href="Laputa/assets/js/131.46723320.js"><link rel="prefetch" href="Laputa/assets/js/132.a9d65b65.js"><link rel="prefetch" href="Laputa/assets/js/133.565a1e84.js"><link rel="prefetch" href="Laputa/assets/js/134.9a13e04e.js"><link rel="prefetch" href="Laputa/assets/js/135.c29729f1.js"><link rel="prefetch" href="Laputa/assets/js/136.1e528d9b.js"><link rel="prefetch" href="Laputa/assets/js/137.ae8b404d.js"><link rel="prefetch" href="Laputa/assets/js/138.be0e6cbb.js"><link rel="prefetch" href="Laputa/assets/js/139.237416e3.js"><link rel="prefetch" href="Laputa/assets/js/140.4ab9ca1a.js"><link rel="prefetch" href="Laputa/assets/js/141.74e2f092.js"><link rel="prefetch" href="Laputa/assets/js/142.0ecb3a43.js"><link rel="prefetch" href="Laputa/assets/js/143.be6d4143.js"><link rel="prefetch" href="Laputa/assets/js/144.1985fb6e.js"><link rel="prefetch" href="Laputa/assets/js/145.37a16214.js"><link rel="prefetch" href="Laputa/assets/js/146.3b54b80d.js"><link rel="prefetch" href="Laputa/assets/js/147.cd7a75ec.js"><link rel="prefetch" href="Laputa/assets/js/148.c069a727.js"><link rel="prefetch" href="Laputa/assets/js/149.31e9b53c.js"><link rel="prefetch" href="Laputa/assets/js/150.97670c74.js"><link rel="prefetch" href="Laputa/assets/js/151.ea21f131.js"><link rel="prefetch" href="Laputa/assets/js/152.7fb53639.js"><link rel="prefetch" href="Laputa/assets/js/153.fc1a3224.js"><link rel="prefetch" href="Laputa/assets/js/154.d139b199.js"><link rel="prefetch" href="Laputa/assets/js/155.d8803711.js"><link rel="prefetch" href="Laputa/assets/js/156.b5f75d9b.js"><link rel="prefetch" href="Laputa/assets/js/157.534cff67.js"><link rel="prefetch" href="Laputa/assets/js/158.507711d4.js"><link rel="prefetch" href="Laputa/assets/js/159.bbe8196f.js"><link rel="prefetch" href="Laputa/assets/js/160.01a377d7.js"><link rel="prefetch" href="Laputa/assets/js/161.df7bc156.js"><link rel="prefetch" href="Laputa/assets/js/162.4c050e9a.js"><link rel="prefetch" href="Laputa/assets/js/163.f633cfe3.js"><link rel="prefetch" href="Laputa/assets/js/164.9a7cde98.js"><link rel="prefetch" href="Laputa/assets/js/165.8383c6e0.js"><link rel="prefetch" href="Laputa/assets/js/166.84973e7b.js"><link rel="prefetch" href="Laputa/assets/js/167.139a83e5.js"><link rel="prefetch" href="Laputa/assets/js/168.b0d2bd4d.js"><link rel="prefetch" href="Laputa/assets/js/169.e800feb9.js"><link rel="prefetch" href="Laputa/assets/js/170.f9451e36.js"><link rel="prefetch" href="Laputa/assets/js/171.a83a4665.js"><link rel="prefetch" href="Laputa/assets/js/172.c211eed7.js"><link rel="prefetch" href="Laputa/assets/js/173.c3a50a74.js"><link rel="prefetch" href="Laputa/assets/js/174.eb3ff294.js"><link rel="prefetch" href="Laputa/assets/js/175.710a54ce.js"><link rel="prefetch" href="Laputa/assets/js/176.b8b0c286.js"><link rel="prefetch" href="Laputa/assets/js/177.53f441fa.js"><link rel="prefetch" href="Laputa/assets/js/178.81400b25.js"><link rel="prefetch" href="Laputa/assets/js/179.8d7755c9.js"><link rel="prefetch" href="Laputa/assets/js/180.cb1b319d.js"><link rel="prefetch" href="Laputa/assets/js/181.897fd3aa.js"><link rel="prefetch" href="Laputa/assets/js/182.5bbea4a6.js"><link rel="prefetch" href="Laputa/assets/js/183.59d5d5b7.js"><link rel="prefetch" href="Laputa/assets/js/184.7a6514a7.js"><link rel="prefetch" href="Laputa/assets/js/185.26dd8cdd.js"><link rel="prefetch" href="Laputa/assets/js/186.978c4dde.js"><link rel="prefetch" href="Laputa/assets/js/187.2ee204e3.js"><link rel="prefetch" href="Laputa/assets/js/188.29baaca4.js"><link rel="prefetch" href="Laputa/assets/js/189.fe643f03.js"><link rel="prefetch" href="Laputa/assets/js/190.dd3ce693.js"><link rel="prefetch" href="Laputa/assets/js/191.c9ffbdf3.js"><link rel="prefetch" href="Laputa/assets/js/192.402577fb.js"><link rel="prefetch" href="Laputa/assets/js/193.4278458a.js"><link rel="prefetch" href="Laputa/assets/js/194.26c0a999.js"><link rel="prefetch" href="Laputa/assets/js/195.b3bbd6f1.js"><link rel="prefetch" href="Laputa/assets/js/196.ec2775a6.js"><link rel="prefetch" href="Laputa/assets/js/197.7a1de435.js"><link rel="prefetch" href="Laputa/assets/js/198.b0d0b4b2.js"><link rel="prefetch" href="Laputa/assets/js/199.68e2f133.js"><link rel="prefetch" href="Laputa/assets/js/200.ac303e12.js"><link rel="prefetch" href="Laputa/assets/js/201.629c56c3.js"><link rel="prefetch" href="Laputa/assets/js/202.f8efe17e.js"><link rel="prefetch" href="Laputa/assets/js/203.24648560.js"><link rel="prefetch" href="Laputa/assets/js/204.413e0508.js"><link rel="prefetch" href="Laputa/assets/js/205.a575ce92.js"><link rel="prefetch" href="Laputa/assets/js/206.7c9b685e.js"><link rel="prefetch" href="Laputa/assets/js/207.1ab88c98.js"><link rel="prefetch" href="Laputa/assets/js/208.351562e6.js"><link rel="prefetch" href="Laputa/assets/js/209.1b054dd4.js"><link rel="prefetch" href="Laputa/assets/js/210.1e8ec36f.js"><link rel="prefetch" href="Laputa/assets/js/211.bd920edf.js"><link rel="prefetch" href="Laputa/assets/js/212.ebc1bea5.js"><link rel="prefetch" href="Laputa/assets/js/213.353cd010.js"><link rel="prefetch" href="Laputa/assets/js/214.4833f3e1.js"><link rel="prefetch" href="Laputa/assets/js/215.1946cb78.js"><link rel="prefetch" href="Laputa/assets/js/216.26c1e1d5.js"><link rel="prefetch" href="Laputa/assets/js/217.ba12abbd.js"><link rel="prefetch" href="Laputa/assets/js/218.4e7296f1.js"><link rel="prefetch" href="Laputa/assets/js/219.529550de.js"><link rel="prefetch" href="Laputa/assets/js/220.b8021d90.js"><link rel="prefetch" href="Laputa/assets/js/221.802a3551.js"><link rel="prefetch" href="Laputa/assets/js/222.bc0d810e.js"><link rel="prefetch" href="Laputa/assets/js/223.8cdfb2ab.js"><link rel="prefetch" href="Laputa/assets/js/224.7c4d2af9.js"><link rel="prefetch" href="Laputa/assets/js/225.3ee841fd.js"><link rel="prefetch" href="Laputa/assets/js/226.7df98d80.js"><link rel="prefetch" href="Laputa/assets/js/227.f8cf7429.js"><link rel="prefetch" href="Laputa/assets/js/228.1bbe3cd5.js"><link rel="prefetch" href="Laputa/assets/js/229.9255cc40.js"><link rel="prefetch" href="Laputa/assets/js/230.9fe34f11.js"><link rel="prefetch" href="Laputa/assets/js/231.4162b6b5.js"><link rel="prefetch" href="Laputa/assets/js/232.49ddd09a.js"><link rel="prefetch" href="Laputa/assets/js/233.7a3b967d.js"><link rel="prefetch" href="Laputa/assets/js/234.7df4ccbc.js"><link rel="prefetch" href="Laputa/assets/js/235.8439e9f2.js"><link rel="prefetch" href="Laputa/assets/js/236.3bec368c.js"><link rel="prefetch" href="Laputa/assets/js/237.159a831f.js"><link rel="prefetch" href="Laputa/assets/js/238.67f44d76.js"><link rel="prefetch" href="Laputa/assets/js/239.34b19aa7.js"><link rel="prefetch" href="Laputa/assets/js/240.cbcf457d.js"><link rel="prefetch" href="Laputa/assets/js/241.58c5bf48.js"><link rel="prefetch" href="Laputa/assets/js/242.23600eb9.js"><link rel="prefetch" href="Laputa/assets/js/243.7ed95623.js"><link rel="prefetch" href="Laputa/assets/js/244.ff6b7298.js"><link rel="prefetch" href="Laputa/assets/js/245.9cf038e8.js"><link rel="prefetch" href="Laputa/assets/js/246.fa1277bb.js"><link rel="prefetch" href="Laputa/assets/js/247.11fee991.js"><link rel="prefetch" href="Laputa/assets/js/248.3655e1e1.js"><link rel="prefetch" href="Laputa/assets/js/249.8fbd4f7c.js"><link rel="prefetch" href="Laputa/assets/js/250.85d161fa.js"><link rel="prefetch" href="Laputa/assets/js/251.481032de.js"><link rel="prefetch" href="Laputa/assets/js/252.6157489d.js"><link rel="prefetch" href="Laputa/assets/js/253.f91926ff.js"><link rel="prefetch" href="Laputa/assets/js/254.b7fad364.js"><link rel="prefetch" href="Laputa/assets/js/255.73dc5cad.js"><link rel="prefetch" href="Laputa/assets/js/256.6b658f8a.js">
    <link rel="stylesheet" href="Laputa/assets/css/0.styles.21b3d02c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Laputa/" class="home-link router-link-active"><!----> <span class="site-name">Hello VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <!----> </div> <div class="page"> <div class="content"><h1 id="psr-7-message-implementation"><a href="#psr-7-message-implementation" aria-hidden="true" class="header-anchor">#</a> PSR-7 Message Implementation</h1> <p>This repository contains a full <a href="http://www.php-fig.org/psr/psr-7/" target="_blank" rel="noopener noreferrer">PSR-7<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
message implementation, several stream decorators, and some helpful
functionality like query string parsing.</p> <p><a href="https://travis-ci.org/guzzle/psr7" target="_blank" rel="noopener noreferrer"><img src="https://travis-ci.org/guzzle/psr7.svg?branch=master" alt="Build Status"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h1 id="stream-implementation"><a href="#stream-implementation" aria-hidden="true" class="header-anchor">#</a> Stream implementation</h1> <p>This package comes with a number of stream implementations and stream
decorators.</p> <h2 id="appendstream"><a href="#appendstream" aria-hidden="true" class="header-anchor">#</a> AppendStream</h2> <p><code>GuzzleHttp\Psr7\AppendStream</code></p> <p>Reads from multiple streams, one after the other.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">GuzzleHttp<span class="token punctuation">\</span>Psr7</span><span class="token punctuation">;</span>

<span class="token variable">$a</span> <span class="token operator">=</span> Psr7\<span class="token package">stream_for</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'abc, '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$b</span> <span class="token operator">=</span> Psr7\<span class="token package">stream_for</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'123.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$composed</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Psr7<span class="token punctuation">\</span>AppendStream</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token variable">$a</span><span class="token punctuation">,</span> <span class="token variable">$b</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$composed</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">addStream</span><span class="token punctuation">(</span>Psr7\<span class="token package">stream_for</span><span class="token punctuation">(</span><span class="token single-quoted-string string">' Above all listen to me'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token variable">$composed</span><span class="token punctuation">;</span> <span class="token comment">// abc, 123. Above all listen to me.</span>
</code></pre></div><h2 id="bufferstream"><a href="#bufferstream" aria-hidden="true" class="header-anchor">#</a> BufferStream</h2> <p><code>GuzzleHttp\Psr7\BufferStream</code></p> <p>Provides a buffer stream that can be written to fill a buffer, and read
from to remove bytes from the buffer.</p> <p>This stream returns a &quot;hwm&quot; metadata value that tells upstream consumers
what the configured high water mark of the stream is, or the maximum
preferred size of the buffer.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">GuzzleHttp<span class="token punctuation">\</span>Psr7</span><span class="token punctuation">;</span>

<span class="token comment">// When more than 1024 bytes are in the buffer, it will begin returning</span>
<span class="token comment">// false to writes. This is an indication that writers should slow down.</span>
<span class="token variable">$buffer</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Psr7<span class="token punctuation">\</span>BufferStream</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="cachingstream"><a href="#cachingstream" aria-hidden="true" class="header-anchor">#</a> CachingStream</h2> <p>The CachingStream is used to allow seeking over previously read bytes on
non-seekable streams. This can be useful when transferring a non-seekable
entity body fails due to needing to rewind the stream (for example, resulting
from a redirect). Data that is read from the remote stream will be buffered in
a PHP temp stream so that previously read bytes are cached first in memory,
then on disk.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">GuzzleHttp<span class="token punctuation">\</span>Psr7</span><span class="token punctuation">;</span>

<span class="token variable">$original</span> <span class="token operator">=</span> Psr7\<span class="token package">stream_for</span><span class="token punctuation">(</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'http://www.google.com'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$stream</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Psr7<span class="token punctuation">\</span>CachingStream</span><span class="token punctuation">(</span><span class="token variable">$original</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$stream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$stream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">tell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1024</span>

<span class="token variable">$stream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">seek</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$stream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">tell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0</span>
</code></pre></div><h2 id="droppingstream"><a href="#droppingstream" aria-hidden="true" class="header-anchor">#</a> DroppingStream</h2> <p><code>GuzzleHttp\Psr7\DroppingStream</code></p> <p>Stream decorator that begins dropping data once the size of the underlying
stream becomes too full.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">GuzzleHttp<span class="token punctuation">\</span>Psr7</span><span class="token punctuation">;</span>

<span class="token comment">// Create an empty stream</span>
<span class="token variable">$stream</span> <span class="token operator">=</span> Psr7\<span class="token package">stream_for</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Start dropping data when the stream has more than 10 bytes</span>
<span class="token variable">$dropping</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Psr7<span class="token punctuation">\</span>DroppingStream</span><span class="token punctuation">(</span><span class="token variable">$stream</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$dropping</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'01234567890123456789'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$stream</span><span class="token punctuation">;</span> <span class="token comment">// 0123456789</span>
</code></pre></div><h2 id="fnstream"><a href="#fnstream" aria-hidden="true" class="header-anchor">#</a> FnStream</h2> <p><code>GuzzleHttp\Psr7\FnStream</code></p> <p>Compose stream implementations based on a hash of functions.</p> <p>Allows for easy testing and extension of a provided stream without needing
to create a concrete class for a simple extension point.</p> <div class="language-php extra-class"><pre class="language-php"><code>
<span class="token keyword">use</span> <span class="token package">GuzzleHttp<span class="token punctuation">\</span>Psr7</span><span class="token punctuation">;</span>

<span class="token variable">$stream</span> <span class="token operator">=</span> Psr7\<span class="token package">stream_for</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$fnStream</span> <span class="token operator">=</span> Psr7\<span class="token package">FnStream</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">decorate</span><span class="token punctuation">(</span><span class="token variable">$stream</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'rewind'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$stream</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token single-quoted-string string">'About to rewind - '</span><span class="token punctuation">;</span>
        <span class="token variable">$stream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rewind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">echo</span> <span class="token single-quoted-string string">'rewound!'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$fnStream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rewind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Outputs: About to rewind - rewound!</span>
</code></pre></div><h2 id="inflatestream"><a href="#inflatestream" aria-hidden="true" class="header-anchor">#</a> InflateStream</h2> <p><code>GuzzleHttp\Psr7\InflateStream</code></p> <p>Uses PHP's zlib.inflate filter to inflate deflate or gzipped content.</p> <p>This stream decorator skips the first 10 bytes of the given stream to remove
the gzip header, converts the provided stream to a PHP stream resource,
then appends the zlib.inflate filter. The stream is then converted back
to a Guzzle stream resource to be used as a Guzzle stream.</p> <h2 id="lazyopenstream"><a href="#lazyopenstream" aria-hidden="true" class="header-anchor">#</a> LazyOpenStream</h2> <p><code>GuzzleHttp\Psr7\LazyOpenStream</code></p> <p>Lazily reads or writes to a file that is opened only after an IO operation
take place on the stream.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">GuzzleHttp<span class="token punctuation">\</span>Psr7</span><span class="token punctuation">;</span>

<span class="token variable">$stream</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Psr7<span class="token punctuation">\</span>LazyOpenStream</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/path/to/file'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// The file has not yet been opened...</span>

<span class="token keyword">echo</span> <span class="token variable">$stream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// The file is opened and read from only when needed.</span>
</code></pre></div><h2 id="limitstream"><a href="#limitstream" aria-hidden="true" class="header-anchor">#</a> LimitStream</h2> <p><code>GuzzleHttp\Psr7\LimitStream</code></p> <p>LimitStream can be used to read a subset or slice of an existing stream object.
This can be useful for breaking a large file into smaller pieces to be sent in
chunks (e.g. Amazon S3's multipart upload API).</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">GuzzleHttp<span class="token punctuation">\</span>Psr7</span><span class="token punctuation">;</span>

<span class="token variable">$original</span> <span class="token operator">=</span> Psr7\<span class="token package">stream_for</span><span class="token punctuation">(</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/tmp/test.txt'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'r+'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$original</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &gt;&gt;&gt; 1048576</span>

<span class="token comment">// Limit the size of the body to 1024 bytes and start reading from byte 2048</span>
<span class="token variable">$stream</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Psr7<span class="token punctuation">\</span>LimitStream</span><span class="token punctuation">(</span><span class="token variable">$original</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">2048</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$stream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &gt;&gt;&gt; 1024</span>
<span class="token keyword">echo</span> <span class="token variable">$stream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">tell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &gt;&gt;&gt; 0</span>
</code></pre></div><h2 id="multipartstream"><a href="#multipartstream" aria-hidden="true" class="header-anchor">#</a> MultipartStream</h2> <p><code>GuzzleHttp\Psr7\MultipartStream</code></p> <p>Stream that when read returns bytes for a streaming multipart or
multipart/form-data stream.</p> <h2 id="noseekstream"><a href="#noseekstream" aria-hidden="true" class="header-anchor">#</a> NoSeekStream</h2> <p><code>GuzzleHttp\Psr7\NoSeekStream</code></p> <p>NoSeekStream wraps a stream and does not allow seeking.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">GuzzleHttp<span class="token punctuation">\</span>Psr7</span><span class="token punctuation">;</span>

<span class="token variable">$original</span> <span class="token operator">=</span> Psr7\<span class="token package">stream_for</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$noSeek</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Psr7<span class="token punctuation">\</span>NoSeekStream</span><span class="token punctuation">(</span><span class="token variable">$original</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token variable">$noSeek</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// foo</span>
<span class="token function">var_export</span><span class="token punctuation">(</span><span class="token variable">$noSeek</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isSeekable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// false</span>
<span class="token variable">$noSeek</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">seek</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">var_export</span><span class="token punctuation">(</span><span class="token variable">$noSeek</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// NULL</span>
</code></pre></div><h2 id="pumpstream"><a href="#pumpstream" aria-hidden="true" class="header-anchor">#</a> PumpStream</h2> <p><code>GuzzleHttp\Psr7\PumpStream</code></p> <p>Provides a read only stream that pumps data from a PHP callable.</p> <p>When invoking the provided callable, the PumpStream will pass the amount of
data requested to read to the callable. The callable can choose to ignore
this value and return fewer or more bytes than requested. Any extra data
returned by the provided callable is buffered internally until drained using
the read() function of the PumpStream. The provided callable MUST return
false when there is no more data to read.</p> <h2 id="implementing-stream-decorators"><a href="#implementing-stream-decorators" aria-hidden="true" class="header-anchor">#</a> Implementing stream decorators</h2> <p>Creating a stream decorator is very easy thanks to the
<code>GuzzleHttp\Psr7\StreamDecoratorTrait</code>. This trait provides methods that
implement <code>Psr\Http\Message\StreamInterface</code> by proxying to an underlying
stream. Just <code>use</code> the <code>StreamDecoratorTrait</code> and implement your custom
methods.</p> <p>For example, let's say we wanted to call a specific function each time the last
byte is read from a stream. This could be implemented by overriding the
<code>read()</code> method.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Message<span class="token punctuation">\</span>StreamInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">GuzzleHttp<span class="token punctuation">\</span>Psr7<span class="token punctuation">\</span>StreamDecoratorTrait</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">EofCallbackStream</span> <span class="token keyword">implements</span> <span class="token class-name">StreamInterface</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">StreamDecoratorTrait</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token variable">$callback</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span>StreamInterface <span class="token variable">$stream</span><span class="token punctuation">,</span> callable <span class="token variable">$cb</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">stream</span> <span class="token operator">=</span> <span class="token variable">$stream</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">callback</span> <span class="token operator">=</span> <span class="token variable">$cb</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token variable">$length</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">stream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token variable">$length</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Invoke the callback when EOF is hit.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">eof</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">call_user_func</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token variable">$result</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This decorator could be added to any existing stream and used like so:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">GuzzleHttp<span class="token punctuation">\</span>Psr7</span><span class="token punctuation">;</span>

<span class="token variable">$original</span> <span class="token operator">=</span> Psr7\<span class="token package">stream_for</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$eofStream</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EofCallbackStream</span><span class="token punctuation">(</span><span class="token variable">$original</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token single-quoted-string string">'EOF!'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$eofStream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$eofStream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// echoes &quot;EOF!&quot;</span>
<span class="token variable">$eofStream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">seek</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$eofStream</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// echoes &quot;EOF!&quot;</span>
</code></pre></div><h2 id="php-streamwrapper"><a href="#php-streamwrapper" aria-hidden="true" class="header-anchor">#</a> PHP StreamWrapper</h2> <p>You can use the <code>GuzzleHttp\Psr7\StreamWrapper</code> class if you need to use a
PSR-7 stream as a PHP stream resource.</p> <p>Use the <code>GuzzleHttp\Psr7\StreamWrapper::getResource()</code> method to create a PHP
stream from a PSR-7 stream.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">GuzzleHttp<span class="token punctuation">\</span>Psr7<span class="token punctuation">\</span>StreamWrapper</span><span class="token punctuation">;</span>

<span class="token variable">$stream</span> <span class="token operator">=</span> GuzzleHttp\<span class="token package">Psr7<span class="token punctuation">\</span>stream_for</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hello!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$resource</span> <span class="token operator">=</span> StreamWrapper<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token variable">$stream</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">fread</span><span class="token punctuation">(</span><span class="token variable">$resource</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// outputs hello!</span>
</code></pre></div><h1 id="function-api"><a href="#function-api" aria-hidden="true" class="header-anchor">#</a> Function API</h1> <p>There are various functions available under the <code>GuzzleHttp\Psr7</code> namespace.</p> <h2 id="function-str"><a href="#function-str" aria-hidden="true" class="header-anchor">#</a> <code>function str</code></h2> <p><code>function str(MessageInterface $message)</code></p> <p>Returns the string representation of an HTTP message.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$request</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GuzzleHttp<span class="token punctuation">\</span>Psr7<span class="token punctuation">\</span>Request</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'GET'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'http://example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> GuzzleHttp\<span class="token package">Psr7<span class="token punctuation">\</span>str</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="function-uri-for"><a href="#function-uri-for" aria-hidden="true" class="header-anchor">#</a> <code>function uri_for</code></h2> <p><code>function uri_for($uri)</code></p> <p>This function accepts a string or <code>Psr\Http\Message\UriInterface</code> and returns a
UriInterface for the given value. If the value is already a <code>UriInterface</code>, it
is returned as-is.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$uri</span> <span class="token operator">=</span> GuzzleHttp\<span class="token package">Psr7<span class="token punctuation">\</span>uri_for</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'http://example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assert</span><span class="token punctuation">(</span><span class="token variable">$uri</span> <span class="token operator">===</span> GuzzleHttp\<span class="token package">Psr7<span class="token punctuation">\</span>uri_for</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="function-stream-for"><a href="#function-stream-for" aria-hidden="true" class="header-anchor">#</a> <code>function stream_for</code></h2> <p><code>function stream_for($resource = '', array $options = [])</code></p> <p>Create a new stream based on the input type.</p> <p>Options is an associative array that can contain the following keys:</p> <ul><li><ul><li>metadata: Array of custom metadata.</li></ul></li> <li><ul><li>size: Size of the stream.</li></ul></li></ul> <p>This method accepts the following <code>$resource</code> types:</p> <ul><li><code>Psr\Http\Message\StreamInterface</code>: Returns the value as-is.</li> <li><code>string</code>: Creates a stream object that uses the given string as the contents.</li> <li><code>resource</code>: Creates a stream object that wraps the given PHP stream resource.</li> <li><code>Iterator</code>: If the provided value implements <code>Iterator</code>, then a read-only
stream object will be created that wraps the given iterable. Each time the
stream is read from, data from the iterator will fill a buffer and will be
continuously called until the buffer is equal to the requested read size.
Subsequent read calls will first read from the buffer and then call <code>next</code>
on the underlying iterator until it is exhausted.</li> <li><code>object</code> with <code>__toString()</code>: If the object has the <code>__toString()</code> method,
the object will be cast to a string and then a stream will be returned that
uses the string value.</li> <li><code>NULL</code>: When <code>null</code> is passed, an empty stream object is returned.</li> <li><code>callable</code> When a callable is passed, a read-only stream object will be
created that invokes the given callable. The callable is invoked with the
number of suggested bytes to read. The callable can return any number of
bytes, but MUST return <code>false</code> when there is no more data to return. The
stream object that wraps the callable will invoke the callable until the
number of requested bytes are available. Any additional bytes will be
buffered and used in subsequent reads.</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$stream</span> <span class="token operator">=</span> GuzzleHttp\<span class="token package">Psr7<span class="token punctuation">\</span>stream_for</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$stream</span> <span class="token operator">=</span> GuzzleHttp\<span class="token package">Psr7<span class="token punctuation">\</span>stream_for</span><span class="token punctuation">(</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/path/to/file'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$generator</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$bytes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token variable">$bytes</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">yield</span> <span class="token single-quoted-string string">' '</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$stream</span> <span class="token operator">=</span> GuzzleHttp\<span class="token package">Psr7<span class="token punctuation">\</span>stream_for</span><span class="token punctuation">(</span><span class="token variable">$generator</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="function-parse-header"><a href="#function-parse-header" aria-hidden="true" class="header-anchor">#</a> <code>function parse_header</code></h2> <p><code>function parse_header($header)</code></p> <p>Parse an array of header values containing &quot;;&quot; separated data into an array of
associative arrays representing the header key value pair data of the header.
When a parameter does not contain a value, but just contains a key, this
function will inject a key with a '' string value.</p> <h2 id="function-normalize-header"><a href="#function-normalize-header" aria-hidden="true" class="header-anchor">#</a> <code>function normalize_header</code></h2> <p><code>function normalize_header($header)</code></p> <p>Converts an array of header values that may contain comma separated headers
into an array of headers with no comma separated values.</p> <h2 id="function-modify-request"><a href="#function-modify-request" aria-hidden="true" class="header-anchor">#</a> <code>function modify_request</code></h2> <p><code>function modify_request(RequestInterface $request, array $changes)</code></p> <p>Clone and modify a request with the given changes. This method is useful for
reducing the number of clones needed to mutate a message.</p> <p>The changes can be one of:</p> <ul><li>method: (string) Changes the HTTP method.</li> <li>set_headers: (array) Sets the given headers.</li> <li>remove_headers: (array) Remove the given headers.</li> <li>body: (mixed) Sets the given body.</li> <li>uri: (UriInterface) Set the URI.</li> <li>query: (string) Set the query string value of the URI.</li> <li>version: (string) Set the protocol version.</li></ul> <h2 id="function-rewind-body"><a href="#function-rewind-body" aria-hidden="true" class="header-anchor">#</a> <code>function rewind_body</code></h2> <p><code>function rewind_body(MessageInterface $message)</code></p> <p>Attempts to rewind a message body and throws an exception on failure. The body
of the message will only be rewound if a call to <code>tell()</code> returns a value other
than <code>0</code>.</p> <h2 id="function-try-fopen"><a href="#function-try-fopen" aria-hidden="true" class="header-anchor">#</a> <code>function try_fopen</code></h2> <p><code>function try_fopen($filename, $mode)</code></p> <p>Safely opens a PHP stream resource using a filename.</p> <p>When fopen fails, PHP normally raises a warning. This function adds an error
handler that checks for errors and throws an exception instead.</p> <h2 id="function-copy-to-string"><a href="#function-copy-to-string" aria-hidden="true" class="header-anchor">#</a> <code>function copy_to_string</code></h2> <p><code>function copy_to_string(StreamInterface $stream, $maxLen = -1)</code></p> <p>Copy the contents of a stream into a string until the given number of bytes
have been read.</p> <h2 id="function-copy-to-stream"><a href="#function-copy-to-stream" aria-hidden="true" class="header-anchor">#</a> <code>function copy_to_stream</code></h2> <p><code>function copy_to_stream(StreamInterface $source, StreamInterface $dest, $maxLen = -1)</code></p> <p>Copy the contents of a stream into another stream until the given number of
bytes have been read.</p> <h2 id="function-hash"><a href="#function-hash" aria-hidden="true" class="header-anchor">#</a> <code>function hash</code></h2> <p><code>function hash(StreamInterface $stream, $algo, $rawOutput = false)</code></p> <p>Calculate a hash of a Stream. This method reads the entire stream to calculate
a rolling hash (based on PHP's hash_init functions).</p> <h2 id="function-readline"><a href="#function-readline" aria-hidden="true" class="header-anchor">#</a> <code>function readline</code></h2> <p><code>function readline(StreamInterface $stream, $maxLength = null)</code></p> <p>Read a line from the stream up to the maximum allowed buffer length.</p> <h2 id="function-parse-request"><a href="#function-parse-request" aria-hidden="true" class="header-anchor">#</a> <code>function parse_request</code></h2> <p><code>function parse_request($message)</code></p> <p>Parses a request message string into a request object.</p> <h2 id="function-parse-response"><a href="#function-parse-response" aria-hidden="true" class="header-anchor">#</a> <code>function parse_response</code></h2> <p><code>function parse_response($message)</code></p> <p>Parses a response message string into a response object.</p> <h2 id="function-parse-query"><a href="#function-parse-query" aria-hidden="true" class="header-anchor">#</a> <code>function parse_query</code></h2> <p><code>function parse_query($str, $urlEncoding = true)</code></p> <p>Parse a query string into an associative array.</p> <p>If multiple values are found for the same key, the value of that key value pair
will become an array. This function does not parse nested PHP style arrays into
an associative array (e.g., <code>foo[a]=1&amp;foo[b]=2</code> will be parsed into
<code>['foo[a]' =&gt; '1', 'foo[b]' =&gt; '2']</code>).</p> <h2 id="function-build-query"><a href="#function-build-query" aria-hidden="true" class="header-anchor">#</a> <code>function build_query</code></h2> <p><code>function build_query(array $params, $encoding = PHP_QUERY_RFC3986)</code></p> <p>Build a query string from an array of key value pairs.</p> <p>This function can use the return value of parse_query() to build a query string.
This function does not modify the provided keys when an array is encountered
(like http_build_query would).</p> <h2 id="function-mimetype-from-filename"><a href="#function-mimetype-from-filename" aria-hidden="true" class="header-anchor">#</a> <code>function mimetype_from_filename</code></h2> <p><code>function mimetype_from_filename($filename)</code></p> <p>Determines the mimetype of a file by looking at its extension.</p> <h2 id="function-mimetype-from-extension"><a href="#function-mimetype-from-extension" aria-hidden="true" class="header-anchor">#</a> <code>function mimetype_from_extension</code></h2> <p><code>function mimetype_from_extension($extension)</code></p> <p>Maps a file extensions to a mimetype.</p> <h1 id="additional-uri-methods"><a href="#additional-uri-methods" aria-hidden="true" class="header-anchor">#</a> Additional URI Methods</h1> <p>Aside from the standard <code>Psr\Http\Message\UriInterface</code> implementation in form of the <code>GuzzleHttp\Psr7\Uri</code> class,
this library also provides additional functionality when working with URIs as static methods.</p> <h2 id="uri-types"><a href="#uri-types" aria-hidden="true" class="header-anchor">#</a> URI Types</h2> <p>An instance of <code>Psr\Http\Message\UriInterface</code> can either be an absolute URI or a relative reference.
An absolute URI has a scheme. A relative reference is used to express a URI relative to another URI,
the base URI. Relative references can be divided into several forms according to
<a href="https://tools.ietf.org/html/rfc3986#section-4.2" target="_blank" rel="noopener noreferrer">RFC 3986 Section 4.2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <ul><li>network-path references, e.g. <code>//example.com/path</code></li> <li>absolute-path references, e.g. <code>/path</code></li> <li>relative-path references, e.g. <code>subpath</code></li></ul> <p>The following methods can be used to identify the type of the URI.</p> <h3 id="guzzlehttp-psr7-uri-isabsolute"><a href="#guzzlehttp-psr7-uri-isabsolute" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\Uri::isAbsolute</code></h3> <p><code>public static function isAbsolute(UriInterface $uri): bool</code></p> <p>Whether the URI is absolute, i.e. it has a scheme.</p> <h3 id="guzzlehttp-psr7-uri-isnetworkpathreference"><a href="#guzzlehttp-psr7-uri-isnetworkpathreference" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\Uri::isNetworkPathReference</code></h3> <p><code>public static function isNetworkPathReference(UriInterface $uri): bool</code></p> <p>Whether the URI is a network-path reference. A relative reference that begins with two slash characters is
termed an network-path reference.</p> <h3 id="guzzlehttp-psr7-uri-isabsolutepathreference"><a href="#guzzlehttp-psr7-uri-isabsolutepathreference" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\Uri::isAbsolutePathReference</code></h3> <p><code>public static function isAbsolutePathReference(UriInterface $uri): bool</code></p> <p>Whether the URI is a absolute-path reference. A relative reference that begins with a single slash character is
termed an absolute-path reference.</p> <h3 id="guzzlehttp-psr7-uri-isrelativepathreference"><a href="#guzzlehttp-psr7-uri-isrelativepathreference" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\Uri::isRelativePathReference</code></h3> <p><code>public static function isRelativePathReference(UriInterface $uri): bool</code></p> <p>Whether the URI is a relative-path reference. A relative reference that does not begin with a slash character is
termed a relative-path reference.</p> <h3 id="guzzlehttp-psr7-uri-issamedocumentreference"><a href="#guzzlehttp-psr7-uri-issamedocumentreference" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\Uri::isSameDocumentReference</code></h3> <p><code>public static function isSameDocumentReference(UriInterface $uri, UriInterface $base = null): bool</code></p> <p>Whether the URI is a same-document reference. A same-document reference refers to a URI that is, aside from its
fragment component, identical to the base URI. When no base URI is given, only an empty URI reference
(apart from its fragment) is considered a same-document reference.</p> <h2 id="uri-components"><a href="#uri-components" aria-hidden="true" class="header-anchor">#</a> URI Components</h2> <p>Additional methods to work with URI components.</p> <h3 id="guzzlehttp-psr7-uri-isdefaultport"><a href="#guzzlehttp-psr7-uri-isdefaultport" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\Uri::isDefaultPort</code></h3> <p><code>public static function isDefaultPort(UriInterface $uri): bool</code></p> <p>Whether the URI has the default port of the current scheme. <code>Psr\Http\Message\UriInterface::getPort</code> may return null
or the standard port. This method can be used independently of the implementation.</p> <h3 id="guzzlehttp-psr7-uri-composecomponents"><a href="#guzzlehttp-psr7-uri-composecomponents" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\Uri::composeComponents</code></h3> <p><code>public static function composeComponents($scheme, $authority, $path, $query, $fragment): string</code></p> <p>Composes a URI reference string from its various components according to
<a href="https://tools.ietf.org/html/rfc3986#section-5.3" target="_blank" rel="noopener noreferrer">RFC 3986 Section 5.3<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Usually this method does not need to be called
manually but instead is used indirectly via <code>Psr\Http\Message\UriInterface::__toString</code>.</p> <h3 id="guzzlehttp-psr7-uri-fromparts"><a href="#guzzlehttp-psr7-uri-fromparts" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\Uri::fromParts</code></h3> <p><code>public static function fromParts(array $parts): UriInterface</code></p> <p>Creates a URI from a hash of <a href="http://php.net/manual/en/function.parse-url.php" target="_blank" rel="noopener noreferrer"><code>parse_url</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> components.</p> <h3 id="guzzlehttp-psr7-uri-withqueryvalue"><a href="#guzzlehttp-psr7-uri-withqueryvalue" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\Uri::withQueryValue</code></h3> <p><code>public static function withQueryValue(UriInterface $uri, $key, $value): UriInterface</code></p> <p>Creates a new URI with a specific query string value. Any existing query string values that exactly match the
provided key are removed and replaced with the given key value pair. A value of null will set the query string
key without a value, e.g. &quot;key&quot; instead of &quot;key=value&quot;.</p> <h3 id="guzzlehttp-psr7-uri-withoutqueryvalue"><a href="#guzzlehttp-psr7-uri-withoutqueryvalue" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\Uri::withoutQueryValue</code></h3> <p><code>public static function withoutQueryValue(UriInterface $uri, $key): UriInterface</code></p> <p>Creates a new URI with a specific query string value removed. Any existing query string values that exactly match the
provided key are removed.</p> <h2 id="reference-resolution"><a href="#reference-resolution" aria-hidden="true" class="header-anchor">#</a> Reference Resolution</h2> <p><code>GuzzleHttp\Psr7\UriResolver</code> provides methods to resolve a URI reference in the context of a base URI according
to <a href="https://tools.ietf.org/html/rfc3986#section-5" target="_blank" rel="noopener noreferrer">RFC 3986 Section 5<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This is for example also what web browsers
do when resolving a link in a website based on the current request URI.</p> <h3 id="guzzlehttp-psr7-uriresolver-resolve"><a href="#guzzlehttp-psr7-uriresolver-resolve" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\UriResolver::resolve</code></h3> <p><code>public static function resolve(UriInterface $base, UriInterface $rel): UriInterface</code></p> <p>Converts the relative URI into a new URI that is resolved against the base URI.</p> <h3 id="guzzlehttp-psr7-uriresolver-removedotsegments"><a href="#guzzlehttp-psr7-uriresolver-removedotsegments" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\UriResolver::removeDotSegments</code></h3> <p><code>public static function removeDotSegments(string $path): string</code></p> <p>Removes dot segments from a path and returns the new path according to
<a href="https://tools.ietf.org/html/rfc3986#section-5.2.4" target="_blank" rel="noopener noreferrer">RFC 3986 Section 5.2.4<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="guzzlehttp-psr7-uriresolver-relativize"><a href="#guzzlehttp-psr7-uriresolver-relativize" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\UriResolver::relativize</code></h3> <p><code>public static function relativize(UriInterface $base, UriInterface $target): UriInterface</code></p> <p>Returns the target URI as a relative reference from the base URI. This method is the counterpart to resolve():</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token variable">$target</span> <span class="token operator">===</span> <span class="token punctuation">(</span>string<span class="token punctuation">)</span> UriResolver<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token variable">$base</span><span class="token punctuation">,</span> UriResolver<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">relativize</span><span class="token punctuation">(</span><span class="token variable">$base</span><span class="token punctuation">,</span> <span class="token variable">$target</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>One use-case is to use the current request URI as base URI and then generate relative links in your documents
to reduce the document size or offer self-contained downloadable document archives.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$base</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uri</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'http://example.com/a/b/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> UriResolver<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">relativize</span><span class="token punctuation">(</span><span class="token variable">$base</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Uri</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'http://example.com/a/b/c'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// prints 'c'.</span>
<span class="token keyword">echo</span> UriResolver<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">relativize</span><span class="token punctuation">(</span><span class="token variable">$base</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Uri</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'http://example.com/a/x/y'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// prints '../x/y'.</span>
<span class="token keyword">echo</span> UriResolver<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">relativize</span><span class="token punctuation">(</span><span class="token variable">$base</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Uri</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'http://example.com/a/b/?q'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// prints '?q'.</span>
<span class="token keyword">echo</span> UriResolver<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">relativize</span><span class="token punctuation">(</span><span class="token variable">$base</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Uri</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'http://example.org/a/b/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// prints '//example.org/a/b/'.</span>
</code></pre></div><h2 id="normalization-and-comparison"><a href="#normalization-and-comparison" aria-hidden="true" class="header-anchor">#</a> Normalization and Comparison</h2> <p><code>GuzzleHttp\Psr7\UriNormalizer</code> provides methods to normalize and compare URIs according to
<a href="https://tools.ietf.org/html/rfc3986#section-6" target="_blank" rel="noopener noreferrer">RFC 3986 Section 6<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="guzzlehttp-psr7-urinormalizer-normalize"><a href="#guzzlehttp-psr7-urinormalizer-normalize" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\UriNormalizer::normalize</code></h3> <p><code>public static function normalize(UriInterface $uri, $flags = self::PRESERVING_NORMALIZATIONS): UriInterface</code></p> <p>Returns a normalized URI. The scheme and host component are already normalized to lowercase per PSR-7 UriInterface.
This methods adds additional normalizations that can be configured with the <code>$flags</code> parameter which is a bitmask
of normalizations to apply. The following normalizations are available:</p> <ul><li><p><code>UriNormalizer::PRESERVING_NORMALIZATIONS</code></p> <p>Default normalizations which only include the ones that preserve semantics.</p></li> <li><p><code>UriNormalizer::CAPITALIZE_PERCENT_ENCODING</code></p> <p>All letters within a percent-encoding triplet (e.g., &quot;%3A&quot;) are case-insensitive, and should be capitalized.</p> <p>Example: <code>http://example.org/a%c2%b1b</code> → <code>http://example.org/a%C2%B1b</code></p></li> <li><p><code>UriNormalizer::DECODE_UNRESERVED_CHARACTERS</code></p> <p>Decodes percent-encoded octets of unreserved characters. For consistency, percent-encoded octets in the ranges of
ALPHA (%41–%5A and %61–%7A), DIGIT (%30–%39), hyphen (%2D), period (%2E), underscore (%5F), or tilde (%7E) should
not be created by URI producers and, when found in a URI, should be decoded to their corresponding unreserved
characters by URI normalizers.</p> <p>Example: <code>http://example.org/%7Eusern%61me/</code> → <code>http://example.org/~username/</code></p></li> <li><p><code>UriNormalizer::CONVERT_EMPTY_PATH</code></p> <p>Converts the empty path to &quot;/&quot; for http and https URIs.</p> <p>Example: <code>http://example.org</code> → <code>http://example.org/</code></p></li> <li><p><code>UriNormalizer::REMOVE_DEFAULT_HOST</code></p> <p>Removes the default host of the given URI scheme from the URI. Only the &quot;file&quot; scheme defines the default host
&quot;localhost&quot;. All of <code>file:/myfile</code>, <code>file:///myfile</code>, and <code>file://localhost/myfile</code> are equivalent according to
RFC 3986.</p> <p>Example: <code>file://localhost/myfile</code> → <code>file:///myfile</code></p></li> <li><p><code>UriNormalizer::REMOVE_DEFAULT_PORT</code></p> <p>Removes the default port of the given URI scheme from the URI.</p> <p>Example: <code>http://example.org:80/</code> → <code>http://example.org/</code></p></li> <li><p><code>UriNormalizer::REMOVE_DOT_SEGMENTS</code></p> <p>Removes unnecessary dot-segments. Dot-segments in relative-path references are not removed as it would
change the semantics of the URI reference.</p> <p>Example: <code>http://example.org/../a/b/../c/./d.html</code> → <code>http://example.org/a/c/d.html</code></p></li> <li><p><code>UriNormalizer::REMOVE_DUPLICATE_SLASHES</code></p> <p>Paths which include two or more adjacent slashes are converted to one. Webservers usually ignore duplicate slashes
and treat those URIs equivalent. But in theory those URIs do not need to be equivalent. So this normalization
may change the semantics. Encoded slashes (%2F) are not removed.</p> <p>Example: <code>http://example.org//foo///bar.html</code> → <code>http://example.org/foo/bar.html</code></p></li> <li><p><code>UriNormalizer::SORT_QUERY_PARAMETERS</code></p> <p>Sort query parameters with their values in alphabetical order. However, the order of parameters in a URI may be
significant (this is not defined by the standard). So this normalization is not safe and may change the semantics
of the URI.</p> <p>Example: <code>?lang=en&amp;article=fred</code> → <code>?article=fred&amp;lang=en</code></p></li></ul> <h3 id="guzzlehttp-psr7-urinormalizer-isequivalent"><a href="#guzzlehttp-psr7-urinormalizer-isequivalent" aria-hidden="true" class="header-anchor">#</a> <code>GuzzleHttp\Psr7\UriNormalizer::isEquivalent</code></h3> <p><code>public static function isEquivalent(UriInterface $uri1, UriInterface $uri2, $normalizations = self::PRESERVING_NORMALIZATIONS): bool</code></p> <p>Whether two URIs can be considered equivalent. Both URIs are normalized automatically before comparison with the given
<code>$normalizations</code> bitmask. The method also accepts relative URI references and returns true when they are equivalent.
This of course assumes they will be resolved against the same base URI. If this is not the case, determination of
equivalence or difference of relative references does not mean anything.</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="Laputa/assets/js/49.ef4b9870.js" defer></script><script src="Laputa/assets/js/app.6f999ec1.js" defer></script>
  </body>
</html>
