(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{288:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._m(1),t._v(" "),a("a",{attrs:{href:"https://packagist.org/packages/predis/predis",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://img.shields.io/packagist/v/predis/predis.svg?style=flat-square",alt:"Latest stable"}}),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://packagist.org/packages/predis/predis",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://img.shields.io/packagist/vpre/predis/predis.svg?style=flat-square",alt:"Latest development"}}),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://packagist.org/packages/predis/predis/stats",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://img.shields.io/packagist/dm/predis/predis.svg?style=flat-square",alt:"Monthly installs"}}),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://travis-ci.org/nrk/predis",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://img.shields.io/travis/nrk/predis.svg?style=flat-square",alt:"Build status"}}),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"http://hhvm.h4cc.de/package/predis/predis",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://img.shields.io/hhvm/predis/predis.svg?style=flat-square",alt:"HHVM support"}}),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitter.im/nrk/predis",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://img.shields.io/gitter/room/nrk/predis.svg?style=flat-square",alt:"Gitter room"}}),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Flexible and feature-complete "),a("a",{attrs:{href:"http://redis.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redis"),a("OutboundLink")],1),t._v(" client for PHP >= 5.3 and HHVM >= 2.3.0.")]),t._v(" "),a("p",[t._v("Predis does not require any additional C extension by default, but it can be optionally paired with\n"),a("a",{attrs:{href:"https://github.com/nrk/phpiredis",target:"_blank",rel:"noopener noreferrer"}},[t._v("phpiredis"),a("OutboundLink")],1),t._v(" to lower the overhead of the serialization and parsing\nof the "),a("a",{attrs:{href:"http://redis.io/topics/protocol",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redis RESP Protocol"),a("OutboundLink")],1),t._v(". For an "),a("strong",[t._v("experimental")]),t._v(" asynchronous\nimplementation of the client you can refer to "),a("a",{attrs:{href:"https://github.com/nrk/predis-async",target:"_blank",rel:"noopener noreferrer"}},[t._v("Predis\\Async"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("More details about this project can be found on the "),a("router-link",{attrs:{to:"./FAQ.html"}},[t._v("frequently asked questions")]),t._v(".")],1),t._v(" "),t._m(2),t._v(" "),a("ul",[t._m(3),t._v(" "),a("li",[t._v("Support for clustering using client-side sharding and pluggable keyspace distributors.")]),t._v(" "),a("li",[t._v("Support for "),a("a",{attrs:{href:"http://redis.io/topics/cluster-tutorial",target:"_blank",rel:"noopener noreferrer"}},[t._v("redis-cluster"),a("OutboundLink")],1),t._v(" (Redis >= 3.0).")]),t._v(" "),a("li",[t._v("Support for master-slave replication setups and "),a("a",{attrs:{href:"http://redis.io/topics/sentinel",target:"_blank",rel:"noopener noreferrer"}},[t._v("redis-sentinel"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[t._v("Transparent key prefixing of keys using a customizable prefix strategy.")]),t._v(" "),a("li",[t._v("Command pipelining on both single nodes and clusters (client-side sharding only).")]),t._v(" "),a("li",[t._v("Abstraction for Redis transactions (Redis >= 2.0) and CAS operations (Redis >= 2.2).")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),a("li",[t._v("Connections are established lazily by the client upon the first command and can be persisted.")]),t._v(" "),a("li",[t._v("Connections can be established via TCP/IP (also TLS/SSL-encrypted) or UNIX domain sockets.")]),t._v(" "),a("li",[t._v("Support for "),a("a",{attrs:{href:"http://webd.is",target:"_blank",rel:"noopener noreferrer"}},[t._v("Webdis"),a("OutboundLink")],1),t._v(" (requires both "),a("code",[t._v("ext-curl")]),t._v(" and "),a("code",[t._v("ext-phpiredis")]),t._v(").")]),t._v(" "),a("li",[t._v("Support for custom connection classes for providing different network or protocol backends.")]),t._v(" "),a("li",[t._v("Flexible system for defining custom commands and profiles and override the default ones.")])]),t._v(" "),t._m(6),t._v(" "),a("p",[t._v("This library can be found on "),a("a",{attrs:{href:"http://packagist.org/packages/predis/predis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Packagist"),a("OutboundLink")],1),t._v(" for an easier\nmanagement of projects dependencies using "),a("a",{attrs:{href:"http://packagist.org/about-composer",target:"_blank",rel:"noopener noreferrer"}},[t._v("Composer"),a("OutboundLink")],1),t._v(" or on our\n"),a("a",{attrs:{href:"http://pear.nrk.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("own PEAR channel"),a("OutboundLink")],1),t._v(" for a more traditional installation using PEAR. Ultimately,\ncompressed archives of each release are "),a("a",{attrs:{href:"https://github.com/nrk/predis/tags",target:"_blank",rel:"noopener noreferrer"}},[t._v("available on GitHub"),a("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(7),t._v(" "),a("p",[t._v("Predis relies on the autoloading features of PHP to load its files when needed and complies with the\n"),a("a",{attrs:{href:"https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("PSR-4 standard"),a("OutboundLink")],1),t._v(".\nAutoloading is handled automatically when dependencies are managed through Composer, but it is also\npossible to leverage its own autoloader in projects or scripts lacking any autoload facility:")]),t._v(" "),t._m(8),a("p",[t._v("It is also possible to create a "),a("a",{attrs:{href:"http://www.php.net/manual/en/intro.phar.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("phar"),a("OutboundLink")],1),t._v(" archive directly\nfrom the repository by launching the "),a("code",[t._v("bin/create-phar")]),t._v(" script. The generated phar already contains a\nstub defining its own autoloader, so you just need to "),a("code",[t._v("require()")]),t._v(" it to start using the library.")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),a("p",[t._v("Connection parameters can be supplied either in the form of URI strings or named arrays. The latter\nis the preferred way to supply parameters, but URI strings can be useful when parameters are read\nfrom non-structured or partially-structured sources:")]),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),a("p",[t._v("The client can leverage TLS/SSL encryption to connect to secured remote Redis instances without the\nneed to configure an SSL proxy like stunnel. This can be useful when connecting to nodes running on\nvarious cloud hosting providers. Encryption can be enabled with using the "),a("code",[t._v("tls")]),t._v(" scheme and an array\nof suitable "),a("a",{attrs:{href:"http://php.net/manual/context.ssl.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("options"),a("OutboundLink")],1),t._v(" passed via the "),a("code",[t._v("ssl")]),t._v(" parameter:")]),t._v(" "),t._m(15),a("p",[t._v("The connection schemes "),a("a",{attrs:{href:"http://www.iana.org/assignments/uri-schemes/prov/redis",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("redis")]),a("OutboundLink")],1),t._v(" (alias of\n"),a("code",[t._v("tcp")]),t._v(") and "),a("a",{attrs:{href:"http://www.iana.org/assignments/uri-schemes/prov/rediss",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("rediss")]),a("OutboundLink")],1),t._v(" (alias of "),a("code",[t._v("tls")]),t._v(") are\nalso supported, with the difference that URI strings containing these schemes are parsed following\nthe rules described on their respective IANA provisional registration documents.")]),t._v(" "),a("p",[t._v("The actual list of supported connection parameters can vary depending on each connection backend so\nit is recommended to refer to their specific documentation or implementation for details.")]),t._v(" "),a("p",[t._v("When an array of connection parameters is provided, Predis automatically works in cluster mode using\nclient-side sharding. Both named arrays and URI strings can be mixed when providing configurations\nfor each node:")]),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),a("p",[t._v("Options are managed using a mini DI-alike container and their values can be lazily initialized only\nwhen needed. The client options supported by default in Predis are:")]),t._v(" "),t._m(22),t._v(" "),a("p",[t._v("Users can also provide custom options with values or callable objects (for lazy initialization) that\nare stored in the options container for later use through the library.")]),t._v(" "),t._m(23),t._v(" "),a("p",[t._v("Aggregate connections are the foundation upon which Predis implements clustering and replication and\nthey are used to group multiple connections to single Redis nodes and hide the specific logic needed\nto handle them properly depending on the context. Aggregate connections usually require an array of\nconnection parameters when creating a new client instance.")]),t._v(" "),t._m(24),t._v(" "),a("p",[t._v("By default, when no specific client options are set and an array of connection parameters is passed\nto the client's constructor, Predis configures itself to work in clustering mode using a traditional\nclient-side sharding approach to create a cluster of independent nodes and distribute the keyspace\namong them. This approach needs some form of external health monitoring of nodes and requires manual\noperations to rebalance the keyspace when changing its configuration by adding or removing nodes:")]),t._v(" "),t._m(25),a("p",[t._v("Along with Redis 3.0, a new supervised and coordinated type of clustering was introduced in the form\nof "),a("a",{attrs:{href:"http://redis.io/topics/cluster-tutorial",target:"_blank",rel:"noopener noreferrer"}},[t._v("redis-cluster"),a("OutboundLink")],1),t._v(". This kind of approach uses a different\nalgorithm to distribute the keyspaces, with Redis nodes coordinating themselves by communicating via\na gossip protocol to handle health status, rebalancing, nodes discovery and request redirection. In\norder to connect to a cluster managed by redis-cluster, the client requires a list of its nodes (not\nnecessarily complete since it will automatically discover new nodes if necessary) and the "),a("code",[t._v("cluster")]),t._v("\nclient options set to "),a("code",[t._v("redis")]),t._v(":")]),t._v(" "),t._m(26),t._m(27),t._v(" "),a("p",[t._v("The client can be configured to operate in a single master / multiple slaves setup to provide better\nservice availability. When using replication, Predis recognizes read-only commands and sends them to\na random slave in order to provide some sort of load-balancing and switches to the master as soon as\nit detects a command that performs any kind of operation that would end up modifying the keyspace or\nthe value of a key. Instead of raising a connection error when a slave fails, the client attempts to\nfall back to a different slave among the ones provided in the configuration.")]),t._v(" "),t._m(28),t._v(" "),t._m(29),a("p",[t._v("The above configuration has a static list of servers and relies entirely on the client's logic, but\nit is possible to rely on "),a("a",{attrs:{href:"http://redis.io/topics/sentinel",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("redis-sentinel")]),a("OutboundLink")],1),t._v(" for a more robust HA\nenvironment with sentinel servers acting as a source of authority for clients for service discovery.\nThe minimum configuration required by the client to work with redis-sentinel is a list of connection\nparameters pointing to a bunch of sentinel instances, the "),a("code",[t._v("replication")]),t._v(" option set to "),a("code",[t._v("sentinel")]),t._v(" and\nthe "),a("code",[t._v("service")]),t._v(" option set to the name of the service:")]),t._v(" "),t._m(30),t._m(31),t._v(" "),t._m(32),t._m(33),t._v(" "),t._m(34),a("p",[t._v("The "),a("router-link",{attrs:{to:"./examples/"}},[a("code",[t._v("examples")])]),t._v(" directory contains a few scripts that demonstrate how the client can be\nconfigured and used to leverage replication in both basic and complex scenarios.")],1),t._v(" "),t._m(35),t._v(" "),a("p",[t._v("Pipelining can help with performances when many commands need to be sent to a server by reducing the\nlatency introduced by network round-trip timings. Pipelining also works with aggregate connections.\nThe client can execute the pipeline inside a callable block or return a pipeline instance with the\nability to chain commands thanks to its fluent interface:")]),t._v(" "),t._m(36),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._m(40),t._v(" "),t._m(41),t._v(" "),a("p",[t._v("While we try to update Predis to stay up to date with all the commands available in Redis, you might\nprefer to stick with an old version of the library or provide a different way to filter arguments or\nparse responses for specific commands. To achieve that, Predis provides the ability to implement new\ncommand classes to define or override commands in the default server profiles used by the client:")]),t._v(" "),t._m(42),a("p",[t._v("There is also a method to send raw commands without filtering their arguments or parsing responses.\nUsers must provide the list of arguments for the command as an array, following the signatures as\ndefined by the "),a("a",{attrs:{href:"http://redis.io/commands",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redis documentation for commands"),a("OutboundLink")],1),t._v(":")]),t._v(" "),t._m(43),t._m(44),t._v(" "),a("p",[t._v("While it is possible to leverage "),a("a",{attrs:{href:"http://redis.io/commands/eval",target:"_blank",rel:"noopener noreferrer"}},[t._v("Lua scripting"),a("OutboundLink")],1),t._v(" on Redis 2.6+ using\ndirectly "),a("a",{attrs:{href:"http://redis.io/commands/eval",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("EVAL")]),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"http://redis.io/commands/evalsha",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("EVALSHA")]),a("OutboundLink")],1),t._v(",\nPredis offers script commands as an higher level abstraction built upon them to make things simple.\nScript commands can be registered in the server profile used by the client and are accessible as if\nthey were plain Redis commands, but they define Lua scripts that get transmitted to the server for\nremote execution. Internally they use "),a("a",{attrs:{href:"http://redis.io/commands/evalsha",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("EVALSHA")]),a("OutboundLink")],1),t._v(" by default and\nidentify a script by its SHA1 hash to save bandwidth, but "),a("a",{attrs:{href:"http://redis.io/commands/eval",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("EVAL")]),a("OutboundLink")],1),t._v("\nis used as a fall back when needed:")]),t._v(" "),t._m(45),t._m(46),t._v(" "),a("p",[t._v("Predis can use different connection backends to connect to Redis. Two of them leverage a third party\nextension such as "),a("a",{attrs:{href:"https://github.com/nrk/phpiredis",target:"_blank",rel:"noopener noreferrer"}},[t._v("phpiredis"),a("OutboundLink")],1),t._v(" resulting in major performance gains\nespecially when dealing with big multibulk responses. While one is based on PHP streams, the other\nis based on socket resources provided by "),a("code",[t._v("ext-socket")]),t._v(". Both support TCP/IP and UNIX domain sockets:")]),t._v(" "),t._m(47),t._m(48),t._v(" "),t._m(49),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),a("p",[t._v("Contributions to Predis are highly appreciated either in the form of pull requests for new features,\nbug fixes, or just bug reports. We only ask you to adhere to a "),a("router-link",{attrs:{to:"./CONTRIBUTING.html"}},[t._v("basic set of rules")]),t._v("\nbefore submitting your changes or filing bugs on the issue tracker to make it easier for everyone to\nstay consistent while working on the project.")],1),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),a("p",[t._v("Predis has a comprehensive test suite covering every aspect of the library. This test suite performs\nintegration tests against a running instance of Redis (>= 2.4.0 is required) to verify the correct\nbehavior of the implementation of each command and automatically skips commands not defined in the\nspecified Redis profile. If you do not have Redis up and running, integration tests can be disabled.\nBy default the test suite is configured to execute integration tests using the profile for Redis 3.2\n(which is the current stable version of Redis) but can optionally target a Redis instance built from\nthe "),a("code",[t._v("unstable")]),t._v(" branch by modifying "),a("code",[t._v("phpunit.xml")]),t._v(" and setting "),a("code",[t._v("REDIS_SERVER_VERSION")]),t._v(" to "),a("code",[t._v("dev")]),t._v(" so that\nthe development server profile will be used. You can refer to "),a("router-link",{attrs:{to:"./tests/"}},[t._v("the tests README")]),t._v("\nfor more detailed information about testing Predis.")],1),t._v(" "),a("p",[t._v("Predis uses Travis CI for continuous integration and the history for past and current builds can be\nfound "),a("a",{attrs:{href:"http://travis-ci.org/nrk/predis",target:"_blank",rel:"noopener noreferrer"}},[t._v("on its project page"),a("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/nrk/predis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Source code"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://wiki.github.com/nrk/predis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Wiki"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/nrk/predis/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("Issue tracker"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://pear.nrk.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("PEAR channel"),a("OutboundLink")],1)])]),t._v(" "),t._m(57),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"mailto:suppakilla@gmail.com"}},[t._v("Daniele Alessandri")]),t._v(" ("),a("a",{attrs:{href:"http://twitter.com/JoL1hAHN",target:"_blank",rel:"noopener noreferrer"}},[t._v("twitter"),a("OutboundLink")],1),t._v(")")])]),t._v(" "),t._m(58),t._v(" "),t._m(59)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"predis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#predis","aria-hidden":"true"}},[this._v("#")]),this._v(" Predis")])},function(){var t=this.$createElement,s=this._self._c||t;return s("a",{attrs:{href:"LICENSE"}},[s("img",{attrs:{src:"https://img.shields.io/github/license/nrk/predis.svg?style=flat-square",alt:"Software license"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"main-features"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#main-features","aria-hidden":"true"}},[this._v("#")]),this._v(" Main features")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("Support for different versions of Redis (from "),s("strong",[this._v("2.0")]),this._v(" to "),s("strong",[this._v("3.2")]),this._v(") using profiles.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("Abstraction for Lua scripting (Redis >= 2.6) and automatic switching between "),s("code",[this._v("EVALSHA")]),this._v(" or "),s("code",[this._v("EVAL")]),this._v(".")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",[t._v("Abstraction for "),a("code",[t._v("SCAN")]),t._v(", "),a("code",[t._v("SSCAN")]),t._v(", "),a("code",[t._v("ZSCAN")]),t._v(" and "),a("code",[t._v("HSCAN")]),t._v(" (Redis >= 2.8) based on PHP iterators.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"how-to-install-and-use-predis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-install-and-use-predis","aria-hidden":"true"}},[this._v("#")]),this._v(" How to "),s("em",[this._v("install")]),this._v(" and use Predis")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"loading-the-library"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loading-the-library","aria-hidden":"true"}},[this._v("#")]),this._v(" Loading the library")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v('// Prepend a base path if Predis is not available in your "include_path".')]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("require")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'Predis/Autoloader.php'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nPredis\\"),a("span",{attrs:{class:"token package"}},[t._v("Autoloader")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("register")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"connecting-to-redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#connecting-to-redis","aria-hidden":"true"}},[this._v("#")]),this._v(" Connecting to Redis")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("When creating a client instance without passing any connection parameter, Predis assumes "),s("code",[this._v("127.0.0.1")]),this._v("\nand "),s("code",[this._v("6379")]),this._v(" as default host and port. The default timeout for the "),s("code",[this._v("connect()")]),this._v(" operation is 5 seconds:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$value")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// Parameters passed using a named array:")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'scheme'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'host'")]),t._v("   "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'10.0.0.1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'port'")]),t._v("   "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("6379")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Same set of parameters, passed using an URI string:")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.1:6379'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("It is also possible to connect to local instances of Redis using UNIX domain sockets, in this case\nthe parameters must use the "),s("code",[this._v("unix")]),this._v(" scheme and specify a path for the socket file:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'scheme'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'unix'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'path'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'/path/to/redis.sock'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'unix:/path/to/redis.sock'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// Named array of connection parameters:")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'scheme'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tls'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'ssl'")]),t._v("    "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'cafile'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'private.pem'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'verify_peer'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Same set of parameters, but using an URI string:")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tls://127.0.0.1?ssl[cafile]=private.pem&ssl[verify_peer]=1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.1?alias=first-node'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'host'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'10.0.0.2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'alias'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'second-node'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("See the "),s("a",{attrs:{href:"#aggregate-connections"}},[this._v("aggregate connections")]),this._v(" section of this document for more details.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Connections to Redis are lazy meaning that the client connects to a server only if and when needed.\nWhile it is recommended to let the client do its own stuff under the hood, there may be times when\nit is still desired to have control of when the connection is opened or closed: this can easily be\nachieved by invoking "),s("code",[this._v("$client->connect()")]),this._v(" and "),s("code",[this._v("$client->disconnect()")]),this._v(". Please note that the effect\nof these methods on aggregate connections may differ depending on each specific implementation.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"client-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#client-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Client configuration")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Many aspects and behaviors of the client can be configured by passing specific client options to the\nsecond argument of "),s("code",[this._v("Predis\\Client::__construct()")]),this._v(":")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$parameters")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'profile'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'2.8'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'prefix'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'sample:'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("profile")]),t._v(": specifies the profile to use to match a specific version of Redis.")]),t._v(" "),a("li",[a("code",[t._v("prefix")]),t._v(": prefix string automatically applied to keys found in commands.")]),t._v(" "),a("li",[a("code",[t._v("exceptions")]),t._v(": whether the client should throw or return responses upon Redis errors.")]),t._v(" "),a("li",[a("code",[t._v("connections")]),t._v(": list of connection backends or a connection factory instance.")]),t._v(" "),a("li",[a("code",[t._v("cluster")]),t._v(": specifies a cluster backend ("),a("code",[t._v("predis")]),t._v(", "),a("code",[t._v("redis")]),t._v(" or callable object).")]),t._v(" "),a("li",[a("code",[t._v("replication")]),t._v(": specifies a replication backend ("),a("code",[t._v("TRUE")]),t._v(", "),a("code",[t._v("sentinel")]),t._v(" or callable object).")]),t._v(" "),a("li",[a("code",[t._v("aggregate")]),t._v(": overrides "),a("code",[t._v("cluster")]),t._v(" and "),a("code",[t._v("replication")]),t._v(" to provide a custom connections aggregator.")]),t._v(" "),a("li",[a("code",[t._v("parameters")]),t._v(": list of default connection parameters for aggregate connections.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"aggregate-connections"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#aggregate-connections","aria-hidden":"true"}},[this._v("#")]),this._v(" Aggregate connections")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"cluster"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cluster","aria-hidden":"true"}},[this._v("#")]),this._v(" Cluster")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token variable"}},[t._v("$parameters")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.3'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$parameters")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token variable"}},[t._v("$parameters")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.3'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$options")]),t._v("    "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'cluster'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'redis'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$parameters")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$options")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"replication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#replication","aria-hidden":"true"}},[this._v("#")]),this._v(" Replication")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The basic configuration needed to use the client in replication mode requires one Redis server to be\nidentified as the master (this can be done via connection parameters using the "),s("code",[this._v("alias")]),this._v(" parameter set\nto "),s("code",[this._v("master")]),this._v(") and one or more servers acting as slaves:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token variable"}},[t._v("$parameters")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.1?alias=master'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.3'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$options")]),t._v("    "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'replication'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$parameters")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$options")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token variable"}},[t._v("$sentinels")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.3'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$options")]),t._v("   "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'replication'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'sentinel'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'service'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'mymaster'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$sentinels")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$options")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("If the master and slave nodes are configured to require an authentication from clients, a password\nmust be provided via the global "),s("code",[this._v("parameters")]),this._v(" client option. This option can also be used to specify\na different database index. The client options array would then look like this:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token variable"}},[t._v("$options")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'replication'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'sentinel'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'service'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'mymaster'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'parameters'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'password'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$secretpassword")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'database'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("10")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("While Predis is able to distinguish commands performing write and read-only operations, "),s("code",[this._v("EVAL")]),this._v(" and\n"),s("code",[this._v("EVALSHA")]),this._v(" represent a corner case in which the client switches to the master node because it cannot\ntell when a Lua script is safe to be executed on slaves. While this is indeed the default behavior,\nwhen certain Lua scripts do not perform write operations it is possible to provide an hint to tell\nthe client to stick with slaves for their execution:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token variable"}},[t._v("$parameters")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.1?alias=master'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://10.0.0.3'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$options")]),t._v("    "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'replication'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// Set scripts that won't trigger a switch from a slave to the master node.")]),t._v("\n    "),a("span",{attrs:{class:"token variable"}},[t._v("$strategy")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Replication"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ReplicationStrategy")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token variable"}},[t._v("$strategy")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("setScriptReadOnly")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$LUA_SCRIPT")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Connection"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Aggregate"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("MasterSlaveReplication")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$strategy")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$parameters")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$options")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("eval")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$LUA_SCRIPT")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("             "),a("span",{attrs:{class:"token comment"}},[t._v("// Sticks to slave using `eval`...")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("evalsha")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("sha1")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$LUA_SCRIPT")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),a("span",{attrs:{class:"token comment"}},[t._v("// ... and `evalsha`, too.")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"command-pipelines"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#command-pipelines","aria-hidden":"true"}},[this._v("#")]),this._v(" Command pipelines")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// Executes a pipeline inside the given callable block:")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$responses")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("pipeline")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$pipe")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$i")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$i")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1000")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$i")]),a("span",{attrs:{class:"token operator"}},[t._v("++")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token variable"}},[t._v("$pipe")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token double-quoted-string string"}},[t._v('"key:'),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token variable"}},[t._v("$i")])]),t._v('"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("str_pad")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$i")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("4")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'0'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token variable"}},[t._v("$pipe")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token double-quoted-string string"}},[t._v('"key:'),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token variable"}},[t._v("$i")])]),t._v('"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Returns a pipeline that can be chained thanks to its fluent interface:")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$responses")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("pipeline")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("execute")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"transactions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#transactions","aria-hidden":"true"}},[this._v("#")]),this._v(" Transactions")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The client provides an abstraction for Redis transactions based on "),s("code",[this._v("MULTI")]),this._v(" and "),s("code",[this._v("EXEC")]),this._v(" with a similar\ninterface to command pipelines:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// Executes a transaction inside the given callable block:")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$responses")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("transaction")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token variable"}},[t._v("$tx")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token variable"}},[t._v("$tx")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token variable"}},[t._v("$tx")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Returns a transaction that can be chained thanks to its fluent interface:")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$responses")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("transaction")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("execute")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("This abstraction can perform check-and-set operations thanks to "),a("code",[t._v("WATCH")]),t._v(" and "),a("code",[t._v("UNWATCH")]),t._v(" and provides\nautomatic retries of transactions aborted by Redis when "),a("code",[t._v("WATCH")]),t._v("ed keys are touched. For an example\nof a transaction using CAS you can see "),a("a",{attrs:{href:"examples/transaction_using_cas.php"}},[t._v("the following example")]),t._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"adding-new-commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adding-new-commands","aria-hidden":"true"}},[this._v("#")]),this._v(" Adding new commands")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// Define a new command by extending Predis\\Command\\Command:")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("BrandNewRedisCommand")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Command"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Command")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getId")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'NEWCMD'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Inject your command in the current profile:")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("getProfile")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("defineCommand")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'newcmd'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'BrandNewRedisCommand'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token variable"}},[t._v("$response")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("newcmd")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token variable"}},[t._v("$response")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("executeRaw")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'SET'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"script-commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#script-commands","aria-hidden":"true"}},[this._v("#")]),this._v(" Script commands")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// Define a new script command by extending Predis\\Command\\ScriptCommand:")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ListPushRandomValue")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Command"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ScriptCommand")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getKeysCount")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getScript")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token heredoc-string string"}},[a("span",{attrs:{class:"token delimiter symbol"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<<<")]),t._v("LUA")]),t._v("\nmath.randomseed(ARGV[1])\nlocal rnd = tostring(math.random())\nredis.call('lpush', KEYS[1], rnd)\nreturn rnd\n"),a("span",{attrs:{class:"token delimiter symbol"}},[t._v("LUA"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")])])]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Inject the script command in the current profile:")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("getProfile")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("defineCommand")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'lpushrand'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'ListPushRandomValue'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token variable"}},[t._v("$response")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token function"}},[t._v("lpushrand")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'random_values'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token variable"}},[t._v("$seed")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("mt_rand")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"customizable-connection-backends"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#customizable-connection-backends","aria-hidden":"true"}},[this._v("#")]),this._v(" Customizable connection backends")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://127.0.0.1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'connections'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp'")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'Predis\\Connection\\PhpiredisStreamConnection'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{attrs:{class:"token comment"}},[t._v("// PHP stream resources")]),t._v("\n        "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'unix'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'Predis\\Connection\\PhpiredisSocketConnection'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{attrs:{class:"token comment"}},[t._v("// ext-socket resources")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Developers can create their own connection classes to support whole new network backends, extend\nexisting classes or provide completely different implementations. Connection classes must implement\n"),s("code",[this._v("Predis\\Connection\\NodeConnectionInterface")]),this._v(" or extend "),s("code",[this._v("Predis\\Connection\\AbstractConnection")]),this._v(":")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("MyConnectionClass")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Connection"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("NodeConnectionInterface")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// Implementation goes here...")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Use MyConnectionClass to handle connections for the `tcp` scheme:")]),t._v("\n"),a("span",{attrs:{class:"token variable"}},[t._v("$client")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Predis"),a("span",{attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp://127.0.0.1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'connections'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'tcp'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token single-quoted-string string"}},[t._v("'MyConnectionClass'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("For a more in-depth insight on how to create new connection backends you can refer to the actual\nimplementation of the standard connection classes available in the "),s("code",[this._v("Predis\\Connection")]),this._v(" namespace.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"development"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#development","aria-hidden":"true"}},[this._v("#")]),this._v(" Development")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"reporting-bugs-and-contributing-code"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reporting-bugs-and-contributing-code","aria-hidden":"true"}},[this._v("#")]),this._v(" Reporting bugs and contributing code")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"test-suite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#test-suite","aria-hidden":"true"}},[this._v("#")]),this._v(" Test suite")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("ATTENTION")]),this._v(": Do not ever run the test suite shipped with Predis against instances of Redis running\nin production environments or containing data you are interested in!")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"other"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#other","aria-hidden":"true"}},[this._v("#")]),this._v(" Other")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"project-related-links"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#project-related-links","aria-hidden":"true"}},[this._v("#")]),this._v(" Project related links")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"author"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#author","aria-hidden":"true"}},[this._v("#")]),this._v(" Author")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"license"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#license","aria-hidden":"true"}},[this._v("#")]),this._v(" License")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The code for Predis is distributed under the terms of the MIT license (see "),s("a",{attrs:{href:"LICENSE"}},[this._v("LICENSE")]),this._v(").")])}],!1,null,null,null);s.default=e.exports}}]);