(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{173:function(t,e,_){"use strict";_.r(e);var v=_(0),i=Object(v.a)({},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("div",{staticClass:"content"},[t._m(0),t._v(" "),_("p",[_("a",{attrs:{href:"https://api.calibur.tv/app/template",target:"_blank",rel:"noopener noreferrer"}},[t._v("所有模板文件"),_("OutboundLink")],1)]),t._v(" "),_("p",[_("a",{attrs:{href:"https://api.calibur.tv/app/template?version=1",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1版模板文件"),_("OutboundLink")],1)]),t._v(" "),_("p",[_("a",{attrs:{href:"https://api.calibur.tv/app/template?version=1&page=notifications",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1版消息通知模板"),_("OutboundLink")],1)]),t._v(" "),_("p",[t._v("传参规律：")]),t._v(" "),t._m(1),t._v(" "),_("p",[t._v("使用方法：")]),t._v(" "),_("ol",[t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),_("li",[t._v("部分页面不需要 preload，所以没有 data 的插槽，这个时候也不需要去替换")]),t._v(" "),t._m(6),t._v(" "),_("li",[t._v("部分页面可能不需要展示标题，比如说消息通知页面，这个时候APP应该不展示 mustache 的标题")]),t._v(" "),t._m(7),t._v(" "),_("li",[t._v("设计师应该为APP提供一个统一的loading效果图，APP应该在需要 preload 的页面先展示原生的 loading 页面")]),t._v(" "),_("li",[t._v("以下 preload 的接口，详细参数请查看"),_("router-link",{attrs:{to:"/api/v1/"}},[t._v("接口文档")])],1),t._v(" "),_("li",[t._v("所有页面都要去替换 "+t._s(t.version)+" 为当前 APP 的版本号")]),t._v(" "),_("li",[t._v("所有页面都要去替换 "+t._s(t.name)+" 为当前系统的名称"),_("code",[t._v("ios")]),t._v("或"),_("code",[t._v("Android")]),t._v("（大小写不敏感）")])]),t._v(" "),_("p",[t._v("各个页面介绍:")]),t._v(" "),t._m(8)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"html-模板参数文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#html-模板参数文档","aria-hidden":"true"}},[this._v("#")]),this._v(" html 模板参数文档")])},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ol",[_("li",[_("code",[t._v("API")]),t._v("："),_("code",[t._v("https://api.calibur.tv/app/template")])]),t._v(" "),_("li",[_("code",[t._v("params")]),t._v(": 如果传了"),_("code",[t._v("version")]),t._v("，就发放指定版本的所有模板，如果传了"),_("code",[t._v("version")]),t._v("和"),_("code",[t._v("page")]),t._v("就显示当前页面当前版本的模板")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("模板文件只会有两个需要替换的地方："),e("code",[this._v("{ { { data } } }")]),this._v(" 和 "),e("code",[this._v("{ { token } }")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("token")]),this._v(" 指的是 JWT-AUTH-TOKEN，在网络请求的请求头里面有")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("data")]),this._v(" 是你在 preload 当前页面时要去调用的接口返回数据")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("所有页面都有"),e("code",[this._v("token")]),this._v("，需要去替换")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("模板提供了最基础的页面标题，如果这个页面是需要传"),e("code",[this._v("id")]),this._v("才能访问的，那么这个标题就应该由APP来复写")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("strong",[this._v("如果上面的逻辑导致代码书写太麻烦，那就可以修改，做到统一处理")])])},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ol",[_("li",[t._v("帖子详情页\n"),_("ol",[_("li",[_("strong",[t._v("page")]),t._v("：post")]),t._v(" "),_("li",[_("strong",[t._v("preload")]),t._v("："),_("code",[t._v("/post/${id}/show")])])])]),t._v(" "),_("li",[t._v("图片详情页\n"),_("ol",[_("li",[_("strong",[t._v("page")]),t._v("：image")]),t._v(" "),_("li",[_("strong",[t._v("preload")]),t._v("："),_("code",[t._v("/image/${id}/show")])]),t._v(" "),_("li",[t._v("Android 用这个模板替换相册页面，不替换漫画阅读器页面")])])]),t._v(" "),_("li",[t._v("漫评详情页\n"),_("ol",[_("li",[_("strong",[t._v("page")]),t._v("：review")]),t._v(" "),_("li",[_("strong",[t._v("preload")]),t._v("："),_("code",[t._v("/review/${id}/show")])])])]),t._v(" "),_("li",[t._v("消息通知页\n"),_("ol",[_("li",[_("strong",[t._v("page")]),t._v("：notification")]),t._v(" "),_("li",[_("strong",[t._v("preload")]),t._v("："),_("code",[t._v("/user/notification/list")])]),t._v(" "),_("li",[t._v("因为这个页面放在了主tab上，所以最好是APP进入后，网络不阻塞后去加载一次")])])]),t._v(" "),_("li",[t._v("我的收藏页\n"),_("ol",[_("li",[_("strong",[t._v("page")]),t._v("：bookmarks")]),t._v(" "),_("li",[_("strong",[t._v("preload")]),t._v("：无")])])]),t._v(" "),_("li",[t._v("公告页面\n"),_("ol",[_("li",[_("strong",[t._v("page")]),t._v("：notice")]),t._v(" "),_("li",[_("strong",[t._v("preload")]),t._v("：无")])])]),t._v(" "),_("li",[t._v("编辑器页面\n"),_("ol",[_("li",[_("strong",[t._v("page")]),t._v("：editor")]),t._v(" "),_("li",[_("strong",[t._v("preload")]),t._v("：这个版本先不加这个页面，之后再讨论")])])]),t._v(" "),_("li",[t._v("交易记录页\n"),_("ol",[_("li",[_("strong",[t._v("page")]),t._v("：transactions")]),t._v(" "),_("li",[_("strong",[t._v("preload")]),t._v("："),_("code",[t._v("/user/transactions")])])])])])}],!1,null,null,null);e.default=i.exports}}]);