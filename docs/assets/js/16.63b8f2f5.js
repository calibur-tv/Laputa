(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{164:function(_,t,v){"use strict";v.r(t);var e=v(0),i=Object(e.a)({},function(){var _=this,t=_.$createElement,v=_._self._c||t;return v("div",{staticClass:"content"},[_._m(0),_._v(" "),v("p",[v("a",{attrs:{href:"https://api.calibur.tv/app/template",target:"_blank",rel:"noopener noreferrer"}},[_._v("所有模板文件"),v("OutboundLink")],1)]),_._v(" "),v("p",[v("a",{attrs:{href:"https://api.calibur.tv/app/template?version=1",target:"_blank",rel:"noopener noreferrer"}},[_._v("v1版模板文件"),v("OutboundLink")],1)]),_._v(" "),v("p",[v("a",{attrs:{href:"https://api.calibur.tv/app/template?version=1&page=notifications",target:"_blank",rel:"noopener noreferrer"}},[_._v("v1版消息通知模板"),v("OutboundLink")],1)]),_._v(" "),v("p",[_._v("传参规律：")]),_._v(" "),_._m(1),_._v(" "),v("p",[_._v("使用方法：")]),_._v(" "),v("ol",[_._m(2),_._v(" "),_._m(3),_._v(" "),_._m(4),_._v(" "),_._m(5),_._v(" "),v("li",[_._v("部分页面不需要 preload，所以没有 data 的插槽，这个时候也不需要去替换")]),_._v(" "),_._m(6),_._v(" "),v("li",[_._v("部分页面可能不需要展示标题，比如说消息通知页面，这个时候APP应该不展示 mustache 的标题")]),_._v(" "),_._m(7),_._v(" "),v("li",[_._v("设计师应该为APP提供一个统一的loading效果图，APP应该在需要 preload 的页面先展示原生的 loading 页面")]),_._v(" "),v("li",[_._v("以下 preload 的接口，详细参数请查看"),v("router-link",{attrs:{to:"/api/v1/"}},[_._v("接口文档")])],1),_._v(" "),v("li",[_._v("所有页面都要去替换 "+_._s(_.version)+" 为当前 APP 的版本号")]),_._v(" "),v("li",[_._v("所有页面都要去替换 "+_._s(_.name)+" 为当前系统的名称"),v("code",[_._v("ios")]),_._v("或"),v("code",[_._v("Android")]),_._v("（大小写不敏感）")])]),_._v(" "),v("p",[_._v("各个页面介绍（"),v("router-link",{attrs:{to:"/api/v1/"}},[_._v("接口文档")]),_._v("）:")],1),_._v(" "),_._m(8)])},[function(){var _=this.$createElement,t=this._self._c||_;return t("h2",{attrs:{id:"html-模板参数文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#html-模板参数文档","aria-hidden":"true"}},[this._v("#")]),this._v(" html 模板参数文档")])},function(){var _=this,t=_.$createElement,v=_._self._c||t;return v("ol",[v("li",[v("code",[_._v("API")]),_._v("："),v("code",[_._v("https://api.calibur.tv/app/template")])]),_._v(" "),v("li",[v("code",[_._v("params")]),_._v(": 如果传了"),v("code",[_._v("version")]),_._v("，就发放指定版本的所有模板，如果传了"),v("code",[_._v("version")]),_._v("和"),v("code",[_._v("page")]),_._v("就显示当前页面当前版本的模板")])])},function(){var _=this.$createElement,t=this._self._c||_;return t("li",[this._v("模板文件只会有两个需要替换的地方："),t("code",[this._v("{ { { data } } }")]),this._v(" 和 "),t("code",[this._v("{ { token } }")])])},function(){var _=this.$createElement,t=this._self._c||_;return t("li",[t("code",[this._v("token")]),this._v(" 指的是 JWT-AUTH-TOKEN，在网络请求的请求头里面有")])},function(){var _=this.$createElement,t=this._self._c||_;return t("li",[t("code",[this._v("data")]),this._v(" 是你在 preload 当前页面时要去调用的接口返回数据")])},function(){var _=this.$createElement,t=this._self._c||_;return t("li",[this._v("所有页面都有"),t("code",[this._v("token")]),this._v("，需要去替换")])},function(){var _=this.$createElement,t=this._self._c||_;return t("li",[this._v("模板提供了最基础的页面标题，如果这个页面是需要传"),t("code",[this._v("id")]),this._v("才能访问的，那么这个标题就应该由APP来复写")])},function(){var _=this.$createElement,t=this._self._c||_;return t("li",[t("strong",[this._v("如果上面的逻辑导致代码书写太麻烦，那就可以修改，做到统一处理")])])},function(){var _=this,t=_.$createElement,v=_._self._c||t;return v("ol",[v("li",[_._v("帖子详情页\n"),v("ol",[v("li",[v("strong",[_._v("page")]),_._v("：post")]),_._v(" "),v("li",[v("strong",[_._v("preload")]),_._v("："),v("code",[_._v("/post/${id}/show")])])])]),_._v(" "),v("li",[_._v("图片详情页\n"),v("ol",[v("li",[v("strong",[_._v("page")]),_._v("：image")]),_._v(" "),v("li",[v("strong",[_._v("preload")]),_._v("："),v("code",[_._v("/image/${id}/show")])]),_._v(" "),v("li",[_._v("Android 用这个模板替换相册页面，不替换漫画阅读器页面")])])]),_._v(" "),v("li",[_._v("漫评详情页\n"),v("ol",[v("li",[v("strong",[_._v("page")]),_._v("：review")]),_._v(" "),v("li",[v("strong",[_._v("preload")]),_._v("："),v("code",[_._v("/review/${id}/show")])])])]),_._v(" "),v("li",[_._v("消息通知页\n"),v("ol",[v("li",[v("strong",[_._v("page")]),_._v("：notification")]),_._v(" "),v("li",[v("strong",[_._v("preload")]),_._v("："),v("code",[_._v("/user/notification/list")])]),_._v(" "),v("li",[_._v("因为这个页面放在了主tab上，所以最好是APP进入后，网络不阻塞后去加载一次")])])]),_._v(" "),v("li",[_._v("我的收藏页\n"),v("ol",[v("li",[v("strong",[_._v("page")]),_._v("：bookmarks")]),_._v(" "),v("li",[v("strong",[_._v("preload")]),_._v("：无")])])]),_._v(" "),v("li",[_._v("公告页面\n"),v("ol",[v("li",[v("strong",[_._v("page")]),_._v("：notice")]),_._v(" "),v("li",[v("strong",[_._v("preload")]),_._v("：无")])])]),_._v(" "),v("li",[_._v("编辑器页面\n"),v("ol",[v("li",[v("strong",[_._v("page")]),_._v("：editor")]),_._v(" "),v("li",[v("strong",[_._v("preload")]),_._v("：这个版本先不加这个页面，之后再讨论")])])]),_._v(" "),v("li",[_._v("交易记录页\n"),v("ol",[v("li",[v("strong",[_._v("page")]),_._v("：transactions")]),_._v(" "),v("li",[v("strong",[_._v("preload")]),_._v("："),v("code",[_._v("/user/transactions")])])])]),_._v(" "),v("li",[_._v("偶像详情页\n"),v("ol",[v("li",[v("strong",[_._v("page")]),_._v(": role")]),_._v(" "),v("li",[v("strong",[_._v("preload")]),_._v(": "),v("code",[_._v("/cartoon_role/${id}/show")]),_._v("\n10.我的个人页")]),_._v(" "),v("li",[v("strong",[_._v("page")]),_._v(": home")]),_._v(" "),v("li",[v("strong",[_._v("preload")]),_._v(": 无")])])]),_._v(" "),v("li",[_._v("评论详情页\n"),v("ol",[v("li",[v("strong",[_._v("comment")]),_._v(": comment")]),_._v(" "),v("li",[v("strong",[_._v("preload")]),_._v(": "),v("code",[_._v("/comment/item")])])])])])}],!1,null,null,null);t.default=i.exports}}]);